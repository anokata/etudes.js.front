"use strict";(self.webpackChunkng_shop=self.webpackChunkng_shop||[]).push([[699],{4699:(Zt,h,a)=>{a.r(h),a.d(h,{AdminModule:()=>ft});var d=a(8583),s=a(9798),t=a(8720),_=a(8338);const v=function(){return["/admin/","dashboard"]},T=function(){return["/admin/","add"]},A=function(){return["/admin/","orders"]};function q(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"ul"),t.TgZ(1,"li",5),t.TgZ(2,"a",6),t._uU(3,"Dashboard"),t.qZA(),t.qZA(),t.TgZ(4,"li",5),t.TgZ(5,"a",6),t._uU(6,"Add product"),t.qZA(),t.qZA(),t.TgZ(7,"li",5),t.TgZ(8,"a",6),t._uU(9,"Orders"),t.qZA(),t.qZA(),t.TgZ(10,"li",5),t.TgZ(11,"a",7),t.NdJ("click",function(l){return t.CHM(e),t.oxw().logout(l)}),t._uU(12,"Logout"),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(2),t.Q6J("routerLink",t.DdM(3,v)),t.xp6(3),t.Q6J("routerLink",t.DdM(4,T)),t.xp6(3),t.Q6J("routerLink",t.DdM(5,A)))}const b=function(){return["/admin/","login"]};function x(o,i){1&o&&(t.TgZ(0,"ul"),t.TgZ(1,"li",5),t.TgZ(2,"a",6),t._uU(3,"Login"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,b)))}let C=(()=>{class o{constructor(e,n){this.auth=e,this.router=n}ngOnInit(){}logout(e){null==e||e.preventDefault(),this.auth.logout(),this.router.navigate(["/admin","login"])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.e),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin-layout"]],decls:9,vars:2,consts:[[1,"navbar","bg-dark"],["routerLink","/"],[4,"ngIf","ngIfElse"],["login",""],[1,"container"],["routerLinkActive","active"],[3,"routerLink"],["href","#",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"nav",0),t.TgZ(1,"h1"),t.TgZ(2,"a",1),t._uU(3,"Online shop"),t.qZA(),t.qZA(),t.YNc(4,q,13,6,"ul",2),t.YNc(5,x,4,2,"ng-template",null,3,t.W1O),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"router-outlet"),t.qZA()),2&e){const l=t.MAs(6);t.xp6(4),t.Q6J("ngIf",n.auth.isAuthenticated())("ngIfElse",l)}},directives:[s.yS,d.O5,s.lC,s.Od],styles:[""]}),o})();var r=a(665);function U(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Enter Email"),t.qZA())}function I(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Enter valid Email"),t.qZA())}function N(o,i){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,U,2,0,"small",9),t.YNc(2,I,2,0,"small",9),t.qZA()),2&o){const e=t.oxw();let n,l;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("email"))||null==n.errors?null:n.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=e.form.get("email"))||null==l.errors?null:l.errors.email)}}function P(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Enter Password"),t.qZA())}function w(o,i){if(1&o&&(t.TgZ(0,"small"),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.AsE(" Passwor must be at least ",null==(n=e.form.get("password"))||null==n.errors?null:n.errors.minlength.requiredLength," characters. Now he ",null==(n=e.form.get("password"))||null==n.errors?null:n.errors.minlength.actualLength," ")}}function y(o,i){if(1&o&&(t.TgZ(0,"div",8),t.YNc(1,P,2,0,"small",9),t.YNc(2,w,2,2,"small",9),t.qZA()),2&o){const e=t.oxw();let n,l;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("password"))||null==n.errors?null:n.errors.required),t.xp6(1),t.Q6J("ngIf",null==(l=e.form.get("password"))||null==l.errors?null:l.errors.minlength)}}let J=(()=>{class o{constructor(e,n){this.auth=e,this.router=n,this.submitted=!1}ngOnInit(){this.form=new r.cw({email:new r.NI(null,[r.kI.required,r.kI.email]),password:new r.NI(null,[r.kI.required,r.kI.minLength(6)])})}submit(){this.form.invalid||(this.submitted=!0,this.auth.login({email:this.form.value.email,password:this.form.value.password,returnSecureToken:!0}).subscribe(n=>{this.form.reset(),this.router.navigate(["/admin","dashboard"]),this.submitted=!1},()=>{this.submitted=!1}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(_.e),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login-page"]],decls:15,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"form-control"],["for","email"],["id","email","type","email","formControlName","email"],["class","validation",4,"ngIf"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(e,n){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(1,"h2"),t._uU(2,"Login as admin"),t.qZA(),t.TgZ(3,"div",1),t.TgZ(4,"label",2),t._uU(5,"Email"),t.qZA(),t._UZ(6,"input",3),t.YNc(7,N,3,2,"div",4),t.qZA(),t.TgZ(8,"div",1),t.TgZ(9,"label",5),t._uU(10,"Password"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,y,3,2,"div",4),t.qZA(),t.TgZ(13,"button",7),t._uU(14,"Logon"),t.qZA(),t.qZA()),2&e){let l,u;t.Q6J("formGroup",n.form),t.xp6(7),t.Q6J("ngIf",(null==(l=n.form.get("email"))?null:l.touched)&&(null==(l=n.form.get("email"))?null:l.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(u=n.form.get("password"))?null:u.touched)&&(null==(u=n.form.get("password"))?null:u.invalid)),t.xp6(1),t.Q6J("disabled",(null==n.form?null:n.form.invalid)||n.submitted)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,d.O5],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}"]}),o})();var f=a(266);let Y=(()=>{class o{transform(e,n=""){return n.trim()?e.filter(l=>{var u;return null===(u=l.title)||void 0===u?void 0:u.toLowerCase().includes(n.toLowerCase())}):e}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275pipe=t.Yjl({name:"search",type:o,pure:!0}),o})();const O=function(o){return["/admin","product",o,"edit"]};function Q(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td"),t.TgZ(11,"button",7),t._uU(12,"Open"),t.qZA(),t.qZA(),t.TgZ(13,"td"),t.TgZ(14,"button",8),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw(2).remove(u.id)}),t._uU(15,"Delete"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=i.$implicit,n=i.index;t.xp6(2),t.hij(" ",n+1,""),t.xp6(2),t.hij(" ",e.title,""),t.xp6(2),t.hij(" ",e.price,""),t.xp6(2),t.hij(" ",t.xi3(9,5,e.date,"short"),""),t.xp6(3),t.Q6J("routerLink",t.VKq(8,O,e.id))}}function L(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"h2",3),t._uU(2,"Dashboard of products"),t.qZA(),t.TgZ(3,"div",4),t.TgZ(4,"input",5),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productName=l}),t.qZA(),t.qZA(),t.TgZ(5,"table"),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th"),t._uU(9,"ID"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Price"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Date of creation"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Open"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Delete"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"tbody"),t.YNc(21,Q,16,10,"tr",6),t.ALo(22,"search"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.productName),t.xp6(17),t.Q6J("ngForOf",t.xi3(22,2,e.products,e.productName))}}function S(o,i){1&o&&(t.TgZ(0,"p",3),t._uU(1,"loading"),t.qZA())}let E=(()=>{class o{constructor(e){this.productService=e,this.products=[]}ngOnInit(){this.getProducts()}getProducts(){this.productSub=this.productService.getAll().subscribe(e=>{this.products=e})}ngOnDestroy(){this.productSub&&this.productSub.unsubscribe(),this.removeSub&&this.removeSub.unsubscribe()}remove(e){void 0!==e&&(this.removeSub=this.productService.remove(e).subscribe(()=>{this.products=this.products.filter(n=>n.id!==e)}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard-page"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["loading",""],[1,"container"],[1,"text-center"],[1,"form-control"],["type","text","placeholder","Find a product...",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){if(1&e&&(t.YNc(0,L,23,5,"div",0),t.YNc(1,S,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",n.products.length)("ngIfElse",l)}},directives:[d.O5,r.Fj,r.JJ,r.On,d.sg,s.rH],pipes:[Y,d.uU],styles:["tr[_ngcontent-%COMP%]:hover{background-color:#ebebeb;transition:all .1s}"]}),o})();var Z=a(1259);function k(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product type"),t.qZA())}function F(o,i){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,k,2,0,"small",21),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("type"))||null==n.errors?null:n.errors.required)}}function M(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Enter product title"),t.qZA())}function D(o,i){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,M,2,0,"small",21),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("title"))||null==n.errors?null:n.errors.required)}}function G(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product photo"),t.qZA())}function j(o,i){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,G,2,0,"small",21),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("photo"))||null==n.errors?null:n.errors.required)}}function B(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product info"),t.qZA())}function X(o,i){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,B,2,0,"small",21),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("info"))||null==n.errors?null:n.errors.required)}}function H(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product price"),t.qZA())}function z(o,i){if(1&o&&(t.TgZ(0,"div",20),t.YNc(1,H,2,0,"small",21),t.qZA()),2&o){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("price"))||null==n.errors?null:n.errors.required)}}let W=(()=>{class o{constructor(e,n){this.productService=e,this.router=n,this.submitted=!1}ngOnInit(){this.form=new r.cw({type:new r.NI(null,r.kI.required),title:new r.NI(null,r.kI.required),photo:new r.NI(null,r.kI.required),info:new r.NI(null,r.kI.required),price:new r.NI(null,r.kI.required)})}submit(){if(this.form.invalid)return;this.submitted=!0;const e={type:this.form.value.type,title:this.form.value.title,photo:this.form.value.photo,info:this.form.value.info,price:this.form.value.price,date:new Date};this.productService.create(e).subscribe(n=>{this.form.reset(),this.submitted=!1,this.router.navigate(["/admin","dashboard"])})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.M),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-page"]],decls:40,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"form-control"],["for","type"],["formControlName","type"],["value","Game"],["value","Sword"],["value","Boots"],["value","Guns"],["value","Cloth"],["class","validation",4,"ngIf"],["for","title"],["id","title","title","title","formControlName","title"],["for","photo"],["formControlName","photo"],["for","info"],["formControlName","info"],["for","price"],["id","price","price","price","formControlName","price"],["info","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(e,n){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.submit()}),t.TgZ(1,"h2",1),t._uU(2,"Add product"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"label",3),t._uU(5,"type"),t.qZA(),t.TgZ(6,"select",4),t.TgZ(7,"option",5),t._uU(8,"Game"),t.qZA(),t.TgZ(9,"option",6),t._uU(10,"Sword"),t.qZA(),t.TgZ(11,"option",7),t._uU(12,"Boots"),t.qZA(),t.TgZ(13,"option",8),t._uU(14,"Guns"),t.qZA(),t.TgZ(15,"option",9),t._uU(16,"Cloth"),t.qZA(),t.qZA(),t.YNc(17,F,2,1,"div",10),t.qZA(),t.TgZ(18,"div",2),t.TgZ(19,"label",11),t._uU(20,"title"),t.qZA(),t._UZ(21,"input",12),t.YNc(22,D,2,1,"div",10),t.qZA(),t.TgZ(23,"div",2),t.TgZ(24,"label",13),t._uU(25,"photo"),t.qZA(),t._UZ(26,"quill-editor",14),t.YNc(27,j,2,1,"div",10),t.qZA(),t.TgZ(28,"div",2),t.TgZ(29,"label",15),t._uU(30,"info"),t.qZA(),t._UZ(31,"quill-editor",16),t.YNc(32,X,2,1,"div",10),t.qZA(),t.TgZ(33,"div",2),t.TgZ(34,"label",17),t._uU(35,"price"),t.qZA(),t._UZ(36,"input",18),t.YNc(37,z,2,1,"div",10),t.qZA(),t.TgZ(38,"button",19),t._uU(39,"Add"),t.qZA(),t.qZA()),2&e){let l,u,c,p,g;t.Q6J("formGroup",n.form),t.xp6(17),t.Q6J("ngIf",(null==(l=n.form.get("type"))?null:l.touched)&&(null==(l=n.form.get("type"))?null:l.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(u=n.form.get("title"))?null:u.touched)&&(null==(u=n.form.get("title"))?null:u.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(c=n.form.get("photo"))?null:c.touched)&&(null==(c=n.form.get("photo"))?null:c.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(p=n.form.get("info"))?null:p.touched)&&(null==(p=n.form.get("info"))?null:p.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(g=n.form.get("price"))?null:g.touched)&&(null==(g=n.form.get("price"))?null:g.invalid)),t.xp6(1),t.Q6J("disabled",(null==n.form?null:n.form.invalid)||n.submitted)}},directives:[r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr,d.O5,r.Fj,Z.g6],styles:[""]}),o})();var $=a(1390);function K(o,i){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(e.title)}}function R(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t.YNc(11,K,2,1,"div",4),t.qZA(),t.TgZ(12,"td"),t.TgZ(13,"div",3),t._uU(14),t.qZA(),t.TgZ(15,"div",3),t._uU(16),t.qZA(),t.qZA(),t.TgZ(17,"td"),t.TgZ(18,"button",5),t.NdJ("click",function(){const u=t.CHM(e).$implicit;return t.oxw(2).remove(u.id)}),t._uU(19,"Completed"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,7,e.date,"medium"),""),t.xp6(3),t.hij(" ",e.phone,""),t.xp6(2),t.hij(" ",e.name,""),t.xp6(2),t.hij(" ",e.address,""),t.xp6(2),t.Q6J("ngForOf",e.products),t.xp6(3),t.hij("",e.price," $"),t.xp6(2),t.Oqu(e.payment)}}function V(o,i){if(1&o&&(t.TgZ(0,"div",2),t.TgZ(1,"h2",3),t._uU(2,"Table of orders"),t.qZA(),t.TgZ(3,"table"),t.TgZ(4,"thead"),t.TgZ(5,"tr"),t.TgZ(6,"th"),t._uU(7,"Data"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Phone"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Address"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Products"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Price"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"tbody"),t.YNc(21,R,20,10,"tr",4),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(21),t.Q6J("ngForOf",e.orders)}}function tt(o,i){1&o&&(t.TgZ(0,"p",3),t._uU(1,"no orders"),t.qZA())}let et=(()=>{class o{constructor(e){this.ordersService=e,this.orders=[]}ngOnInit(){this.getorders()}getorders(){this.orderSub=this.ordersService.getAll().subscribe(e=>{this.orders=e})}ngOnDestroy(){this.orderSub&&this.orderSub.unsubscribe(),this.removeSub&&this.removeSub.unsubscribe()}remove(e){void 0!==e&&(this.removeSub=this.ordersService.remove(e).subscribe(()=>{this.orders=this.orders.filter(n=>n.id!==e)}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36($.p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-orders-page"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["noOrders",""],[1,"container"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){if(1&e&&(t.YNc(0,V,22,1,"div",0),t.YNc(1,tt,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",n.orders.length)("ngIfElse",l)}},directives:[d.O5,d.sg],pipes:[d.uU],styles:[""]}),o})();var ot=a(3190);function nt(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product type"),t.qZA())}function it(o,i){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,nt,2,0,"small",23),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("type"))||null==n.errors?null:n.errors.required)}}function rt(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Enter product title"),t.qZA())}function lt(o,i){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,rt,2,0,"small",23),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("title"))||null==n.errors?null:n.errors.required)}}function ut(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product photo"),t.qZA())}function st(o,i){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,ut,2,0,"small",23),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("photo"))||null==n.errors?null:n.errors.required)}}function at(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product info"),t.qZA())}function dt(o,i){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,at,2,0,"small",23),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("info"))||null==n.errors?null:n.errors.required)}}function ct(o,i){1&o&&(t.TgZ(0,"small"),t._uU(1,"Choose product price"),t.qZA())}function pt(o,i){if(1&o&&(t.TgZ(0,"div",22),t.YNc(1,ct,2,0,"small",23),t.qZA()),2&o){const e=t.oxw(2);let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.form.get("price"))||null==n.errors?null:n.errors.required)}}function mt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"form",2),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().submit()}),t.TgZ(2,"h2",3),t._uU(3,"Update product"),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"label",5),t._uU(6,"type"),t.qZA(),t.TgZ(7,"select",6),t.TgZ(8,"option",7),t._uU(9,"Game"),t.qZA(),t.TgZ(10,"option",8),t._uU(11,"Sword"),t.qZA(),t.TgZ(12,"option",9),t._uU(13,"Boots"),t.qZA(),t.TgZ(14,"option",10),t._uU(15,"Guns"),t.qZA(),t.TgZ(16,"option",11),t._uU(17,"Cloth"),t.qZA(),t.qZA(),t.YNc(18,it,2,1,"div",12),t.qZA(),t.TgZ(19,"div",4),t.TgZ(20,"label",13),t._uU(21,"title"),t.qZA(),t._UZ(22,"input",14),t.YNc(23,lt,2,1,"div",12),t.qZA(),t.TgZ(24,"div",4),t.TgZ(25,"label",15),t._uU(26,"photo"),t.qZA(),t._UZ(27,"quill-editor",16),t.YNc(28,st,2,1,"div",12),t.qZA(),t.TgZ(29,"div",4),t.TgZ(30,"label",17),t._uU(31,"info"),t.qZA(),t._UZ(32,"quill-editor",18),t.YNc(33,dt,2,1,"div",12),t.qZA(),t.TgZ(34,"div",4),t.TgZ(35,"label",19),t._uU(36,"price"),t.qZA(),t._UZ(37,"input",20),t.YNc(38,pt,2,1,"div",12),t.qZA(),t.TgZ(39,"button",21),t._uU(40,"Update"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();let n,l,u,c,p;t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(17),t.Q6J("ngIf",(null==(n=e.form.get("type"))?null:n.touched)&&(null==(n=e.form.get("type"))?null:n.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(l=e.form.get("title"))?null:l.touched)&&(null==(l=e.form.get("title"))?null:l.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(u=e.form.get("photo"))?null:u.touched)&&(null==(u=e.form.get("photo"))?null:u.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(c=e.form.get("info"))?null:c.touched)&&(null==(c=e.form.get("info"))?null:c.invalid)),t.xp6(5),t.Q6J("ngIf",(null==(p=e.form.get("price"))?null:p.touched)&&(null==(p=e.form.get("price"))?null:p.invalid)),t.xp6(1),t.Q6J("disabled",(null==e.form?null:e.form.invalid)||e.submitted)}}function gt(o,i){1&o&&(t.TgZ(0,"p",3),t._uU(1,"loading..."),t.qZA())}let _t=(()=>{class o{constructor(e,n,l){this.route=e,this.productService=n,this.router=l,this.submitted=!1}ngOnInit(){this.route.params.pipe((0,ot.w)(e=>this.productService.getById(e.id))).subscribe(e=>{this.product=e,this.form=new r.cw({type:new r.NI(this.product.type,r.kI.required),title:new r.NI(this.product.title,r.kI.required),photo:new r.NI(this.product.photo,r.kI.required),info:new r.NI(this.product.info,r.kI.required),price:new r.NI(this.product.price,r.kI.required)})})}submit(){this.form.invalid||(this.submitted=!0,this.productService.udpate(Object.assign(Object.assign({},this.product),{type:this.form.value.type,title:this.form.value.title,photo:this.form.value.photo,info:this.form.value.info,price:this.form.value.price,date:new Date})).subscribe(e=>{this.submitted=!1,this.router.navigate(["/admin","dashboard"])}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.gz),t.Y36(f.M),t.Y36(s.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-edit-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"formGroup","ngSubmit"],[1,"text-center"],[1,"form-control"],["for","type"],["formControlName","type"],["value","Game"],["value","Sword"],["value","Boots"],["value","Guns"],["value","Cloth"],["class","validation",4,"ngIf"],["for","title"],["id","title","title","title","formControlName","title"],["for","photo"],["formControlName","photo"],["for","info"],["formControlName","info"],["for","price"],["id","price","price","price","formControlName","price"],["info","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[1,"validation"],[4,"ngIf"]],template:function(e,n){if(1&e&&(t.YNc(0,mt,41,7,"div",0),t.YNc(1,gt,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",n.form)("ngIfElse",l)}},directives:[d.O5,r._Y,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr,r.Fj,Z.g6],styles:[""]}),o})(),m=(()=>{class o{constructor(e,n){this.auth=e,this.router=n}canActivate(e,n){return!!this.auth.isAuthenticated()||(this.auth.logout(),this.router.navigate(["/admin","login"]),!1)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(_.e),t.LFG(s.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ft=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,r.u5,r.UX,s.Bz.forChild([{path:"",component:C,children:[{path:"",redirectTo:"/admin/login",pathMatch:"full"},{path:"login",component:J},{path:"dashboard",component:E,canActivate:[m]},{path:"add",component:W,canActivate:[m]},{path:"orders",component:et,canActivate:[m]},{path:"product/:id/edit",component:_t,canActivate:[m]}]}]),Z.fi.forRoot()],s.Bz]}),o})()}}]);