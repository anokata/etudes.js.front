(self.webpackChunkng_hw_mtnt=self.webpackChunkng_hw_mtnt||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,s=new Promise(function(s,o){n(i=t[e].apply(t,r)).then(s,o)});return s.request=i,s}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new u(t,i.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function l(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function f(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),l(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(u,"_cursor",["direction","key","primaryKey","value"]),o(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new u(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),l(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),s=i.request;return s&&(s.onupgradeneeded=function(t){n&&n(new p(s.result,t.oldVersion,s.transaction))}),i.then(function(t){return new f(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},9568:function(t,e,n){"use strict";function r(t){return"function"==typeof t}let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){e=a instanceof u?d(a.errors):[a]}}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(a){e=e||[],a instanceof u?e=e.concat(d(a.errors)):e.push(a)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function _(...t){return v(t)}function v(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let b=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:v(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const S=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends f{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new b;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}function x(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(t,e))}}class A{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new R(t,this.project,this.thisArg))}}class R extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const D=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function O(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=O(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function L(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[g])return n=t,t=>{const e=n[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(N(t))return D(t);if(L(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[P])return e=t,t=>{const n=e[P]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function F(t,e){return new b(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[g]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(L(t))return function(t,e){return new b(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return F(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new b(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof b?t:new b(M(t))}class U extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function B(t,e){if(e.closed)return;if(t instanceof b)return t.subscribe(e);let n;try{n=M(t)(e)}catch(r){e.error(r)}return n}function z(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(z((n,r)=>V(t(n,r)).pipe(x((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new q(t,n)))}class q{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends j{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new U(this),n=this.destination;n.add(e);const r=B(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return z(y,t)}function K(t,e){return e?F(t,e):new b(D(t))}function W(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof b?t[0]:H(e)(K(t,n))}function G(){return function(t){return t.lift(new Q(t))}}class Q{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Y extends b{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const X=(()=>{const t=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new k}function et(){return t=>{return G()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}}function nt(t){for(let e in t)if(t[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function rt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function st(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ot=nt({__forward_ref__:nt});function at(t){return t.__forward_ref__=at,t.toString=function(){return it(this())},t}function lt(t){return ct(t)?t():t}function ct(t){return"function"==typeof t&&t.hasOwnProperty(ot)&&t.__forward_ref__===at}class ut extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ht(t){return"string"==typeof t?t:null==t?"":String(t)}function dt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ht(t)}function pt(t,e){const n=e?` in ${e}`:"";throw new ut("201",`No provider for ${dt(t)} found${n}`)}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gt(t){return yt(t,vt)||yt(t,wt)}function yt(t,e){return t.hasOwnProperty(e)?t[e]:null}function _t(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(St))?t[bt]:null}const vt=nt({"\u0275prov":nt}),bt=nt({"\u0275inj":nt}),wt=nt({ngInjectableDef:nt}),St=nt({ngInjectorDef:nt});var Et=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Ct;function kt(t){const e=Ct;return Ct=t,e}function Tt(t,e,n){const r=gt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Et.Optional?null:void 0!==e?e:void pt(it(t),"Injector")}function It(t){return{toString:t}.toString()}var xt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),At=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Rt="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pt="undefined"!=typeof global&&global,Nt=Rt||Pt||Dt||Ot,Lt={},Mt=[],Ft=nt({"\u0275cmp":nt}),Vt=nt({"\u0275dir":nt}),Ut=nt({"\u0275pipe":nt}),jt=nt({"\u0275mod":nt}),Bt=nt({"\u0275loc":nt}),zt=nt({"\u0275fac":nt}),qt=nt({__NG_ELEMENT_ID__:nt});let $t=0;function Ht(t){return It(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,id:"c",styles:t.styles||Mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=$t++,n.inputs=Zt(t.inputs,e),n.outputs=Zt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Kt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wt):null,n})}function Kt(t){return Jt(t)||function(t){return t[Vt]||null}(t)}function Wt(t){return function(t){return t[Ut]||null}(t)}const Gt={};function Qt(t){return It(()=>{const e={type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Gt[t.id]=t.type),e})}function Zt(t,e){if(null==t)return Lt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Yt=Ht;function Xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jt(t){return t[Ft]||null}function te(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function ee(t){return Array.isArray(t)&&"object"==typeof t[1]}function ne(t){return Array.isArray(t)&&!0===t[1]}function re(t){return 0!=(8&t.flags)}function ie(t){return 2==(2&t.flags)}function se(t){return 1==(1&t.flags)}function oe(t){return null!==t.template}function ae(t,e){return t.hasOwnProperty(zt)?t[zt]:null}class le{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ce(){return ue}function ue(t){return t.type.prototype.ngOnChanges&&(t.setInput=de),he}function he(){const t=pe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Lt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function de(t,e,n,r){const i=pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Lt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new le(l&&l.currentValue,e,o===Lt),t[r]=e}function pe(t){return t.__ngSimpleChanges__||null}let fe;function me(t){return!!t.listen}ce.ngInherit=!0;const ge={createRenderer:(t,e)=>void 0!==fe?fe:"undefined"!=typeof document?document:void 0};function ye(t){for(;Array.isArray(t);)t=t[0];return t}function _e(t,e){return ye(e[t])}function ve(t,e){return ye(e[t.index])}function be(t,e){return t.data[e]}function we(t,e){return t[e]}function Se(t,e){const n=e[t];return ee(n)?n:n[0]}function Ee(t){return 4==(4&t[2])}function Ce(t){return 128==(128&t[2])}function ke(t,e){return null==e?null:t[e]}function Te(t){t[18]=0}function Ie(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const xe={lFrame:Je(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ae(){return xe.bindingsEnabled}function Re(){return xe.lFrame.lView}function De(){return xe.lFrame.tView}function Oe(t){return xe.lFrame.contextLView=t,t[8]}function Pe(){let t=Ne();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ne(){return xe.lFrame.currentTNode}function Le(t,e){const n=xe.lFrame;n.currentTNode=t,n.isParent=e}function Me(){return xe.lFrame.isParent}function Fe(){xe.lFrame.isParent=!1}function Ve(){return xe.isInCheckNoChangesMode}function Ue(t){xe.isInCheckNoChangesMode=t}function je(){const t=xe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Be(){return xe.lFrame.bindingIndex}function ze(){return xe.lFrame.bindingIndex++}function qe(t){const e=xe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function $e(t,e){const n=xe.lFrame;n.bindingIndex=n.bindingRootIndex=t,He(e)}function He(t){xe.lFrame.currentDirectiveIndex=t}function Ke(t){const e=xe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function We(){return xe.lFrame.currentQueryIndex}function Ge(t){xe.lFrame.currentQueryIndex=t}function Qe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ze(t,e,n){if(n&Et.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Et.Host||(r=Qe(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=xe.lFrame=Xe();return r.currentTNode=e,r.lView=t,!0}function Ye(t){const e=Xe(),n=t[1];xe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Xe(){const t=xe.lFrame,e=null===t?null:t.child;return null===e?Je(t):e}function Je(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function tn(){const t=xe.lFrame;return xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const en=tn;function nn(){const t=tn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rn(){return xe.lFrame.selectedIndex}function sn(t){xe.lFrame.selectedIndex=t}function on(){const t=xe.lFrame;return be(t.tView,t.selectedIndex)}function an(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ln(t,e,n){hn(t,e,3,n)}function cn(t,e,n,r){(3&t[2])===n&&hn(t,e,n,r)}function un(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function hn(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(dn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function dn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class pn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function fn(t,e,n){const r=me(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];gn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function mn(t){return 3===t||4===t||6===t}function gn(t){return 64===t.charCodeAt(0)}function yn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||_n(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function _n(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function vn(t){return-1!==t}function bn(t){return 32767&t}function wn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Sn=!0;function En(t){const e=Sn;return Sn=t,e}let Cn=0;function kn(t,e){const n=In(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Tn(r.data,t),Tn(e,null),Tn(r.blueprint,null));const i=xn(t,e),s=t.injectorIndex;if(vn(i)){const t=bn(i),n=wn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Tn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function In(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function xn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function An(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qt)&&(r=n[qt]),null==r&&(r=n[qt]=Cn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Rn(t,e,n){if(n&Et.Optional)return t;pt(e,"NodeInjector")}function Dn(t,e,n,r){if(n&Et.Optional&&void 0===r&&(r=null),0==(n&(Et.Self|Et.Host))){const i=t[9],s=kt(void 0);try{return i?i.get(e,r,n&Et.Optional):Tt(e,r,n&Et.Optional)}finally{kt(s)}}return Rn(r,e,n)}function On(t,e,n,r=Et.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(qt)?t[qt]:void 0;return"number"==typeof e?e>=0?255&e:Nn:e}(n);if("function"==typeof s){if(!Ze(e,t,r))return r&Et.Host?Rn(i,n,r):Dn(e,n,r,i);try{const t=s(r);if(null!=t||r&Et.Optional)return t;pt(n)}finally{en()}}else if("number"==typeof s){let i=null,o=In(t,e),a=-1,l=r&Et.Host?e[16][6]:null;for((-1===o||r&Et.SkipSelf)&&(a=-1===o?xn(t,e):e[o+8],-1!==a&&Un(r,!1)?(i=e[1],o=bn(a),e=wn(a,e)):o=-1);-1!==o;){const t=e[1];if(Vn(s,o,t.data)){const t=Ln(o,e,n,i,r,l);if(t!==Pn)return t}a=e[o+8],-1!==a&&Un(r,e[1].data[o+8]===l)&&Vn(s,o,e)?(i=t,o=bn(a),e=wn(a,e)):o=-1}}}return Dn(e,n,r,i)}const Pn={};function Nn(){return new jn(Pe(),Re())}function Ln(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Mn(a,o,n,null==r?ie(a)&&Sn:r!=o&&0!=(3&a.type),i&Et.Host&&s===a);return null!==l?Fn(e,o,l,a):Pn}function Mn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=o[l];if(t&&oe(t)&&t.type===n)return l}return null}function Fn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof pn){const o=i;o.resolving&&function(t,e){throw new ut("200",`Circular dependency in DI detected for ${t}`)}(dt(s[n]));const a=En(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?kt(o.injectImpl):null;Ze(t,r,Et.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=ue(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&kt(l),En(a),o.resolving=!1,en()}}return i}function Vn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Un(t,e){return!(t&Et.Self||t&Et.Host&&e)}class jn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return On(this._tNode,this._lView,t,void 0,e)}}function Bn(t){return It(()=>{const e=t.prototype.constructor,n=e[zt]||zn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[zt]||zn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function zn(t){return ct(t)?()=>{const e=zn(lt(t));return e&&e()}:ae(t)}function qn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(mn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Pe(),t)}function $n(t,e,n){return It(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kn=new Hn("AnalyzeForEntryComponents"),Wn=Function;function Gn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Gn(r,e)):e!==t&&e.push(r)}return e}function Qn(t,e){t.forEach(t=>Array.isArray(t)?Qn(t,e):e(t))}function Zn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Jn(t,e,n){let r=er(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tr(t,e){const n=er(t,e);if(n>=0)return t[1|n]}function er(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const nr={},rr=/\n/gm,ir=nt({provide:String,useValue:nt});let sr;function or(t){const e=sr;return sr=t,e}function ar(t,e=Et.Default){if(void 0===sr)throw new Error("inject() must be called from an injection context");return null===sr?Tt(t,void 0,e):sr.get(t,e&Et.Optional?null:void 0,e)}function lr(t,e=Et.Default){return(Ct||ar)(lt(t),e)}const cr=lr;function ur(t){const e=[];for(let n=0;n<t.length;n++){const r=lt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=Et.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(lr(t,n))}else e.push(lr(r))}return e}function hr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const dr=hr($n("Inject",t=>({token:t})),-1),pr=hr($n("Optional"),8),fr=hr($n("SkipSelf"),4);let mr;function gr(t){var e;return(null===(e=function(){if(void 0===mr&&(mr=null,Nt.trustedTypes))try{mr=Nt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return mr}())||void 0===e?void 0:e.createHTML(t))||t}class yr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _r extends yr{getTypeName(){return"HTML"}}class vr extends yr{getTypeName(){return"Style"}}class br extends yr{getTypeName(){return"Script"}}class wr extends yr{getTypeName(){return"URL"}}class Sr extends yr{getTypeName(){return"ResourceURL"}}function Er(t){return t instanceof yr?t.changingThisBreaksApplicationSecurity:t}function Cr(t,e){const n=kr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function kr(t){return t instanceof yr&&t.getTypeName()||null}class Tr{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(gr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(MW){return null}}}class Ir{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=gr(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=gr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const xr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ar=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rr(t){return(t=String(t)).match(xr)||t.match(Ar)?t:"unsafe:"+t}function Dr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Pr=Dr("area,br,col,hr,img,wbr"),Nr=Dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lr=Dr("rp,rt"),Mr=Or(Lr,Nr),Fr=Or(Pr,Or(Nr,Dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Or(Lr,Dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mr),Vr=Dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ur=Dr("srcset"),jr=Or(Vr,Ur,Dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Br=Dr("script,style,template");class zr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Fr.hasOwnProperty(e))return this.sanitizedSomething=!0,!Br.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!jr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Vr[s]&&(o=Rr(o)),Ur[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Rr(t.trim())).join(", ")),this.buf.push(" ",e,'="',Hr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Fr.hasOwnProperty(e)&&!Pr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const qr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$r=/([^\#-~ |!])/g;function Hr(t){return t.replace(/&/g,"&amp;").replace(qr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($r,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kr;function Wr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Qr(t){const e=function(){const t=Re();return t&&t[12]}();return e?e.sanitize(Gr.URL,t)||"":Cr(t,"URL")?Er(t):Rr(ht(t))}function Zr(t,e){t.__ngContext__=e}function Yr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Xr(t){return t.ngDebugContext}function Jr(t){return t.ngOriginalError}function ti(t,...e){t.error(...e)}class ei{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ti}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Xr(t)?Xr(t):this._findContext(Jr(t)):null}_findOriginalError(t){let e=Jr(t);for(;e&&Jr(e);)e=Jr(e);return e}}const ni=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Nt))();function ri(t){return t instanceof Function?t():t}var ii=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function si(t,e){return(void 0)(t,e)}function oi(t){const e=t[3];return ne(e)?e[3]:e}function ai(t){return ci(t[13])}function li(t){return ci(t[4])}function ci(t){for(;null!==t&&!ne(t);)t=t[4];return t}function ui(t,e,n,r,i){if(null!=r){let s,o=!1;ne(r)?s=r:ee(r)&&(o=!0,r=r[0]);const a=ye(r);0===t&&null!==n?null==i?_i(e,n,a):yi(e,n,a,i||null,!0):1===t&&null!==n?yi(e,n,a,i||null,!0):2===t?function(t,e,n){const r=bi(t,e);r&&function(t,e,n,r){me(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==ye(n)&&ui(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];xi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function hi(t,e,n){return me(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function di(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ie(i,-1)),n.splice(r,1)}function pi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&di(s,r),e>0&&(t[n-1][4]=r[4]);const o=Yn(t,10+e);xi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function fi(t,e){if(!(256&e[2])){const n=e[11];me(n)&&n.destroyNode&&xi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return mi(t[1],t);for(;e;){let n=null;if(ee(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ee(e)&&mi(e[1],e),e=e[3];null===e&&(e=t),ee(e)&&mi(e[1],e),n=e&&e[4]}e=n}}(e)}}function mi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof pn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):ye(e[t]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&me(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ne(e[3])){n!==e[3]&&di(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function gi(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===At.None||e===At.Emulated)return null}return ve(r,n)}(t,e.parent,n)}function yi(t,e,n,r,i){me(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function _i(t,e,n){me(t)?t.appendChild(e,n):e.appendChild(n)}function vi(t,e,n,r,i){null!==r?yi(t,e,n,r,i):_i(t,e,n)}function bi(t,e){return me(t)?t.parentNode(e):e.parentNode}function wi(t,e,n){return Si(t,e,n)}let Si=function(t,e,n){return 40&t.type?ve(t,n):null};function Ei(t,e,n,r){const i=gi(t,r,e),s=e[11],o=wi(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)vi(s,i,n[a],o,!1);else vi(s,i,n,o,!1)}function Ci(t,e){if(null!==e){const n=e.type;if(3&n)return ve(e,t);if(4&n)return Ti(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Ci(t,n);{const n=t[e.index];return ne(n)?Ti(-1,n):ye(n)}}if(32&n)return si(e,t)()||ye(t[e.index]);{const n=ki(t,e);return null!==n?Array.isArray(n)?n[0]:Ci(oi(t[16]),n):Ci(t,e.next)}}return null}function ki(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ti(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Ci(t,r)}return e[7]}function Ii(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Zr(ye(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Ii(t,e,n.child,r,i,s,!1),ui(e,t,i,a,s);else if(32&l){const o=si(n,r);let l;for(;l=o();)ui(e,t,i,l,s);ui(e,t,i,a,s)}else 16&l?Ai(t,e,r,n,i,s):ui(e,t,i,a,s);n=o?n.projectionNext:n.next}}function xi(t,e,n,r,i,s){Ii(n,r,t.firstChild,e,i,s,!1)}function Ai(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)ui(e,t,i,a[l],s);else Ii(t,e,a,o[3],i,s,!0)}function Ri(t,e,n){me(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Di(t,e,n){me(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Oi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Pi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Oi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ni(t){return 4===t.type&&"ng-template"!==t.value}function Li(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function Mi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(mn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Li(t,l,n)||""===l&&1===e.length){if(Fi(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Pi(t.attrs,c,n)){if(Fi(r))return!1;o=!0}continue}const u=Vi(8&r?"class":l,i,Ni(t),n);if(-1===u){if(Fi(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Oi(e,c,0)||2&r&&c!==t){if(Fi(r))return!1;o=!0}}}}else{if(!o&&!Fi(r)&&!Fi(l))return!1;if(o&&Fi(l))continue;o=!1,r=l|1&r}}return Fi(r)||o}function Fi(t){return 0==(1&t)}function Vi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(Mi(t,e[r],n))return!0;return!1}function ji(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Bi(t,e){return t?":not("+e.trim()+")":e}function zi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Fi(o)||(e+=Bi(s,i),i=""),r=o,s=s||!Fi(r);n++}return""!==i&&(e+=Bi(s,i)),e}const qi={};function $i(t){Hi(De(),Re(),rn()+t,Ve())}function Hi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ln(e,r,n)}else{const r=t.preOrderHooks;null!==r&&cn(e,r,0,n)}sn(n)}function Ki(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function Gi(t){return 2|t}function Qi(t){return(131068&t)>>2}function Zi(t,e){return-131069&t|e<<2}function Yi(t){return 1|t}function Xi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ge(i),n.contentQueries(2,e[s],s)}}}function Ji(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Te(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function ts(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Ne(),o=Me(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),xe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=xe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Le(s,!0),s}function es(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ns(t,e,n){Ye(e);try{const r=t.viewQuery;null!==r&&Os(1,r,n);const i=t.template;null!==i&&ss(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Xi(t,e),t.staticViewQueries&&Os(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Is(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,nn()}}function rs(t,e,n,r){const i=e[2];if(256==(256&i))return;Ye(e);const s=Ve();try{Te(e),xe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ss(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ln(e,n,null)}else{const n=t.preOrderHooks;null!==n&&cn(e,n,0,null),un(e,0)}if(function(t){for(let e=ai(t);null!==e;e=li(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ie(r,1),n[2]|=1024}}}(e),function(t){for(let e=ai(t);null!==e;e=li(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ce(n)&&rs(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Xi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ln(e,n)}else{const n=t.contentHooks;null!==n&&cn(e,n,1),un(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)sn(~r);else{const i=r,s=n[++t],o=n[++t];$e(s,i),o(2,e[i])}}}finally{sn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ks(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Os(2,l,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ln(e,n)}else{const n=t.viewHooks;null!==n&&cn(e,n,2),un(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ie(e[3],-1))}finally{nn()}}function is(t,e,n,r){const i=e[10],s=!Ve(),o=Ee(e);try{s&&!o&&i.begin&&i.begin(),o&&ns(t,e,r),rs(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ss(t,e,n,r,i){const s=rn(),o=2&r;try{sn(-1),o&&e.length>20&&Hi(t,e,20,Ve()),n(r,i)}finally{sn(s)}}function os(t,e,n){if(re(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function as(t,e,n){Ae()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||kn(n,e),Zr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=oe(r);s&&ws(e,n,r);const l=Fn(e,t,a,n);Zr(l,e),null!==o&&Ss(0,a-i,l,r,0,o),s&&(Se(n.index,e)[8]=l)}}(t,e,n,ve(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=xe.lFrame.currentDirectiveIndex;try{sn(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];He(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||gs(r,i)}}finally{sn(-1),He(o)}}(t,e,n))}function ls(t,e,n=ve){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function cs(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=us(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function us(t,e,n,r,i,s,o,a,l,c){const u=20+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:qi);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function hs(t,e,n,r){const i=Ns(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ls(t).push(r,i.length-1))}function ds(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ps(t,e,n,r,i,s,o,a){const l=ve(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(Vs(t,n,c,r,i),ie(e)&&function(t,e){const n=Se(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,me(s)?s.setProperty(l,r,i):gn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function fs(t,e,n,r){let i=!1;if(Ae()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Ui(n,o.selectors,!1)&&(i||(i=[]),An(kn(n,e),t,o.type),oe(o)?(ys(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,vs(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,l=es(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=yn(n.mergedAttrs,c.hostAttrs),bs(t,n,e,l,c),_s(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,c=null===i||Ni(e)?null:Es(n,i);s.push(c),o=ds(n,l,o),a=ds(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ut("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=yn(n.mergedAttrs,n.attrs),i}function ms(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function gs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ys(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function _s(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;oe(e)&&(n[""]=t)}}function vs(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bs(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ae(i.type)),o=new pn(s,oe(i),null);t.blueprint[r]=o,n[r]=o,ms(t,e,0,r,es(t,n,i.hostVars,qi),i)}function ws(t,e,n){const r=ve(e,t),i=cs(n),s=t[10],o=xs(t,Ji(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ss(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Es(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Cs(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ks(t,e){const n=Se(e,t);if(Ce(n)){const t=n[1];80&n[2]?rs(t,n,t.template,n[8]):n[5]>0&&Ts(n)}}function Ts(t){for(let n=ai(t);null!==n;n=li(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];rs(t,e,t.template,e[8])}else e[5]>0&&Ts(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Se(e[n],t);Ce(r)&&r[5]>0&&Ts(r)}}function Is(t,e){const n=Se(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ns(r,n,n[8])}function xs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function As(t){for(;t;){t[2]|=64;const e=oi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Rs(t,e,n){const r=e[10];r.begin&&r.begin();try{rs(t,e,t.template,n)}catch(i){throw Fs(e,i),i}finally{r.end&&r.end()}}function Ds(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Yr(n),i=r[1];is(i,r,i.template,n)}}(t[8])}function Os(t,e,n){Ge(0),e(t,n)}const Ps=(()=>Promise.resolve(null))();function Ns(t){return t[7]||(t[7]=[])}function Ls(t){return t.cleanup||(t.cleanup=[])}function Ms(t,e,n){return(null===t||oe(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Fs(t,e){const n=t[9],r=n?n.get(ei,null):null;r&&r.handleError(e)}function Vs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Us(t,e,n){const r=_e(e,t);!function(t,e,n){me(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function js(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=st(i,t):2==s&&(r=st(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Bs=new Hn("INJECTOR",-1);class zs{get(t,e=nr){if(e===nr){const e=new Error(`NullInjectorError: No provider for ${it(t)}!`);throw e.name="NullInjectorError",e}return e}}const qs=new Hn("Set Injector scope."),$s={},Hs={};let Ks;function Ws(){return void 0===Ks&&(Ks=new zs),Ks}function Gs(t,e=null,n=null,r){return new Qs(t,n,e||Ws(),r)}class Qs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Qn(e,n=>this.processProvider(n,t,e)),Qn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Bs,Xs(void 0,this));const s=this.records.get(qs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:it(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=nr,n=Et.Default){this.assertNotDestroyed();const r=or(this);try{if(!(n&Et.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Hn)&&gt(t);e=n&&this.injectableDefInScope(n)?Xs(Zs(t),$s):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Et.Self?Ws():this.parent).get(t,e=n&Et.Optional&&e===nr?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(it(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):it(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rr,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{or(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(it(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=lt(t)))return!1;let r=_t(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=_t(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Qn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Qn(r,t=>this.processProvider(t,n,r||Mt))}}this.injectorDefTypes.add(s);const a=ae(s)||(()=>new s);this.records.set(s,Xs(a,$s));const l=r.providers;if(null!=l&&!o){const e=t;Qn(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=to(t=lt(t))?t:lt(t&&t.provide);const i=function(t,e,n){return Js(t)?Xs(void 0,t.useValue):Xs(Ys(t),$s)}(t);if(to(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Xs(void 0,$s,!0),e.factory=()=>ur(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===$s&&(e.value=Hs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=lt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Zs(t){const e=gt(t),n=null!==e?e.factory:ae(t);if(null!==n)return n;if(t instanceof Hn)throw new Error(`Token ${it(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Xn(e,"?");throw new Error(`Can't resolve all parameters for ${it(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[vt]||t[wt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ys(t,e,n){let r;if(to(t)){const e=lt(t);return ae(e)||Zs(e)}if(Js(t))r=()=>lt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ur(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lr(lt(t.useExisting));else{const e=lt(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ae(e)||Zs(e);r=()=>new e(...ur(t.deps))}var i;return r}function Xs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Js(t){return null!==t&&"object"==typeof t&&ir in t}function to(t){return"function"==typeof t}const eo=function(t,e,n){return function(t,e=null,n=null,r){const i=Gs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let no=(()=>{class t{static create(t,e){return Array.isArray(t)?eo(t,e,""):eo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=nr,t.NULL=new zs,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>lr(Bs)}),t.__NG_ELEMENT_ID__=-1,t})();function ro(t,e){an(Yr(t)[1],Pe())}function io(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(oe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=so(t.inputs),e.declaredInputs=so(t.declaredInputs),e.outputs=so(t.outputs);const n=i.hostBindings;n&&lo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&oo(t,s),o&&ao(t,o),rt(t.inputs,i.inputs),rt(t.declaredInputs,i.declaredInputs),rt(t.outputs,i.outputs),oe(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=yn(i.hostAttrs,n=yn(n,i.hostAttrs))}}(r)}function so(t){return t===Lt?{}:t===Mt?[]:t}function oo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ao(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function lo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let co=null;function uo(){if(!co){const t=Nt.Symbol;if(t&&t.iterator)co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(co=n)}}}return co}class ho{constructor(t){this.wrapped=t}static wrap(t){return new ho(t)}static unwrap(t){return ho.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ho}}function po(t){return!!fo(t)&&(Array.isArray(t)||!(t instanceof Map)&&uo()in t)}function fo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function mo(t,e,n){return t[e]=n}function go(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function yo(t,e,n,r){const i=go(t,e,n);return go(t,e+1,r)||i}function _o(t,e,n,r){const i=Re();return go(i,ze(),e)&&(De(),function(t,e,n,r,i,s){const o=ve(t,e);!function(t,e,n,r,i,s,o){if(null==s)me(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?ht(s):o(s,r||"",i);me(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(on(),i,t,e,n,r)),_o}function vo(t,e,n,r){return go(t,ze(),n)?e+ht(n)+r:qi}function bo(t,e,n,r,i,s,o,a){const l=Re(),c=De(),u=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=ts(e,t,4,o||null,ke(c,a));fs(e,n,u,ke(c,l)),an(e,u);const h=u.tViews=us(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];Le(h,!1);const d=l[11].createComment("");Ei(c,l,d,h),Zr(d,l),xs(l,l[u]=Cs(d,l,d,h)),se(h)&&as(c,l,h),null!=o&&ls(l,h,a)}function wo(t){return we(xe.lFrame.contextLView,20+t)}function So(t,e=Et.Default){const n=Re();return null===n?lr(t,e):On(Pe(),n,lt(t),e)}function Eo(t,e,n){const r=Re();return go(r,ze(),e)&&ps(De(),on(),r,t,e,r[11],n,!1),Eo}function Co(t,e,n,r,i){const s=i?"class":"style";Vs(t,n,e.inputs[s],s,r)}function ko(t,e,n,r){const i=Re(),s=De(),o=20+t,a=i[11],l=i[o]=hi(a,e,xe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=ts(e,t,2,i,ke(a,s));return fs(e,n,l,ke(a,o)),null!==l.attrs&&js(l,l.attrs,!1),null!==l.mergedAttrs&&js(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];Le(c,!0);const u=c.mergedAttrs;null!==u&&fn(a,l,u);const h=c.classes;null!==h&&Di(a,l,h);const d=c.styles;null!==d&&Ri(a,l,d),64!=(64&c.flags)&&Ei(s,i,l,c),0===xe.lFrame.elementDepthCount&&Zr(l,i),xe.lFrame.elementDepthCount++,se(c)&&(as(s,i,c),os(s,c,i)),null!==r&&ls(i,c)}function To(){let t=Pe();Me()?Fe():(t=t.parent,Le(t,!1));const e=t;xe.lFrame.elementDepthCount--;const n=De();n.firstCreatePass&&(an(n,t),re(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Co(n,e,Re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Co(n,e,Re(),e.stylesWithoutHost,!1)}function Io(t,e,n,r){ko(t,e,n,r),To()}function xo(t,e,n){const r=Re(),i=De(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=ke(s,r),a=ts(e,t,8,"ng-container",o);return null!==o&&js(a,o,!0),fs(e,n,a,ke(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Le(o,!0);const a=r[s]=r[11].createComment("");Ei(i,r,a,o),Zr(a,r),se(o)&&(as(i,r,o),os(i,o,r)),null!=n&&ls(r,o)}function Ao(){let t=Pe();const e=De();Me()?Fe():(t=t.parent,Le(t,!1)),e.firstCreatePass&&(an(e,t),re(t)&&e.queries.elementEnd(t))}function Ro(){return Re()}function Do(t){return!!t&&"function"==typeof t.then}function Oo(t){return!!t&&"function"==typeof t.subscribe}const Po=Oo;function No(t,e,n,r){const i=Re(),s=De(),o=Pe();return Mo(s,i,i[11],o,t,e,!!n,r),No}function Lo(t,e){const n=Pe(),r=Re(),i=De();return Mo(i,r,Ms(Ke(i.data),n,r),n,t,e,!1),Lo}function Mo(t,e,n,r,i,s,o,a){const l=se(r),c=t.firstCreatePass&&Ls(t),u=Ns(e);let h=!0;if(3&r.type||a){const d=ve(r,e),p=a?a(d):d,f=u.length,m=a?t=>a(ye(t[r.index])):r.index;if(me(n)){let o=null;if(!a&&l&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Vo(r,e,0,s,!1);const t=n.listen(p,i,s);u.push(s,t),c&&c.push(i,m,f,f+1)}}else s=Vo(r,e,0,s,!0),p.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,f,o)}else s=Vo(r,e,0,s,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function Fo(t,e,n,r){try{return!1!==n(r)}catch(i){return Fs(t,i),!1}}function Vo(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Se(t.index,e):e;0==(32&e[2])&&As(o);let a=Fo(e,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Fo(e,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Uo(t=1){return function(t){return(xe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,xe.lFrame.contextLView))[8]}(t)}function jo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Ui(t,s,!0):ji(r,s))return i}else n=i}return n}function Bo(t){const e=Re()[16][6];if(!e.projection){const n=e.projection=Xn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?jo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function zo(t,e=0,n){const r=Re(),i=De(),s=ts(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),Fe(),64!=(64&s.flags)&&function(t,e,n){Ai(e[11],0,e,n,gi(t,n,e),wi(n.parent||e[6],n,e))}(i,r,s)}function qo(t,e,n){return $o(t,"",e,"",n),qo}function $o(t,e,n,r,i){const s=Re(),o=vo(s,e,n,r);return o!==qi&&ps(De(),on(),s,t,o,s[11],i,!1),$o}function Ho(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Wi(s):Qi(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];Ko(t[a],e)&&(l=!0,t[a+1]=r?Yi(n):Gi(n)),a=r?Wi(n):Qi(n)}l&&(t[n+1]=r?Gi(s):Yi(s))}function Ko(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&er(t,e)>=0}function Wo(t,e){return function(t,e,n,r){const i=Re(),s=De(),o=qe(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const r=i[rn()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=Ke(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=Qo(n=Go(null,t,e,n,true),e.attrs,true),s=null);else{const r=e.directiveStylingLast;if(-1===r||t[r]!==i)if(n=Go(i,t,e,n,true),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==Qi(r))return t[Wi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Go(null,t,e,n[1],true),n=Qo(n,e.attrs,true),function(t,e,n,r){t[Wi(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Qo(r,t[s].hostAttrs,true);return Qo(r,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,r,e),function(t,e,n,r,i,s){let o=e.classBindings,a=Wi(o),l=Qi(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||er(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=Wi(t[a+1]);t[r+1]=Ki(e,a),0!==e&&(t[e+1]=Zi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ki(a,0),0!==a&&(t[a+1]=Zi(t[a+1],r)),a=r;else t[r+1]=Ki(l,0),0===a?a=r:t[l+1]=Zi(t[l+1],r),l=r;u&&(t[r+1]=Gi(t[r+1])),Ho(t,c,r,!0),Ho(t,c,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&er(s,e)>=0&&(n[r+1]=Yi(n[r+1]))}(e,c,t,r),o=Ki(a,l),e.classBindings=o}(i,r,e,n,s)}}(s,t,o),e!==qi&&go(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1];Yo(1==(1&c)?Zo(l,e,n,i,Qi(c),true):void 0)||(Yo(s)||function(t){return 2==(2&t)}(c)&&(s=Zo(l,null,n,i,a,true)),function(t,e,n,r,i){const s=me(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,_e(rn(),n),i,s))}(s,s.data[rn()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=it(Er(t))),t}(e),0,o)}(t,e),Wo}function Go(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Qo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Qo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Zo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[i+1];u===qi&&(u=c?Mt:void 0);let h=c?tr(u,r):l===r?u:void 0;if(s&&!Yo(h)&&(h=tr(e,r)),Yo(h)&&(a=h,o))return a;const d=t[i+1];i=o?Wi(d):Qi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=tr(t,r))}return a}function Yo(t){return void 0!==t}function Xo(t,e=""){const n=Re(),r=De(),i=t+20,s=r.firstCreatePass?ts(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return me(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ei(r,n,o,s),Le(s,!1)}function Jo(t){return ta("",t,""),Jo}function ta(t,e,n){const r=Re(),i=vo(r,t,e,n);return i!==qi&&Us(r,rn(),i),ta}function ea(t,e,n,r,i){const s=Re(),o=function(t,e,n,r,i,s){const o=yo(t,Be(),n,i);return qe(2),o?e+ht(n)+r+ht(i)+s:qi}(s,t,e,n,r,i);return o!==qi&&Us(s,rn(),o),ea}function na(t,e,n){const r=Re();return go(r,ze(),e)&&ps(De(),on(),r,t,e,r[11],n,!0),na}function ra(t,e,n){const r=Re();if(go(r,ze(),e)){const i=De(),s=on();ps(i,s,r,t,e,Ms(Ke(i.data),s,r),n,!0)}return ra}const ia=void 0;var sa=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let oa={};function aa(t){return t in oa||(oa[t]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[t]),oa[t]}var la=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});let ca="en-US";function ua(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ca=t.toLowerCase().replace(/_/g,"-"))}function ha(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)ha(t[s],e,n,r,i);else{const s=De(),o=Re();let a=to(t)?t:lt(t.provide),l=Ys(t);const c=Pe(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(to(t)||!t.multi){const r=new pn(l,i,So),p=fa(a,e,i?u:u+d,h);-1===p?(An(kn(c,o),s,a),da(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=fa(a,e,u+d,h),f=fa(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){An(kn(c,o),s,a);const u=function(t,e,n,r,i){const s=new pn(t,n,So);return s.multi=[],s.index=e,s.componentProviders=0,pa(s,i,r&&!n),s}(i?ga:ma,n.length,i,r,l);!i&&g&&(n[f].providerFactory=u),da(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else da(s,t,p>-1?p:f,pa(n[i?f:p],l,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function da(t,e,n,r){const i=to(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function pa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fa(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ma(t,e,n,r){return ya(this.multi,[])}function ga(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Fn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ya(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ya(i,s);return s}function ya(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _a(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=De();if(r.firstCreatePass){const i=oe(t);ha(n,r.data,r.blueprint,i,!0),ha(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class va{}class ba{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${it(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let wa=(()=>{class t{}return t.NULL=new ba,t})();function Sa(...t){}function Ea(t,e){return new ka(ve(t,e))}const Ca=function(){return Ea(Pe(),Re())};let ka=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ca,t})();function Ta(t){return t instanceof ka?t.nativeElement:t}class Ia{}let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Aa(),t})();const Aa=function(){const t=Re(),e=Se(Pe().index,t);return function(t){return t[11]}(ee(e)?e:t)};let Ra=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class Da{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Oa=new Da("12.0.5");class Pa{constructor(){}supports(t){return po(t)}create(t){return new La(t)}}const Na=(t,e)=>e;class La{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Na}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ua(n,r,i)?e:n,o=Ua(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!po(t))throw new Error(`Error trying to diff '${it(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[uo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ma(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Va),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Va),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ma{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Va{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Fa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ua(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ja{constructor(){}supports(t){return t instanceof Map||fo(t)}create(){return new Ba}}class Ba{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fo(t)))throw new Error(`Error trying to diff '${it(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new za(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class za{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qa(){return new $a([new Pa])}let $a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||qa()),deps:[[t,new fr,new pr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:qa}),t})();function Ha(){return new Ka([new ja])}let Ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ha()),deps:[[t,new fr,new pr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:Ha}),t})();function Wa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(ye(s)),ne(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Wa(e[1],e,n,r)}const o=n.type;if(8&o)Wa(t,e,n.child,r);else if(32&o){const t=si(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ki(e,n);if(Array.isArray(t))r.push(...t);else{const n=oi(e[16]);Wa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ga{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Wa(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ne(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(pi(t,n),Yn(e,n))}this._attachedToViewContainer=!1}fi(this._lView[1],this._lView)}onDestroy(t){hs(this._lView[1],this._lView,null,t)}markForCheck(){As(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ue(!0);try{Rs(t,e,n)}finally{Ue(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,xi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Qa extends Ga{constructor(t){super(t),this._view=t}detectChanges(){Ds(this._view)}checkNoChanges(){!function(t){Ue(!0);try{Ds(t)}finally{Ue(!1)}}(this._view)}get context(){return null}}const Za=function(t){return function(t,e,n){if(ie(t)&&!n){const n=Se(t.index,e);return new Ga(n,n)}return 47&t.type?new Ga(e[16],e):null}(Pe(),Re(),16==(16&t))};let Ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=Za,t})();const Xa=[new ja],Ja=new $a([new Pa]),tl=new Ka(Xa),el=function(){return sl(Pe(),Re())};let nl=(()=>{class t{}return t.__NG_ELEMENT_ID__=el,t})();const rl=nl,il=class extends rl{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ji(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ns(e,n,t),new Ga(n)}};function sl(t,e){return 4&t.type?new il(e,t,Ea(t,e)):null}class ol{}class al{}const ll=function(){return fl(Pe(),Re())};let cl=(()=>{class t{}return t.__NG_ELEMENT_ID__=ll,t})();const ul=cl,hl=class extends ul{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ea(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){const t=xn(this._hostTNode,this._hostLView);if(vn(t)){const e=wn(t,this._hostLView),n=bn(t);return new jn(e[1].data[n+8],e)}return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=dl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ol,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ne(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new hl(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Zn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Ti(i,s),a=n[11],l=bi(a,s[7]);return null!==l&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,xi(t,r,n,1,i,s)}(r,s[6],a,n,l,o),t.attachToViewContainerRef(),Zn(pl(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=dl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=pi(this._lContainer,e);n&&(Yn(pl(this._lContainer),e),fi(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=pi(this._lContainer,e);return n&&null!=Yn(pl(this._lContainer),e)?new Ga(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function dl(t){return t[8]}function pl(t){return t[8]||(t[8]=[])}function fl(t,e){let n;const r=e[t.index];if(ne(r))n=r;else{let i;if(8&t.type)i=ye(r);else{const n=e[11];i=n.createComment("");const r=ve(t,e);yi(n,bi(n,r),i,function(t,e){return me(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Cs(r,e,i,t),xs(e,n)}return new hl(n,t,e)}const ml={};class gl extends wa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new vl(e,this.ngModule)}}function yl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const _l=new Hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ni});class vl extends va{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(zi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return yl(this.componentDef.inputs)}get outputs(){return yl(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ml,i);return s!==ml||r===ml?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ia,ge),o=i.get(Ra,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(me(t))return t.selectRootElement(e,n===At.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):hi(s.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:ni,clean:Ps,playerHandler:null,flags:0},d=us(0,null,null,1,0,null,null,null,null,null),p=Ji(null,d,h,u,null,null,s,a,o,i);let f,m;Ye(p);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=ts(o,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(js(a,l,!0),null!==t&&(fn(i,t,l),null!==a.classes&&Di(i,t,a.classes),null!==a.styles&&Ri(i,t,a.styles)));const c=r.createRenderer(t,e),u=Ji(n,cs(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(An(kn(a,n),o,e.type),ys(o,a),vs(a,n.length,1)),xs(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)fn(a,c,["ng-version",Oa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Fi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&fn(a,c,t),e&&e.length>0&&Di(a,c,e.join(" "))}if(m=be(d,20),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),bs(t,r,e,es(t,e,1,null),n));const i=Fn(e,t,r.directiveStart,r);Zr(i,e);const s=ve(r,e);return s&&Zr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Pe();e.contentQueries(1,o,t.directiveStart)}const a=Pe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(sn(a.index),ms(n[1],a,0,a.directiveStart,a.directiveEnd,e),gs(e,o)),o}(t,this.componentDef,p,h,[ro]),ns(d,p,null)}finally{nn()}return new bl(this.componentType,f,Ea(m,p),p,m)}}class bl extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Qa(r),this.componentType=t}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const wl=new Map;class Sl extends ol{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gl(this);const n=te(t),r=t[Bt]||null;r&&ua(r),this._bootstrapComponents=ri(n.bootstrap),this._r3Injector=Gs(t,e,[{provide:ol,useValue:this},{provide:wa,useValue:this.componentFactoryResolver}],it(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=no.THROW_IF_NOT_FOUND,n=Et.Default){return t===no||t===ol||t===Bs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class El extends al{constructor(t){super(),this.moduleType=t,null!==te(t)&&function(t){const e=new Set;!function t(n){const r=te(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${it(e)} vs ${it(e.name)}`)}(i,wl.get(i),n),wl.set(i,n));const s=ri(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Sl(this.moduleType,t)}}function Cl(t,e,n,r){return Il(Re(),je(),t,e,n,r)}function kl(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return yo(t,a,i,s)?mo(t,a+2,o?r.call(o,i,s):r(i,s)):Tl(t,a+2)}(Re(),je(),t,e,n,r,i)}function Tl(t,e){const n=t[e];return n===qi?void 0:n}function Il(t,e,n,r,i,s){const o=e+n;return go(t,o,i)?mo(t,o+1,s?r.call(s,i):r(i)):Tl(t,o+1)}function xl(t,e){const n=De();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new ut("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ae(r.type)),o=kt(So);try{const t=En(!1),e=s();return En(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Re(),i,e),e}finally{kt(o)}}function Al(t,e,n){const r=t+20,i=Re(),s=we(i,r);return function(t,e){return ho.isWrapped(e)&&(e=ho.unwrap(e),t[Be()]=qi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Il(i,je(),e,s.transform,n,s):s.transform(n))}function Rl(t){return e=>{setTimeout(t,void 0,e)}}const Dl=class extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,s;let o=t,a=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;o=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),l=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(a=Rl(a),o&&(o=Rl(o)),l&&(l=Rl(l)));const c=super.subscribe({next:o,error:a,complete:l});return t instanceof h&&t.add(c),c}};function Ol(){return this._results[uo()]()}class Pl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=uo(),n=Pl.prototype;n[e]||(n[e]=Ol)}get changes(){return this._changes||(this._changes=new Dl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const n=Gn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Nl{constructor(t){this.queryList=t,this.matches=null}clone(){return new Nl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ll{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ll(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ql(t,e).matches&&this.queries[e].setDirty()}}class Ml{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Fl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Fl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Vl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Vl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ul(e,i)),this.matchTNodeWithReadOption(t,e,Mn(e,t,i,!1,!1))}else n===nl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Mn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ka||r===cl||r===nl&&4&e.type)this.addMatch(e.index,-2);else{const n=Mn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ul(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function jl(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ea(t,e):4&t.type?sl(t,e):null}(e,t):-2===n?function(t,e,n){return n===ka?Ea(e,t):n===nl?sl(e,t):n===cl?fl(e,t):void 0}(t,e,r):Fn(t,t[1],n,e)}function Bl(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:jl(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function zl(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Bl(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&zl(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];zl(n[1],n,i,r)}}}}}return r}function ql(t){const e=Re(),n=De(),r=We();Ge(r+1);const i=Ql(n,r);if(t.dirty&&Ee(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?zl(n,e,r,[]):Bl(n,e,i,r);t.reset(s,Ta),t.notifyOnChanges()}return!0}return!1}function $l(t,e,n){const r=De();r.firstCreatePass&&(Gl(r,new Ml(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Wl(r,Re(),e)}function Hl(t,e,n,r){const i=De();if(i.firstCreatePass){const s=Pe();Gl(i,new Ml(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Wl(i,Re(),n)}function Kl(){return t=Re(),e=We(),t[19].queries[e].queryList;var t,e}function Wl(t,e,n){const r=new Pl(4==(4&n));hs(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ll),e[19].queries.push(new Nl(r))}function Gl(t,e,n){null===t.queries&&(t.queries=new Fl),t.queries.track(new Vl(e,n))}function Ql(t,e){return t.queries.getByIndex(e)}function Zl(t,e){return sl(t,e)}const Yl=new Hn("Application Initializer");let Xl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Sa,this.reject=Sa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Do(e))t.push(e);else if(Po(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lr(Yl,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Jl=new Hn("AppId"),tc={provide:Jl,useFactory:function(){return`${ec()}${ec()}${ec()}`},deps:[]};function ec(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nc=new Hn("Platform Initializer"),rc=new Hn("Platform ID"),ic=new Hn("appBootstrapListener");let sc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const oc=new Hn("LocaleId"),ac=new Hn("DefaultCurrencyCode");class lc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const cc=function(t){return new El(t)},uc=cc,hc=function(t){return Promise.resolve(cc(t))},dc=function(t){const e=cc(t),n=ri(te(t).declarations).reduce((t,e)=>{const n=Jt(e);return n&&t.push(new vl(n)),t},[]);return new lc(e,n)},pc=dc,fc=function(t){return Promise.resolve(dc(t))};let mc=(()=>{class t{constructor(){this.compileModuleSync=uc,this.compileModuleAsync=hc,this.compileModuleAndAllComponentsSync=pc,this.compileModuleAndAllComponentsAsync=fc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const gc=(()=>Promise.resolve(0))();function yc(t){"undefined"==typeof Zone?gc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class _c{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dl(!1),this.onMicrotaskEmpty=new Dl(!1),this.onStable=new Dl(!1),this.onError=new Dl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&e,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Nt.requestAnimationFrame,e=Nt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wc(t),t.isCheckStableRunning=!0,bc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Sc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ec(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Sc(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ec(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,wc(t),bc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_c.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_c.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,vc,Sa,Sa);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const vc={};function bc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Sc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ec(t){t._nesting--,bc(t)}class Cc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dl,this.onMicrotaskEmpty=new Dl,this.onStable=new Dl,this.onError=new Dl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let kc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_c.assertNotInAngularZone(),yc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lr(_c))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Tc=(()=>{class t{constructor(){this._applications=new Map,Ac.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ac.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Ic{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let xc,Ac=new Ic,Rc=!1;function Dc(){return Rc=!0,!0}const Oc=new Hn("AllowMultipleToken");class Pc{constructor(t,e){this.name=t,this.token=e}}function Nc(t,e,n=[]){const r=`Platform: ${e}`,i=new Hn(r);return(e=[])=>{let s=Lc();if(!s||s.injector.get(Oc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:qs,useValue:"platform"});!function(t){if(xc&&!xc.destroyed&&!xc.injector.get(Oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");xc=t.get(Mc);const e=t.get(nc,null);e&&e.forEach(t=>t())}(no.create({providers:t,name:r}))}return function(t){const e=Lc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Lc(){return xc&&!xc.destroyed?xc:null}let Mc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Cc:("zone.js"===t?void 0:t)||new _c({enableLongStackTrace:Dc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:_c,useValue:n}];return n.run(()=>{const e=no.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(ei,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Uc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Do(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Xl);return t.runInitializers(),t.donePromise.then(()=>(ua(i.injector.get(oc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Fc({},e);return function(t,e,n){const r=new El(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Vc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${it(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lr(no))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Fc(t,e){return Array.isArray(e)?e.reduce(Fc,t):Object.assign(Object.assign({},t),e)}let Vc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new b(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new b(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{_c.assertNotInAngularZone(),yc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{_c.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=W(s,o.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof va?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ol),i=n.create(no.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(kc,null),a=o&&i.injector.get(Tc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Uc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Uc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ic,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lr(_c),lr(no),lr(ei),lr(wa),lr(Xl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Uc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class jc{}class Bc{}const zc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||zc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>$c(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>$c(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lr(mc),lr(Bc,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function $c(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Hc=Nc(null,"core",[{provide:rc,useValue:"unknown"},{provide:Mc,deps:[no]},{provide:Tc,deps:[]},{provide:sc,deps:[]}]),Kc=[{provide:Vc,useClass:Vc,deps:[_c,no,ei,wa,Xl]},{provide:_l,deps:[_c],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Xl,useClass:Xl,deps:[[new pr,Yl]]},{provide:mc,useClass:mc,deps:[]},tc,{provide:$a,useFactory:function(){return Ja},deps:[]},{provide:Ka,useFactory:function(){return tl},deps:[]},{provide:oc,useFactory:function(t){return ua(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new dr(oc),new pr,new fr]]},{provide:ac,useValue:"USD"}];let Wc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(lr(Vc))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:Kc}),t})(),Gc=null;function Qc(){return Gc}const Zc=new Hn("DocumentToken");let Yc=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:Xc,token:t,providedIn:"platform"}),t})();function Xc(){return lr(tu)}const Jc=new Hn("Location Initialized");let tu=(()=>{class t extends Yc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qc().getBaseHref(this._doc)}onPopState(t){const e=Qc().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Qc().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){eu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){eu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({factory:nu,token:t,providedIn:"platform"}),t})();function eu(){return!!window.history.pushState}function nu(){return new tu(lr(Zc))}function ru(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function iu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function su(t){return t&&"?"!==t[0]?"?"+t:t}let ou=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:au,token:t,providedIn:"root"}),t})();function au(t){const e=lr(Zc).location;return new cu(lr(Yc),e&&e.origin||"")}const lu=new Hn("appBaseHref");let cu=(()=>{class t extends ou{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ru(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+su(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+su(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+su(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(lr(Yc),lr(lu,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),uu=(()=>{class t extends ou{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=ru(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+su(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+su(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(lr(Yc),lr(lu,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),hu=(()=>{class t{constructor(t,e){this._subject=new Dl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=iu(pu(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+su(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pu(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+su(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+su(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(lr(ou),lr(Yc))},t.normalizeQueryParams=su,t.joinWithSlash=ru,t.stripTrailingSlash=iu,t.\u0275prov=ft({factory:du,token:t,providedIn:"root"}),t})();function du(){return new hu(lr(ou),lr(Yc))}function pu(t){return t.replace(/\/index.html$/,"")}var fu=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});class mu{}let gu=(()=>{class t extends mu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=aa(e);if(n)return n;const r=e.split("-")[0];if(n=aa(r),n)return n;if("en"===r)return sa;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[la.PluralCase]}(e||this.locale)(t)){case fu.Zero:return"zero";case fu.One:return"one";case fu.Two:return"two";case fu.Few:return"few";case fu.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(lr(oc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function yu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let _u=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(po(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${it(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(So($a),So(Ka),So(ka),So(xa))},t.\u0275dir=Yt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class vu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bu=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(MW){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new vu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new wu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new wu(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(So(cl),So(nl),So($a))},t.\u0275dir=Yt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class wu{constructor(t,e){this.record=t,this.view=e}}let Su=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Eu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Cu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Cu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(So(cl),So(nl))},t.\u0275dir=Yt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Eu{constructor(){this.$implicit=null,this.ngIf=null}}function Cu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${it(e)}'.`)}class ku{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Tu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),Iu=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ku(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(So(cl),So(nl),So(Tu,9))},t.\u0275dir=Yt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),xu=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Ka),So(xa))},t.\u0275dir=Yt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),Au=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(So(cl))},t.\u0275dir=Yt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ce]}),t})();class Ru{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Du{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Ou=new Du,Pu=new Ru;let Nu=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Do(e))return Ou;if(Oo(e))return Pu;throw Error(`InvalidPipeArgument: '${e}' for pipe '${it(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(So(Ya,16))},t.\u0275pipe=Xt({name:"async",type:t,pure:!1}),t})(),Lu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[{provide:mu,useClass:gu}]}),t})(),Mu=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new Fu(lr(Zc),window)}),t})();class Fu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Vu(this.window.history)||Vu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(MW){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(MW){return!1}}}function Vu(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Uu{}class ju extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new ju,Gc||(Gc=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(zu=zu||document.querySelector("base"),zu?zu.getAttribute("href"):null);return null==e?null:function(t){Bu=Bu||document.createElement("a"),Bu.setAttribute("href",t);const e=Bu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){zu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return yu(document.cookie,t)}}let Bu,zu=null;const qu=new Hn("TRANSITION_ID"),$u=[{provide:Yl,useFactory:function(t,e,n){return()=>{n.get(Xl).donePromise.then(()=>{const n=Qc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[qu,Zc,no],multi:!0}];class Hu{static init(){var t;t=new Hu,Ac=t}addToWindow(t){Nt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Nt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Nt.getAllAngularRootElements=()=>t.getAllRootElements(),Nt.frameworkStabilizers||(Nt.frameworkStabilizers=[]),Nt.frameworkStabilizers.push(t=>{const e=Nt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Qc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ku=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Wu=new Hn("EventManagerPlugins");let Gu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(lr(Wu),lr(_c))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Qu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Qc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Zu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t extends Zu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Xu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Xu))}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Xu(t){Qc().remove(t)}const Ju={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},th=/%COMP%/g;function eh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?eh(t,i,n):(i=i.replace(th,t),n.push(i))}return n}function nh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rh=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ih(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case At.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new sh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case At.ShadowDom:return new oh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=eh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(lr(Gu),lr(Yu),lr(Jl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class ih{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ju[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ju[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ju[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(ii.DashCase|ii.Important)?t.style.setProperty(e,n,r&ii.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ii.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nh(n)):this.eventManager.addEventListener(t,e,nh(n))}}class sh extends ih{constructor(t,e,n,r){super(t),this.component=n;const i=eh(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(th,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(th,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class oh extends ih{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=eh(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ah=(()=>{class t extends Qu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const lh=["alt","control","meta","shift"],ch={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let dh=(()=>{class t extends Qu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qc().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(lh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&uh.hasOwnProperty(e)&&(e=uh[e]))}return ch[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lh.forEach(r=>{r!=n&&(0,hh[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ph=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return lr(mh)},token:t,providedIn:"root"}),t})();function fh(t){return new mh(t.get(Zc))}let mh=(()=>{class t extends ph{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Gr.NONE:return e;case Gr.HTML:return Cr(e,"HTML")?Er(e):function(t,e){let n=null;try{Kr=Kr||function(t){const e=new Ir(t);return function(){try{return!!(new window.DOMParser).parseFromString(gr(""),"text/html")}catch(MW){return!1}}()?new Tr(e):e}(t);let r=e?String(e):"";n=Kr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Kr.getInertBodyElement(r)}while(r!==s);return gr((new zr).sanitizeChildren(Wr(n)||n))}finally{if(n){const t=Wr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)).toString();case Gr.STYLE:return Cr(e,"Style")?Er(e):e;case Gr.SCRIPT:if(Cr(e,"Script"))return Er(e);throw new Error("unsafe value used in a script context");case Gr.URL:return kr(e),Cr(e,"URL")?Er(e):Rr(String(e));case Gr.RESOURCE_URL:if(Cr(e,"ResourceURL"))return Er(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new _r(t)}bypassSecurityTrustStyle(t){return new vr(t)}bypassSecurityTrustScript(t){return new br(t)}bypassSecurityTrustUrl(t){return new wr(t)}bypassSecurityTrustResourceUrl(t){return new Sr(t)}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({factory:function(){return fh(lr(Bs))},token:t,providedIn:"root"}),t})();const gh=Nc(Hc,"browser",[{provide:rc,useValue:"browser"},{provide:nc,useValue:function(){ju.makeCurrent(),Hu.init()},multi:!0},{provide:Zc,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),yh=[[],{provide:qs,useValue:"root"},{provide:ei,useFactory:function(){return new ei},deps:[]},{provide:Wu,useClass:ah,multi:!0,deps:[Zc,_c,rc]},{provide:Wu,useClass:dh,multi:!0,deps:[Zc]},[],{provide:rh,useClass:rh,deps:[Gu,Yu,Jl]},{provide:Ia,useExisting:rh},{provide:Zu,useExisting:Yu},{provide:Yu,useClass:Yu,deps:[Zc]},{provide:kc,useClass:kc,deps:[_c]},{provide:Gu,useClass:Gu,deps:[Wu,_c]},{provide:Uu,useClass:Ku,deps:[]},[]];let _h=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Jl,useValue:e.appId},{provide:qu,useExisting:Jl},$u]}}}return t.\u0275fac=function(e){return new(e||t)(lr(t,12))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:yh,imports:[Lu,Wc]}),t})();function vh(...t){if(1===t.length){const e=t[0];if(l(e))return bh(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return bh(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return bh(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(x(t=>e(...t)))}return bh(t,null)}function bh(t,e){return new b(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=V(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;let wh=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(So(xa),So(ka))},t.\u0275dir=Yt({type:t}),t})(),Sh=(()=>{class t extends wh{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,features:[io]}),t})();const Eh=new Hn("NgValueAccessor"),Ch={provide:Eh,useExisting:at(()=>kh),multi:!0};let kh=(()=>{class t extends Sh{writeValue(t){this.setProperty("checked",t)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&No("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[_a([Ch]),io]}),t})();const Th={provide:Eh,useExisting:at(()=>xh),multi:!0},Ih=new Hn("CompositionEventMode");let xh=(()=>{class t extends wh{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Qc()?Qc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(So(xa),So(ka),So(Ih,8))},t.\u0275dir=Yt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&No("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[_a([Th]),io]}),t})();function Ah(t){return null==t||0===t.length}function Rh(t){return null!=t&&"number"==typeof t.length}const Dh=new Hn("NgValidators"),Oh=new Hn("NgAsyncValidators"),Ph=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nh{static min(t){return function(t){return e=>{if(Ah(e.value)||Ah(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Ah(e.value)||Ah(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return Lh(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return Mh(t)}static minLength(t){return function(t){return e=>Ah(e.value)||!Rh(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Rh(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return Fh(t)}static nullValidator(t){return null}static compose(t){return $h(t)}static composeAsync(t){return Kh(t)}}function Lh(t){return Ah(t.value)?{required:!0}:null}function Mh(t){return Ah(t.value)||Ph.test(t.value)?null:{email:!0}}function Fh(t){if(!t)return Vh;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ah(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Vh(t){return null}function Uh(t){return null!=t}function jh(t){const e=Do(t)?V(t):t;return Po(e),e}function Bh(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function zh(t,e){return e.map(e=>e(t))}function qh(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function $h(t){if(!t)return null;const e=t.filter(Uh);return 0==e.length?null:function(t){return Bh(zh(t,e))}}function Hh(t){return null!=t?$h(qh(t)):null}function Kh(t){if(!t)return null;const e=t.filter(Uh);return 0==e.length?null:function(t){return vh(zh(t,e).map(jh)).pipe(x(Bh))}}function Wh(t){return null!=t?Kh(qh(t)):null}function Gh(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Qh(t){return t._rawValidators}function Zh(t){return t._rawAsyncValidators}let Yh=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Wh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t}),t})(),Xh=(()=>{class t extends Yh{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,features:[io]}),t})();class Jh extends Yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class td{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let ed=(()=>{class t extends td{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(So(Jh,2))},t.\u0275dir=Yt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&Wo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[io]}),t})(),nd=(()=>{class t extends td{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(So(Xh,10))},t.\u0275dir=Yt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&Wo("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[io]}),t})();function rd(t,e){return[...e.path,t]}function id(t,e){ad(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cd(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cd(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function sd(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ld(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function od(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ad(t,e){const n=Qh(t);null!==e.validator?t.setValidators(Gh(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Zh(t);null!==e.asyncValidator?t.setAsyncValidators(Gh(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();od(e._rawValidators,i),od(e._rawAsyncValidators,i)}function ld(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=Qh(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=Zh(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return od(e._rawValidators,r),od(e._rawAsyncValidators,r),n}function cd(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ud(t,e){ad(t,e)}function hd(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function dd(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function pd(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===xh?n=t:Object.getPrototypeOf(t.constructor)===Sh?r=t:i=t}),i||r||n||null}function fd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function md(t){return(vd(t)?t.validators:t)||null}function gd(t){return Array.isArray(t)?Hh(t):t||null}function yd(t,e){return(vd(e)?e.asyncValidators:t)||null}function _d(t){return Array.isArray(t)?Wh(t):t||null}function vd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bd{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gd(this._rawValidators),this._composedAsyncValidatorFn=_d(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gd(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_d(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;const e=jh(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Sd?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ed&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Dl,this.statusChanges=new Dl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wd extends bd{constructor(t=null,e,n){super(md(e),yd(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fd(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fd(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Sd extends bd{constructor(t,e,n){super(md(e),yd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof wd?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ed extends bd{constructor(t,e,n){super(md(e),yd(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wd?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Cd={provide:Xh,useExisting:at(()=>Td)},kd=(()=>Promise.resolve(null))();let Td=(()=>{class t extends Xh{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Dl,this.form=new Sd({},Hh(t),Wh(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kd.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),id(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),fd(this._directives,t)})}addFormGroup(t){kd.then(()=>{const e=this._findContainer(t.path),n=new Sd({});ud(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kd.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){kd.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,dd(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(So(Dh,10),So(Oh,10))},t.\u0275dir=Yt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&No("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_a([Cd]),io]}),t})();const Id={provide:Jh,useExisting:at(()=>Ad)},xd=(()=>Promise.resolve(null))();let Ad=(()=>{class t extends Jh{constructor(t,e,n,r){super(),this.control=new wd,this._registered=!1,this.update=new Dl,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=pd(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),hd(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?rd(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){id(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;xd.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(So(Xh,9),So(Dh,10),So(Oh,10),So(Eh,10))},t.\u0275dir=Yt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_a([Id]),io,ce]}),t})(),Rd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Dd={provide:Eh,useExisting:at(()=>Od),multi:!0};let Od=(()=>{class t extends Sh{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&No("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[_a([Dd]),io]}),t})(),Pd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const Nd=new Hn("NgModelWithFormControlWarning"),Ld={provide:Xh,useExisting:at(()=>Md)};let Md=(()=>{class t extends Xh{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Dl,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ld(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return id(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){sd(t.control||null,t,!1),fd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,dd(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(sd(e||null,t),n instanceof wd&&(id(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);ud(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ld(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ad(this.form,this),this._oldForm&&ld(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(So(Dh,10),So(Oh,10))},t.\u0275dir=Yt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&No("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_a([Ld]),io,ce]}),t})();const Fd={provide:Jh,useExisting:at(()=>Vd)};let Vd=(()=>{class t extends Jh{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Dl,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=pd(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),hd(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return rd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(So(Xh,13),So(Dh,10),So(Oh,10),So(Eh,10),So(Nd,8))},t.\u0275dir=Yt({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_a([Fd]),io,ce]}),t._ngModelWarningSentOnce=!1,t})();const Ud={provide:Eh,useExisting:at(()=>Bd),multi:!0};function jd(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Bd=(()=>{class t extends Sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this.setProperty("selectedIndex",-1);const n=jd(e,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&No("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[_a([Ud]),io]}),t})(),zd=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(jd(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(xa),So(Bd,9))},t.\u0275dir=Yt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const qd={provide:Eh,useExisting:at(()=>Hd),multi:!0};function $d(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Hd=(()=>{class t extends Sh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275dir=Yt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&No("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[_a([qd]),io]}),t})(),Kd=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue($d(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($d(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(xa),So(Hd,9))},t.\u0275dir=Yt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Wd={provide:Dh,useExisting:at(()=>Gd),multi:!0};let Gd=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Lh(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&_o("required",e.required?"":null)},inputs:{required:"required"},features:[_a([Wd])]}),t})();const Qd={provide:Dh,useExisting:at(()=>Zd),multi:!0};let Zd=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Mh(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[_a([Qd])]}),t})();const Yd={provide:Dh,useExisting:at(()=>Xd),multi:!0};let Xd=(()=>{class t{constructor(){this._validator=Vh}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Fh(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&_o("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[_a([Yd]),ce]}),t})(),Jd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Pd]]}),t})(),tp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[Jd]}),t})(),ep=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Nd,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[Jd]}),t})();class np extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}function rp(...t){let e=t[t.length-1];return I(e)?(t.pop(),F(t,e)):K(t)}function ip(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const sp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),op=new b(t=>t.complete());function ap(t){return t?function(t){return new b(e=>t.schedule(()=>e.complete()))}(t):op}function lp(t){return e=>0===t?ap():e.lift(new cp(t))}class cp{constructor(t){if(this.total=t,this.total<0)throw new sp}call(t,e){return e.subscribe(new up(t,this.total))}}class up extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}class hp{constructor(t){this.total=t}call(t,e){return e.subscribe(new dp(t,this.total))}}class dp extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function pp(t,e){return n=>n.lift(new fp(t,e))}class fp{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mp(t,this.compare,this.keySelector))}}class mp extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function gp(t){return e=>e.lift(new yp(t))}class yp{constructor(t){this.notifier=t}call(t,e){const n=new _p(t),r=B(this.notifier,new U(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class _p extends j{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function vp(t){return null!=t&&"false"!=`${t}`}function bp(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function wp(t){return Array.isArray(t)?t:[t]}function Sp(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Ep(t){return t instanceof ka?t.nativeElement:t}let Cp;try{Cp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(MW){Cp=!1}let kp,Tp=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Cp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(lr(rc))},t.\u0275prov=ft({factory:function(){return new t(lr(rc))},token:t,providedIn:"root"}),t})(),Ip=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const xp=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ap(){if(kp)return kp;if("object"!=typeof document||!document)return kp=new Set(xp),kp;let t=document.createElement("input");return kp=new Set(xp.filter(e=>(t.setAttribute("type",e),t.type===e))),kp}let Rp,Dp,Op,Pp;function Np(t){return function(){if(null==Rp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Rp=!0}))}finally{Rp=Rp||!1}return Rp}()?t:!!t.capture}function Lp(){if(null==Dp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dp=!1,Dp;if("scrollBehavior"in document.documentElement.style)Dp=!0;else{const t=Element.prototype.scrollTo;Dp=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Dp}function Mp(t){if(function(){if(null==Op){const t="undefined"!=typeof document?document.head:null;Op=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Op}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Fp(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Vp(t){return t.composedPath?t.composedPath()[0]:t.target}function Up(){return void 0!==Pp.__karma__&&!!Pp.__karma__||void 0!==Pp.jasmine&&!!Pp.jasmine||void 0!==Pp.jest&&!!Pp.jest||void 0!==Pp.Mocha&&!!Pp.Mocha}Pp="undefined"!=typeof global?global:"undefined"!=typeof window?window:{};class jp extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Bp extends jp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let zp=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class qp extends zp{constructor(t,e=zp.now){super(t,()=>qp.delegate&&qp.delegate!==this?qp.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return qp.delegate&&qp.delegate!==this?qp.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const $p=new qp(Bp);function Hp(t,e=$p){return n=>n.lift(new Kp(t,e))}class Kp{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Wp(t,this.dueTime,this.scheduler))}}class Wp extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Gp,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Gp(t){t.debouncedNext()}let Qp=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Zp=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Ep(t);return new b(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new k,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(lr(Qp))},t.\u0275prov=ft({factory:function(){return new t(lr(Qp))},token:t,providedIn:"root"}),t})(),Yp=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Dl,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=vp(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=bp(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Hp(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(So(Zp),So(ka),So(_c))},t.\u0275dir=Yt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Xp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[Qp]}),t})(),Jp=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(MW){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===ef(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=ef(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||tf(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(lr(Tp))},t.\u0275prov=ft({factory:function(){return new t(lr(Tp))},token:t,providedIn:"root"}),t})();function tf(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function ef(t){if(!tf(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class nf{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(lp(1)).subscribe(t)}}let rf=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new nf(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(lr(Jp),lr(_c),lr(Zc))},t.\u0275prov=ft({factory:function(){return new t(lr(Jp),lr(_c),lr(Zc))},token:t,providedIn:"root"}),t})();function sf(t){return 0===t.offsetX&&0===t.offsetY}function of(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const af=new Hn("cdk-input-modality-detector-options"),lf={ignoreKeys:[18,17,224,91,16]},cf=Np({passive:!0,capture:!0});let uf=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new np(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Vp(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(sf(t)?"keyboard":"mouse"),this._mostRecentTarget=Vp(t))},this._onTouchstart=t=>{of(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vp(t))},this._options=Object.assign(Object.assign({},lf),r),this.modalityDetected=this._modality.pipe(t=>t.lift(new hp(1))),this.modalityChanged=this.modalityDetected.pipe(pp()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,cf),n.addEventListener("mousedown",this._onMousedown,cf),n.addEventListener("touchstart",this._onTouchstart,cf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,cf),document.removeEventListener("mousedown",this._onMousedown,cf),document.removeEventListener("touchstart",this._onTouchstart,cf))}}return t.\u0275fac=function(e){return new(e||t)(lr(Tp),lr(_c),lr(Zc),lr(af,8))},t.\u0275prov=ft({factory:function(){return new t(lr(Tp),lr(_c),lr(Zc),lr(af,8))},token:t,providedIn:"root"}),t})();const hf=new Hn("cdk-focus-monitor-default-options"),df=Np({passive:!0,capture:!0});let pf=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new k,this._rootNodeFocusAndBlurListener=t=>{const e=Vp(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Ep(t);if(!this._platform.isBrowser||1!==n.nodeType)return rp(null);const r=Mp(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new k,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=Ep(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Ep(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=Vp(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,df),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,df)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gp(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,df),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,df),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(lr(_c),lr(Tp),lr(uf),lr(Zc,8),lr(hf,8))},t.\u0275prov=ft({factory:function(){return new t(lr(_c),lr(Tp),lr(uf),lr(Zc,8),lr(hf,8))},token:t,providedIn:"root"}),t})(),ff=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black"),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(lr(Tp),lr(Zc))},t.\u0275prov=ft({factory:function(){return new t(lr(Tp),lr(Zc))},token:t,providedIn:"root"}),t})();const mf=new Hn("cdk-dir-doc",{providedIn:"root",factory:function(){return cr(Zc)}});let gf=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Dl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(lr(mf,8))},t.\u0275prov=ft({factory:function(){return new t(lr(mf,8))},token:t,providedIn:"root"}),t})(),yf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const _f=new Da("12.2.12");class vf{}function bf(t,e){return{type:7,name:t,definitions:e,options:{}}}function wf(t,e=null){return{type:4,styles:e,timings:t}}function Sf(t,e=null){return{type:2,steps:t,options:e}}function Ef(t){return{type:6,styles:t,offset:null}}function Cf(t,e,n){return{type:0,name:t,styles:e,options:n}}function kf(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Tf(t){Promise.resolve(null).then(t)}class If{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Tf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class xf{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Tf(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Af(){return"undefined"!=typeof window&&void 0!==window.document}function Rf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Df(t){switch(t.length){case 0:return new If;case 1:return t[0];default:return new xf(t)}}function Of(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Pf(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Nf(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Nf(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Nf(n,"destroy",t)))}}function Nf(t,e,n){const r=n.totalTime,i=Lf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Lf(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Mf(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ff(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Vf=(t,e)=>!1,Uf=(t,e)=>!1,jf=(t,e,n)=>[];const Bf=Rf();(Bf||"undefined"!=typeof Element)&&(Vf=Af()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Uf=(()=>{if(Bf||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Uf}})(),jf=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let zf=null,qf=!1;function $f(t){zf||(zf=("undefined"!=typeof document?document.body:null)||{},qf=!!zf.style&&"WebkitAppearance"in zf.style);let e=!0;return zf.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in zf.style,!e&&qf)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in zf.style),e}const Hf=Uf,Kf=Vf,Wf=jf;function Gf(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Qf=(()=>{class t{validateStyleProperty(t){return $f(t)}matchesElement(t,e){return Hf(t,e)}containsElement(t,e){return Kf(t,e)}query(t,e,n){return Wf(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new If(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Zf=(()=>{class t{}return t.NOOP=new Qf,t})();function Yf(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Xf(parseFloat(e[1]),e[2])}function Xf(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Jf(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Xf(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Xf(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function tm(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function em(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else tm(t,n);return n}function nm(t,e,n){return n?e+":"+n+";":""}function rm(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=nm(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=nm(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function im(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=dm(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Rf()&&rm(t))}function sm(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=dm(e);t.style[n]=""}),Rf()&&rm(t))}function om(t){return Array.isArray(t)?1==t.length?t[0]:Sf(t):t}const am=new RegExp("{{\\s*(.+?)\\s*}}","g");function lm(t){let e=[];if("string"==typeof t){let n;for(;n=am.exec(t);)e.push(n[1]);am.lastIndex=0}return e}function cm(t,e,n){const r=t.toString(),i=r.replace(am,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function um(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const hm=/-+([a-z0-9])/g;function dm(t){return t.replace(hm,(...t)=>t[1].toUpperCase())}function pm(t,e){return 0===t||0===e}function fm(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=gm(t,e)})}}return e}function mm(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function gm(t,e){return window.getComputedStyle(t)[e]}function ym(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(bm(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(bm(o,i))}(t,n,e)):n.push(t),n}const _m=new Set(["true","1"]),vm=new Set(["false","0"]);function bm(t,e){const n=_m.has(t)||vm.has(t),r=_m.has(e)||vm.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?_m.has(t):vm.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?_m.has(e):vm.has(e)),o&&a}}const wm=new RegExp("s*:selfs*,?","g");function Sm(t,e,n){return new Em(t).build(e,n)}class Em{constructor(t){this._driver=t}build(t,e){const n=new Cm(e);return this._resetContextStyleTimingState(n),mm(this,om(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(km(t)){const e=t;Object.keys(e).forEach(t=>{lm(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=um(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=mm(this,om(t.animation),e);return{type:1,matchers:ym(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Tm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>mm(this,t,e)),options:Tm(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=mm(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Tm(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Im(Jf(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Im(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Jf(r,e),Im(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Ef({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Ef(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(km(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=lm(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(km(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(km(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:mm(this,om(t.animation),e),options:Tm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Tm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Tm(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(wm,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Mf(e.collectedStyles,e.currentQuerySelector,{});const o=mm(this,om(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Tm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Jf(t.timings,e.errors,!0);return{type:12,animation:mm(this,om(t.animation),e),timings:n,options:null}}}class Cm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function km(t){return!Array.isArray(t)&&"object"==typeof t}function Tm(t){var e;return t?(t=tm(t)).params&&(t.params=(e=t.params)?tm(e):null):t={},t}function Im(t,e,n){return{duration:t,delay:e,easing:n}}function xm(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Am{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Rm=new RegExp(":enter","g"),Dm=new RegExp(":leave","g");function Om(t,e,n,r,i,s={},o={},a,l,c=[]){return(new Pm).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class Pm{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new Am;const u=new Lm(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),mm(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[xm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Yf(n.duration):null,s=null!=n.delay?Yf(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),mm(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Nm);const t=Yf(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>mm(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Yf(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),mm(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Jf(e.params?cm(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Yf(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Nm);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),mm(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;mm(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Nm={};class Lm{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Mm(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Yf(n.duration)),null!=n.delay&&(r.delay=Yf(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=cm(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Lm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Nm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Fm(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Rm,"."+this._enterClassName)).replace(Dm,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Mm{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Mm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):em(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=cm(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=em(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?um(t.values()):[],s=e.size?um(e.values()):[];if(n){const t=r[0],e=tm(t);t.offset=0,e.offset=1,r=[t,e]}return xm(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Fm extends Mm{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=em(t[0],!1);a.offset=0,i.push(a);const l=em(t[0],!1);l.offset=Vm(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=em(t[r],!1);o.offset=Vm((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return xm(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Vm(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Um{}class jm extends Um{normalizePropertyName(t,e){return dm(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Bm[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Bm=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zm(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const qm={};class $m{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||qm,d=this.buildStyles(n,o&&o.params||qm,u),p=a&&a.params||qm,f=this.buildStyles(r,p,u),m=new Set,g=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:Om(t,e,this.ast.animation,i,s,d,f,v,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return zm(e,this._triggerName,n,r,_,d,f,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,r=Mf(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Mf(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const S=um(m.values());return zm(e,this._triggerName,n,r,_,d,f,b,S,g,y,w)}}class Hm{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=tm(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=cm(s,r,e)),n[t]=s})}}),n}}class Km{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Hm(t.style,t.options&&t.options.params||{})}),Wm(this.states,"true","1"),Wm(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $m(t,e,this.states))}),this.fallbackTransition=new $m(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Wm(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Gm=new Am;class Qm{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Sm(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Of(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Om(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Gm,r),s.forEach(t=>{const e=Mf(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Df(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Lf(e,"","","");return Pf(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Zm=[],Ym={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Jm{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=tm(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const tg=new Jm("void");class eg{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,lg(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Mf(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Mf(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(lg(t,"ng-trigger"),lg(t,"ng-trigger-"+e),a[e]=tg),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new rg(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(lg(t,"ng-trigger"),lg(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Jm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=tg),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{sm(t,n),im(t,r)})}return}const c=Mf(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(lg(t,"ng-animate-queued"),s.onStart(()=>{cg(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Df(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||tg,a=new Jm("void"),l=new rg(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Ym||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){lg(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Lf(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Pf(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ng{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new eg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(ig(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ig(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),lg(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cg(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(ig(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return ig(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Df(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Ym,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)lg(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Df(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Am,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ag(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>lg(t,n))});const m=[],g=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=ag(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+f++;_.set(e,n),t.forEach(t=>lg(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>cg(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>cg(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=_.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return e.onStart(()=>sm(i,f.fromStyles)),e.onDestroy(()=>im(i,f.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>sm(i,f.fromStyles)),e.onDestroy(()=>im(i,f.toStyles)),void r.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>Mf(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Mf(S,e,[]).push(t),t.destroy()})});const C=m.filter(t=>dg(t,a,l)),k=new Map;og(k,this.driver,y,l,"*").forEach(t=>{dg(t,a,l)&&C.push(t)});const T=new Map;d.forEach((t,e)=>{og(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=k.get(t),n=T.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>im(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,T,k);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Df(e)),r.push(s)}}else sm(e,o.fromStyles),s.onDestroy(()=>im(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Df(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<m.length;R++){const t=m[R],e=t.__ng_removed;if(cg(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ug(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=Mf(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}sm(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new If(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return hg(t,e),e}((n.get(h)||Zm).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Of(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&u.add(h),p){const e=new rg(t,o,h);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{Mf(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>lg(t,"ng-animating"));const d=Df(h);return d.onDestroy(()=>{c.forEach(t=>cg(t,"ng-animating")),im(a,e.toStyles)}),u.forEach(t=>{Mf(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new If(t.duration,t.delay)}}class rg{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new If,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Pf(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Mf(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ig(t){return t&&1===t.nodeType}function sg(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function og(t,e,n,r,i){const s=[];n.forEach(t=>s.push(sg(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Xm,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>sg(t,s[a++])),o}function ag(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function lg(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function cg(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ug(t,e,n){Df(n).onDone(()=>t.processLeaveNode(e))}function hg(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof xf?hg(r.players,e):e.push(r)}}function dg(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class pg{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ng(t,e,n),this._timelineEngine=new Qm(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Sm(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Km(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ff(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ff(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fg(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=gg(e[0]),e.length>1&&(r=gg(e[e.length-1]))):e&&(n=gg(e)),n||r?new mg(t,n,r):null}let mg=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&im(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(im(this._element,this._initialStyles),this._endStyles&&(im(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(sm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sm(this._element,this._endStyles),this._endStyles=null),im(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function gg(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];yg(i)&&(e=e||{},e[i]=t[i])}return e}function yg(t){return"display"===t||"position"===t}class _g{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Cg(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Eg(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Sg(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vg(this._element,this._name,"paused")}resume(){vg(this._element,this._name,"running")}setPosition(t){const e=bg(this._element,this._name);this._position=t*this._duration,Eg(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Sg(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Cg(t,"").split(","),r=wg(n,e);r>=0&&(n.splice(r,1),Eg(t,"",n.join(",")))}(this._element,this._name))}}function vg(t,e,n){Eg(t,"PlayState",n,bg(t,e))}function bg(t,e){const n=Cg(t,"");return n.indexOf(",")>0?wg(n.split(","),e):wg([n],e)}function wg(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Sg(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Eg(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Cg(t,e){return t.style["animation"+e]||""}class kg{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _g(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:gm(this.element,n))})}this.currentSnapshot=t}}class Tg extends If{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Gf(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ig{constructor(){this._count=0}validateStyleProperty(t){return $f(t)}matchesElement(t,e){return Hf(t,e)}containsElement(t,e){return Kf(t,e)}query(t,e,n){return Wf(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Gf(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof kg),l={};pm(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=fm(t,e,l));if(0==n)return new Tg(t,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=fg(t,e),p=new kg(t,e,u,n,r,i,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class xg{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:gm(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ag{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Rg().toString()),this._cssKeyframesDriver=new Ig}validateStyleProperty(t){return $f(t)}matchesElement(t,e){return Hf(t,e)}containsElement(t,e){return Kf(t,e)}query(t,e,n){return Wf(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof xg);pm(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=fg(t,e=fm(t,e=e.map(t=>em(t,!1)),l));return new xg(t,e,a,u)}}function Rg(){return Af()&&Element.prototype.animate||{}}let Dg=(()=>{class t extends vf{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:At.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Sf(t):t;return Ng(this._renderer,null,e,"register",[n]),new Og(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(lr(Ia),lr(Zc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Og extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Pg(this._id,t,e||{},this._renderer)}}class Pg{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ng(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ng(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Lg=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Mg("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Fg(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(lr(Ia),lr(pg),lr(_c))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Mg{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Fg extends Mg{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Vg=(()=>{class t extends pg{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc),lr(Zf),lr(Um))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Ug=new Hn("AnimationModuleType"),jg=[{provide:vf,useClass:Dg},{provide:Um,useFactory:function(){return new jm}},{provide:pg,useClass:Vg},{provide:Ia,useFactory:function(t,e,n){return new Lg(t,e,n)},deps:[rh,pg,_c]}],Bg=[{provide:Zf,useFactory:function(){return"function"==typeof Rg()?new Ag:new Ig}},{provide:Ug,useValue:"BrowserAnimations"},...jg],zg=[{provide:Zf,useClass:Qf},{provide:Ug,useValue:"NoopAnimations"},...jg];let qg=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?zg:Bg}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:Bg,imports:[_h]}),t})();const $g=new Da("12.2.12"),Hg=new Hn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Kg,Wg=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!Dc()||Up())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&$g.full!==_f.full&&console.warn("The Angular Material version ("+$g.full+") does not match the Angular CDK version ("+_f.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(lr(ff),lr(Hg,8),lr(Zc))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[yf],yf]}),t})();function Gg(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=vp(t)}}}function Qg(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Zg(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=vp(t)}}}function Yg(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?bp(t):this.defaultTabIndex}}}function Xg(t){return class extends t{constructor(...t){super(...t),this.stateChanges=new k,this.errorState=!1}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Kg="undefined"!=typeof Intl}catch(MW){Kg=!1}let Jg=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();class ty{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ey={enterDuration:225,exitDuration:150},ny=Np({passive:!0}),ry=["mousedown","touchstart"],iy=["mouseup","mouseleave","touchend","touchcancel"];class sy{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ep(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},ey),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new ty(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},ey),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ep(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ry))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(iy),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=sf(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!of(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,ny)})})}_removeTriggerEvents(){this._triggerElement&&(ry.forEach(t=>{this._triggerElement.removeEventListener(t,this,ny)}),this._pointerUpEventsRegistered&&iy.forEach(t=>{this._triggerElement.removeEventListener(t,this,ny)}))}}const oy=new Hn("mat-ripple-global-options");let ay=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new sy(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(_c),So(Tp),So(oy,8),So(Ug,8))},t.\u0275dir=Yt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Wo("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),ly=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Wg,Ip],Wg]}),t})();const cy=["*",[["mat-toolbar-row"]]],uy=["*","mat-toolbar-row"],hy=Qg(class{constructor(t){this._elementRef=t}});let dy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),py=(()=>{class t extends hy{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Tp),So(Zc))},t.\u0275cmp=Ht({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&Hl(n,dy,5),2&t){let t;ql(t=Kl())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&Wo("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[io],ngContentSelectors:uy,decls:2,vars:0,template:function(t,e){1&t&&(Bo(cy),zo(0),zo(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),fy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Wg],Wg]}),t})();function my(t,e){return new b(e?n=>e.schedule(gy,0,{error:t,subscriber:n}):e=>e.error(t))}function gy({error:t,subscriber:e}){e.error(t)}function yy(){}function _y(t,e,n){return function(r){return r.lift(new vy(t,e,n))}}class vy{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new by(t,this.nextOrObserver,this.error,this.complete))}}class by extends f{constructor(t,e,n,i){super(t),this._tapNext=yy,this._tapError=yy,this._tapComplete=yy,this._tapError=n||yy,this._tapComplete=i||yy,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||yy,this._tapError=e.error||yy,this._tapComplete=e.complete||yy)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function wy(t){return function(e){const n=new Sy(t),r=e.lift(n);return n.caught=r}}class Sy{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ey(t,this.selector,this.caught))}}class Ey extends j{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new U(this);this.add(r);const i=B(n,r);i!==r&&this.add(i)}}}function Cy(t){return e=>e.lift(new ky(t))}class ky{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ty(t,this.callback))}}class Ty extends f{constructor(t,e){super(t),this.add(new h(e))}}function Iy(t,e){return z(t,e,1)}function xy(t,e){return function(n){return n.lift(new Ay(t,e))}}class Ay{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ry(t,this.predicate,this.thisArg))}}class Ry extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Dy{}class Oy{}class Py{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Py?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Py;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Py?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ny{encodeKey(t){return Ly(t)}encodeValue(t){return Ly(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Ly(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function My(t){return`${t}`}class Fy{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ny,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fy({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(My(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(My(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Vy{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Uy(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function jy(t){return"undefined"!=typeof Blob&&t instanceof Blob}function By(t){return"undefined"!=typeof FormData&&t instanceof FormData}class zy{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Py),this.context||(this.context=new Vy),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Fy,this.urlWithParams=e}serializeBody(){return null===this.body?null:Uy(this.body)||jy(this.body)||By(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||By(this.body)?null:jy(this.body)?this.body.type||null:Uy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new zy(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var qy=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class $y{constructor(t,e=200,n="OK"){this.headers=t.headers||new Py,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Hy extends $y{constructor(t={}){super(t),this.type=qy.ResponseHeader}clone(t={}){return new Hy({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ky extends $y{constructor(t={}){super(t),this.type=qy.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ky({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wy extends $y{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Gy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Qy=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof zy)r=t;else{let i,s;i=n.headers instanceof Py?n.headers:new Py(n.headers),n.params&&(s=n.params instanceof Fy?n.params:new Fy({fromObject:n.params})),r=new zy(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=rp(r).pipe(Iy(t=>this.handler.handle(t)));if(t instanceof zy||"events"===n.observe)return i;const s=i.pipe(xy(t=>t instanceof Ky));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(x(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(x(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(x(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(x(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Fy).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Gy(n,e))}post(t,e,n={}){return this.request("POST",t,Gy(n,e))}put(t,e,n={}){return this.request("PUT",t,Gy(n,e))}}return t.\u0275fac=function(e){return new(e||t)(lr(Dy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Zy{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Yy=new Hn("HTTP_INTERCEPTORS");let Xy=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Jy=/^\)\]\}',?\n/;let t_=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new b(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Py(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Hy({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Jy,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new Ky({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Wy({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Wy({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const c=r=>{l||(e.next(s()),l=!0);let i={type:qy.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:qy.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:qy.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(lr(Uu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const e_=new Hn("XSRF_COOKIE_NAME"),n_=new Hn("XSRF_HEADER_NAME");class r_{}let i_=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc),lr(rc),lr(e_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),s_=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(lr(r_),lr(n_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),o_=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Yy,[]);this.chain=t.reduceRight((t,e)=>new Zy(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(lr(Oy),lr(no))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),a_=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:s_,useClass:Xy}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:e_,useValue:e.cookieName}:[],e.headerName?{provide:n_,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[s_,{provide:Yy,useExisting:s_,multi:!0},{provide:r_,useClass:i_},{provide:e_,useValue:"XSRF-TOKEN"},{provide:n_,useValue:"X-XSRF-TOKEN"}]}),t})(),l_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[Qy,{provide:Dy,useClass:o_},t_,{provide:Oy,useExisting:t_}],imports:[[a_.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const c_=["*"];function u_(t){return Error(`Unable to find icon with the name "${t}"`)}function h_(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function d_(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class p_{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let f_=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new p_(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,r){const i=this._sanitizer.sanitize(Gr.HTML,n);if(!i)throw d_(n);return this._addSvgIconConfig(t,e,new p_("",i,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new p_(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(Gr.HTML,e);if(!r)throw d_(e);return this._addSvgIconSetConfig(t,new p_("",r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Gr.RESOURCE_URL,t);if(!e)throw h_(t);const n=this._cachedIconsByUrl.get(e);return n?rp(m_(n)):this._loadSvgIconFromConfig(new p_(t,null)).pipe(_y(t=>this._cachedIconsByUrl.set(e,t)),x(t=>m_(t)))}getNamedSvgIcon(t,e=""){const n=g_(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):my(u_(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?rp(m_(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(x(t=>m_(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?rp(n):vh(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(wy(e=>{const n=this._sanitizer.sanitize(Gr.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),rp(null)})))).pipe(x(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw u_(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(_y(e=>t.svgText=e),x(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?rp(null):this._fetchIcon(t).pipe(_y(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:r}=t,i=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(Gr.RESOURCE_URL,n);if(!s)throw h_(n);const o=this._inProgressUrlFetches.get(s);if(o)return o;const a=this._httpClient.get(s,{responseType:"text",withCredentials:i}).pipe(Cy(()=>this._inProgressUrlFetches.delete(s)),et());return this._inProgressUrlFetches.set(s,a),a}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(g_(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new p_(i.url,null,i.options):new p_(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(lr(Qy,8),lr(ph),lr(Zc,8),lr(ei))},t.\u0275prov=ft({factory:function(){return new t(lr(Qy,8),lr(ph),lr(Zc,8),lr(ei))},token:t,providedIn:"root"}),t})();function m_(t){return t.cloneNode(!0)}function g_(t,e){return t+":"+e}const y_=Qg(class{constructor(t){this._elementRef=t}}),__=new Hn("mat-icon-location",{providedIn:"root",factory:function(){const t=cr(Zc),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),v_=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],b_=v_.map(t=>`[${t}]`).join(", "),w_=/^url\(['"]?#(.*?)['"]?\)$/;let S_=(()=>{class t extends y_{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=h.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=vp(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(b_),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)v_.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(w_):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(lp(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(f_),qn("aria-hidden"),So(__),So(ei))},t.\u0275cmp=Ht({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(_o("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),Wo("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[io],ngContentSelectors:c_,decls:1,vars:0,template:function(t,e){1&t&&(Bo(),zo(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),E_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Wg],Wg]}),t})();class C_ extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class k_ extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function T_(t,e,n,r,i=new k_(t,n,r)){if(!i.closed)return e instanceof b?e.subscribe(i):M(e)(i)}const I_={};class x_{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new A_(t,this.resultSelector))}}class A_ extends C_{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(I_),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(T_(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===I_?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const R_=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function D_(...t){return H(1)(rp(...t))}function O_(t){return new b(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?V(n):ap()).subscribe(e)})}function P_(t,e){return"function"==typeof e?n=>n.pipe(P_((n,r)=>V(t(n,r)).pipe(x((t,i)=>e(n,t,r,i))))):e=>e.lift(new N_(t))}class N_{constructor(t){this.project=t}call(t,e){return e.subscribe(new L_(t,this.project))}}class L_ extends j{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new U(this),r=this.destination;r.add(n),this.innerSubscription=B(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function M_(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>D_(t,n,e)):e=>D_(t,e)}function F_(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new V_(t,e,n))}}class V_{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new U_(t,this.accumulator,this.seed,this.hasSeed))}}class U_ extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function j_(t){return function(e){return 0===t?ap():e.lift(new B_(t))}}class B_{constructor(t){if(this.total=t,this.total<0)throw new sp}call(t,e){return e.subscribe(new z_(t,this.total))}}class z_ extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function q_(t=K_){return e=>e.lift(new $_(t))}class $_{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new H_(t,this.errorFactory))}}class H_ extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function K_(){return new R_}function W_(t=null){return e=>e.lift(new G_(t))}class G_{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Q_(t,this.defaultValue))}}class Q_ extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Z_(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xy((e,n)=>t(e,n,r)):y,lp(1),n?W_(e):q_(()=>new R_))}class Y_{constructor(t,e){this.id=t,this.url=e}}class X_ extends Y_{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class J_ extends Y_{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tv extends Y_{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ev extends Y_{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nv extends Y_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rv extends Y_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iv extends Y_{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sv extends Y_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ov extends Y_{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class av{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lv{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cv{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uv{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hv{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dv{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pv{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fv{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mv(t){return new fv(t)}function gv(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yv(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _v(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vv(t[i],e[i]))return!1;return!0}function vv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function bv(t){return Array.prototype.concat.apply([],t)}function wv(t){return t.length>0?t[t.length-1]:null}function Sv(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ev(t){return Po(t)?t:Do(t)?V(Promise.resolve(t)):rp(t)}const Cv={exact:function t(e,n,r){if(!Pv(e.segments,n.segments))return!1;if(!Av(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Iv},kv={exact:function(t,e){return _v(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vv(t[n],e[n]))},ignored:()=>!0};function Tv(t,e,n){return Cv[n.paths](t.root,e.root,n.matrixParams)&&kv[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Iv(t,e,n){return xv(t,e,e.segments,n)}function xv(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Pv(i,n)&&!e.hasChildren()&&!!Av(i,n,r)}if(t.segments.length===n.length){if(!Pv(t.segments,n))return!1;if(!Av(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Iv(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Pv(t.segments,i)&&!!Av(t.segments,i,r)&&!!t.children.primary&&xv(t.children.primary,e,s,r)}}function Av(t,e,n){return e.every((e,r)=>kv[n](t[r].parameters,e.parameters))}class Rv{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mv(this.queryParams)),this._queryParamMap}toString(){return Mv.serialize(this)}}class Dv{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sv(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fv(this)}}class Ov{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=mv(this.parameters)),this._parameterMap}toString(){return $v(this)}}function Pv(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Nv{}class Lv{parse(t){const e=new Qv(t);return new Rv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Vv(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${jv(e)}=${jv(t)}`).join("&"):`${jv(e)}=${jv(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Mv=new Lv;function Fv(t){return t.segments.map(t=>$v(t)).join("/")}function Vv(t,e){if(!t.hasChildren())return Fv(t);if(e){const e=t.children.primary?Vv(t.children.primary,!1):"",n=[];return Sv(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Vv(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Sv(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Sv(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>"primary"===n?[Vv(t.children.primary,!1)]:[`${n}:${Vv(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Fv(t)}/${e[0]}`:`${Fv(t)}/(${e.join("//")})`}}function Uv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jv(t){return Uv(t).replace(/%3B/gi,";")}function Bv(t){return Uv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zv(t){return decodeURIComponent(t)}function qv(t){return zv(t.replace(/\+/g,"%20"))}function $v(t){return`${Bv(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Bv(t)}=${Bv(e[t])}`).join("")}`;var e}const Hv=/^[^\/()?;=#]+/;function Kv(t){const e=t.match(Hv);return e?e[0]:""}const Wv=/^[^=?&#]+/,Gv=/^[^?&#]+/;class Qv{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dv([],{}):new Dv([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dv(t,e)),n}parseSegment(){const t=Kv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ov(zv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kv(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Kv(this.remaining);t&&(n=t,this.capture(n))}t[zv(e)]=zv(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wv);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gv);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=qv(e),i=qv(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Kv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Dv([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Zv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yv(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Xv(t,this._root).map(t=>t.value)}}function Yv(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yv(t,n);if(e)return e}return null}function Xv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Xv(t,n);if(r.length)return r.unshift(e),r}return[]}class Jv{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tb(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class eb extends Zv{constructor(t,e){super(t),this.snapshot=e,ab(this,t)}toString(){return this.snapshot.toString()}}function nb(t,e){const n=function(t,e){const n=new sb([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ob("",new Jv(n,[]))}(t,e),r=new np([new Ov("",{})]),i=new np({}),s=new np({}),o=new np({}),a=new np(""),l=new rb(r,i,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new eb(new Jv(l,[]),n)}class rb{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(x(t=>mv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(x(t=>mv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ib(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class sb{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ob extends Zv{constructor(t,e){super(e),this.url=t,ab(this,e)}toString(){return lb(this._root)}}function ab(t,e){e.value._routerState=t,e.children.forEach(e=>ab(t,e))}function lb(t){const e=t.children.length>0?` { ${t.children.map(lb).join(", ")} } `:"";return`${t.value}${e}`}function cb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_v(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_v(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_v(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_v(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ub(t,e){return _v(t.params,e.params)&&function(t,e){return Pv(t,e)&&t.every((t,n)=>_v(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||ub(t.parent,e.parent))}function hb(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return hb(t,e,r);return hb(t,e)})}(t,e,n);return new Jv(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return db(e,t),t}}const n=new rb(new np((r=e.value).url),new np(r.params),new np(r.queryParams),new np(r.fragment),new np(r.data),r.outlet,r.component,r),i=e.children.map(e=>hb(t,e));return new Jv(n,i)}var r}function db(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)db(t.children[n],e.children[n])}function pb(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fb(t){return"object"==typeof t&&null!=t&&t.outlets}function mb(t,e,n,r,i){let s={};return r&&Sv(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Rv(n.root===t?e:gb(n.root,t,e),s,i)}function gb(t,e,n){const r={};return Sv(t.children,(t,i)=>{r[i]=t===e?n:gb(t,e,n)}),new Dv(t.segments,r)}class yb{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pb(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(fb);if(r&&r!==wv(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _b{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function vb(t,e,n){if(t||(t=new Dv([],{})),0===t.segments.length&&t.hasChildren())return bb(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(fb(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Cb(a,l,e))return s;r+=2}else{if(!Cb(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Dv(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Dv(t.segments.slice(r.pathIndex),t.children),bb(e,0,i)}return r.match&&0===i.length?new Dv(t.segments,{}):r.match&&!t.hasChildren()?wb(t,e,n):r.match?bb(t,0,i):wb(t,e,n)}function bb(t,e,n){if(0===n.length)return new Dv(t.segments,{});{const r=function(t){return fb(t[0])?t[0].outlets:{primary:t}}(n),i={};return Sv(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=vb(t.children[r],e,n))}),Sv(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Dv(t.segments,i)}}function wb(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(fb(s)){const t=Sb(s.outlets);return new Dv(r,t)}if(0===i&&pb(n[0])){r.push(new Ov(t.segments[e].path,Eb(n[0]))),i++;continue}const o=fb(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&pb(a)?(r.push(new Ov(o,Eb(a))),i+=2):(r.push(new Ov(o,{})),i++)}return new Dv(r,{})}function Sb(t){const e={};return Sv(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=wb(new Dv([],{}),0,t))}),e}function Eb(t){const e={};return Sv(t,(t,n)=>e[n]=`${t}`),e}function Cb(t,e,n){return t==n.path&&_v(e,n.parameters)}class kb{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=tb(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Sv(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=tb(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=tb(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new dv(t.value.snapshot))}),t.children.length&&this.forwardEvent(new uv(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(cb(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Tb(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Tb(t){cb(t.value),t.children.forEach(Tb)}class Ib{constructor(t,e){this.routes=t,this.module=e}}function xb(t){return"function"==typeof t}function Ab(t){return t instanceof Rv}const Rb=Symbol("INITIAL_VALUE");function Db(){return P_(t=>function(...t){let e,n;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),K(t,n).lift(new x_(e))}(t.map(t=>t.pipe(lp(1),M_(Rb)))).pipe(F_((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Rb)return t;if(r===Rb&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ab(r))return r}return t},t)},Rb),xy(t=>t!==Rb),x(t=>Ab(t)?t:!0===t),lp(1)))}let Ob=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Io(0,"router-outlet")},directives:function(){return[Rw]},encapsulation:2}),t})();function Pb(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nb(r,Lb(e,r))}}function Nb(t,e){t.children&&Pb(t.children,e)}function Lb(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Mb(t){const e=t.children&&t.children.map(Mb),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ob),n}function Fb(t){return t.outlet||"primary"}function Vb(t,e){const n=t.filter(t=>Fb(t)===e);return n.push(...t.filter(t=>Fb(t)!==e)),n}const Ub={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jb(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ub):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yv)(n,t,e);if(!i)return Object.assign({},Ub);const s={};Sv(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Bb(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>zb(t,e,n)&&"primary"!==Fb(n))}(t,n,r)){const i=new Dv(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Fb(s)){const n=new Dv([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Fb(s)]=n}return i}(t,e,r,new Dv(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>zb(t,e,n))}(t,n,r)){const s=new Dv(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(zb(t,n,a)&&!i[Fb(a)]){const n=new Dv([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Fb(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Dv(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function zb(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function qb(t,e,n,r){return!!(Fb(t)===r||"primary"!==r&&zb(e,n,t))&&("**"===t.path||jb(e,t,n).matched)}function $b(t,e,n){return 0===e.length&&!t.children[n]}class Hb{constructor(t){this.segmentGroup=t||null}}class Kb{constructor(t){this.urlTree=t}}function Wb(t){return new b(e=>e.error(new Hb(t)))}function Gb(t){return new b(e=>e.error(new Kb(t)))}function Qb(t){return new b(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Zb{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(ol)}apply(){const t=Bb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dv(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,"primary").pipe(x(t=>this.createUrlTree(Yb(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wy(t=>{if(t instanceof Kb)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Hb)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(x(e=>this.createUrlTree(Yb(e),t.queryParams,t.fragment))).pipe(wy(t=>{if(t instanceof Hb)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Dv([],{primary:t}):t;return new Rv(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(x(t=>new Dv([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return V(r).pipe(Iy(r=>{const i=n.children[r],s=Vb(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(x(t=>({segment:t,outlet:r})))}),F_((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?xy((e,n)=>t(e,n,r)):y,j_(1),n?W_(e):q_(()=>new R_))}())}expandSegment(t,e,n,r,i,s){return V(n).pipe(Iy(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(wy(t=>{if(t instanceof Hb)return rp(null);throw t}))),Z_(t=>!!t),wy((t,n)=>{if(t instanceof R_||"EmptyError"===t.name){if($b(e,r,i))return rp(new Dv([],{}));throw new Hb(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return qb(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Wb(e):Wb(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Gb(i):this.lineralizeSegments(n,i).pipe(z(n=>{const i=new Dv(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=jb(e,r,i);if(!o)return Wb(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Gb(u):this.lineralizeSegments(r,u).pipe(z(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?rp(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(x(t=>(n._loadedConfig=t,new Dv(r,{})))):rp(new Dv(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=jb(e,n,r);if(!s)return Wb(e);const l=r.slice(a);return this.getChildConfig(t,n,r).pipe(z(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Bb(e,o,l,s),u=new Dv(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe(x(t=>new Dv(o,t)));if(0===s.length&&0===c.length)return rp(new Dv(o,{}));const h=Fb(n)===i;return this.expandSegment(r,u,s,c,h?"primary":i,!0).pipe(x(t=>new Dv(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?rp(new Ib(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?rp(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(z(n=>n?this.configLoader.load(t.injector,e).pipe(x(t=>(e._loadedConfig=t,t))):function(t){return new b(e=>e.error(gv(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):rp(new Ib([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?rp(r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&xb(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!xb(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Ev(s)})).pipe(Db(),_y(t=>{if(!Ab(t))return;const e=gv(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),x(t=>!0===t)):rp(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return rp(n);if(r.numberOfChildren>1||!r.children.primary)return Qb(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Rv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Sv(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Sv(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Dv(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Yb(t){const e={};for(const n of Object.keys(t.children)){const r=Yb(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Dv(t.segments.concat(e.segments),e.children)}return t}(new Dv(t.segments,e))}class Xb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Jb{constructor(t,e){this.component=t,this.route=e}}function tw(t,e,n){const r=t._root;return nw(r,e?e._root:null,n,[r.value])}function ew(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function nw(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=tb(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pv(t.url,e.url)||!_v(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ub(t,e)||!_v(t.queryParams,e.queryParams);case"paramsChange":default:return!ub(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Xb(r)):(s.data=o.data,s._resolvedData=o._resolvedData),nw(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jb(a.outlet.component,o))}else o&&rw(e,a,i),i.canActivateChecks.push(new Xb(r)),nw(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Sv(s,(t,e)=>rw(t,n.getContext(e),i)),i}function rw(t,e,n){const r=tb(t),i=t.value;Sv(r,(t,r)=>{rw(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Jb(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class iw{}function sw(t){return new b(e=>e.error(t))}class ow{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Bb(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;const n=new sb([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jv(n,e),i=new ob(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ib(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Vb(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=lw(n);return r.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return $b(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!qb(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?wv(n).parameters:{};i=new sb(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hw(t),Fb(t),t.component,t,cw(e),uw(e)+n.length,dw(t))}else{const r=jb(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new sb(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hw(t),Fb(t),t.component,t,cw(e),uw(e)+s.length,dw(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Bb(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new Jv(i,t)]}if(0===a.length&&0===c.length)return[new Jv(i,[])];const u=Fb(t)===r,h=this.processSegment(a,l,c,u?"primary":r);return null===h?null:[new Jv(i,h)]}}function aw(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function lw(t){const e=[],n=new Set;for(const r of t){if(!aw(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=lw(r.children);e.push(new Jv(r.value,t))}return e.filter(t=>!n.has(t))}function cw(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uw(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hw(t){return t.data||{}}function dw(t){return t.resolve||{}}function pw(t){return P_(e=>{const n=t(e);return n?V(n).pipe(x(()=>e)):rp(e)})}class fw extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mw=new Hn("ROUTES");class gw{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(x(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ib(bv(r.injector.get(mw,void 0,Et.Self|Et.Optional)).map(Mb),r)}),wy(t=>{throw e._loader$=void 0,t}));return e._loader$=new Y(n,()=>new k).pipe(G()),e._loader$}loadModuleFactory(t){return"string"==typeof t?V(this.loader.load(t)):Ev(t()).pipe(z(t=>t instanceof al?rp(t):V(this.compiler.compileModuleAsync(t))))}}class yw{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _w,this.attachRef=null}}class _w{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yw,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class vw{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function bw(t){throw t}function ww(t,e,n){return e.parse("/")}function Sw(t,e){return rp(null)}const Ew={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kw=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=bw,this.malformedUriErrorHandler=ww,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Sw,afterPreactivation:Sw},this.urlHandlingStrategy=new vw,this.routeReuseStrategy=new fw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(ol),this.console=i.get(sc);const l=i.get(_c);this.isNgZoneEnabled=l instanceof _c&&_c.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Rv(new Dv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gw(s,o,t=>this.triggerEvent(new av(t)),t=>this.triggerEvent(new lv(t))),this.routerState=nb(this.currentUrlTree,this.rootComponentType),this.transitions=new np({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(xy(t=>0!==t.id),x(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),P_(t=>{let n=!1,r=!1;return rp(t).pipe(_y(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),P_(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return rp(t).pipe(P_(t=>{const n=this.transitions.getValue();return e.next(new X_(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?op:Promise.resolve(t)}),function(t,e,n,r){return P_(i=>function(t,e,n,r,i){return new Zb(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(x(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_y(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return z(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new ow(t,e,n,r,i,s).recognize();return null===o?sw(new iw):rp(o)}catch(o){return sw(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(x(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),_y(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new nv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new X_(n,this.serializeUrl(r),i,s);e.next(a);const l=nb(r,this.rootComponentType).snapshot;return rp(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),op}),pw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),_y(t=>{const e=new rv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),x(t=>Object.assign(Object.assign({},t),{guards:tw(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return z(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?rp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return V(t).pipe(z(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?rp(s.map(s=>{const o=ew(s,e,i);let a;if(function(t){return t&&xb(t.canDeactivate)}(o))a=Ev(o.canDeactivate(t,e,n,r));else{if(!xb(o))throw new Error("Invalid CanDeactivate guard");a=Ev(o(t,e,n,r))}return a.pipe(Z_())})).pipe(Db()):rp(!0)}(t.component,t.route,n,e,r)),Z_(t=>!0!==t,!0))}(o,r,i,t).pipe(z(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return V(e).pipe(Iy(e=>D_(function(t,e){return null!==t&&e&&e(new cv(t)),rp(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new hv(t)),rp(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>O_(()=>rp(e.guards.map(i=>{const s=ew(i,e.node,n);let o;if(function(t){return t&&xb(t.canActivateChild)}(s))o=Ev(s.canActivateChild(r,t));else{if(!xb(s))throw new Error("Invalid CanActivateChild guard");o=Ev(s(r,t))}return o.pipe(Z_())})).pipe(Db())));return rp(i).pipe(Db())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?rp(r.map(r=>O_(()=>{const i=ew(r,e,n);let s;if(function(t){return t&&xb(t.canActivate)}(i))s=Ev(i.canActivate(e,t));else{if(!xb(i))throw new Error("Invalid CanActivate guard");s=Ev(i(e,t))}return s.pipe(Z_())}))).pipe(Db()):rp(!0)}(t,e.route,n))),Z_(t=>!0!==t,!0))}(r,s,t,e):rp(n)),x(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),_y(t=>{if(Ab(t.guardsResult)){const e=gv(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new iv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),xy(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),pw(t=>{if(t.guards.canActivateChecks.length)return rp(t).pipe(_y(t=>{const e=new sv(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),P_(t=>{let e=!1;return rp(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,z(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return rp(t);let s=0;return V(i).pipe(Iy(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return rp({});const s={};return V(i).pipe(z(i=>function(t,e,n,r){const i=ew(t,e,r);return Ev(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(_y(t=>{s[i]=t}))),j_(1),z(()=>Object.keys(s).length===i.length?rp(s):op))}(t._resolve,t,e,r).pipe(x(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ib(t,n).resolve),null)))}(t.route,e,n,r)),_y(()=>s++),j_(1),z(e=>s===i.length?rp(t):op))})),_y({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),_y(t=>{const e=new ov(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),pw(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),x(t=>{const e=function(t,e,n){const r=hb(t,e._root,n?n._root:void 0);return new eb(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),_y(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),x(t=>(new kb(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),_y({next(){n=!0},complete(){n=!0}}),Cy(()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null}),wy(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ab(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new tv(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ev(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Kj){t.reject(Kj)}}var i;return op}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Pb(t),this.config=t.map(Mb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return mb(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new yb(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Sv(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new yb(n,e,r)}(n);if(s.toRoot())return mb(e.root,new Dv([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new _b(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new _b(t,t===e.root,0)}const r=pb(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new _b(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?bb(o.segmentGroup,o.index,s.commands):vb(o.segmentGroup,o.index,s.commands);return mb(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ab(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Ew):!1===e?Object.assign({},Cw):e,Ab(t))return Tv(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Tv(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new J_(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let l,c,u;i?(l=i.resolve,c=i.reject,u=i.promise):u=new Promise((t,e)=>{l=t,c=e});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new tv(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(lr(Wn),lr(Nv),lr(_w),lr(hu),lr(no),lr(jc),lr(mc),lr(void 0))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Tw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new k,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:xw(this.skipLocationChange),replaceUrl:xw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xw(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(So(kw),So(rb),qn("tabindex"),So(xa),So(ka))},t.\u0275dir=Yt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&No("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ce]}),t})(),Iw=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new k,this.subscription=t.events.subscribe(t=>{t instanceof J_&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:xw(this.skipLocationChange),replaceUrl:xw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xw(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(So(kw),So(rb),So(ou))},t.\u0275dir=Yt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&No("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(na("href",e.href,Qr),_o("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[ce]}),t})();function xw(t){return""===t||!!t}let Aw=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof J_&&this.update()})}ngAfterContentInit(){rp(this.links.changes,this.linksWithHrefs.changes,rp(null)).pipe(H()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=V(e).pipe(H()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(So(kw),So(ka),So(xa),So(Ya),So(Tw,8),So(Iw,8))},t.\u0275dir=Yt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(Hl(n,Tw,5),Hl(n,Iw,5)),2&t){let t;ql(t=Kl())&&(e.links=t),ql(t=Kl())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[ce]}),t})(),Rw=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Dl,this.deactivateEvents=new Dl,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Dw(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(So(_w),So(cl),So(wa),qn("name"),So(Ya))},t.\u0275dir=Yt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Dw{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rb?this.route:t===_w?this.childContexts:this.parent.get(t,e)}}class Ow{}class Pw{preload(t,e){return rp(null)}}let Nw=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new gw(e,n,e=>t.triggerEvent(new av(e)),e=>t.triggerEvent(new lv(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(xy(t=>t instanceof J_),Iy(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ol);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return V(n).pipe(H(),x(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?rp(e._loadedConfig):this.loader.load(t.injector,e)).pipe(z(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(lr(kw),lr(jc),lr(mc),lr(no),lr(Ow))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Lw=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof J_&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new pv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(lr(kw),lr(Mu),lr(void 0))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Mw=new Hn("ROUTER_CONFIGURATION"),Fw=new Hn("ROUTER_FORROOT_GUARD"),Vw=[hu,{provide:Nv,useClass:Lv},{provide:kw,useFactory:function(t,e,n,r,i,s,o,a={},l,c){const u=new kw(null,t,e,n,r,i,s,bv(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Nv,_w,hu,no,jc,mc,mw,Mw,[class{},new pr],[class{},new pr]]},_w,{provide:rb,useFactory:function(t){return t.routerState.root},deps:[kw]},{provide:jc,useClass:qc},Nw,Pw,class{preload(t,e){return e().pipe(wy(()=>rp(null)))}},{provide:Mw,useValue:{enableTracing:!1}}];function Uw(){return new Pc("Router",kw)}let jw=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Vw,$w(e),{provide:Fw,useFactory:qw,deps:[[kw,new pr,new fr]]},{provide:Mw,useValue:n||{}},{provide:ou,useFactory:zw,deps:[Yc,[new dr(lu),new pr],Mw]},{provide:Lw,useFactory:Bw,deps:[kw,Mu,Mw]},{provide:Ow,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Pw},{provide:Pc,multi:!0,useFactory:Uw},[Hw,{provide:Yl,multi:!0,useFactory:Kw,deps:[Hw]},{provide:Gw,useFactory:Ww,deps:[Hw]},{provide:ic,multi:!0,useExisting:Gw}]]}}static forChild(e){return{ngModule:t,providers:[$w(e)]}}}return t.\u0275fac=function(e){return new(e||t)(lr(Fw,8),lr(kw,8))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();function Bw(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Lw(t,e,n)}function zw(t,e,n={}){return n.useHash?new uu(t,e):new cu(t,e)}function qw(t){return"guarded"}function $w(t){return[{provide:Kn,multi:!0,useValue:t},{provide:mw,multi:!0,useValue:t}]}let Hw=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Jc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(kw),r=this.injector.get(Mw);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?rp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Mw),n=this.injector.get(Nw),r=this.injector.get(Lw),i=this.injector.get(kw),s=this.injector.get(Vc);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(lr(no))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Kw(t){return t.appInitializer.bind(t)}function Ww(t){return t.bootstrapListener.bind(t)}const Gw=new Hn("Router Initializer");let Qw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["my-app"]],decls:27,vars:0,consts:[["color","primary"],[1,"main"],["routerLink","/binding","routerLinkActive","activebutton",1,"button"],["routerLink","/forms","routerLinkActive","activebutton",1,"button"],["routerLink","/directives","routerLinkActive","activebutton",1,"button"],["routerLink","/about","routerLinkActive","activebutton",1,"button"],["routerLink","/storeview","routerLinkActive","activebutton",1,"button"],["routerLink","/reactiveform","routerLinkActive","activebutton",1,"button"],["routerLink","/grid","routerLinkActive","activebutton",1,"button"],["routerLink","/crud","routerLinkActive","activebutton",1,"button"],["routerLink","/auth","routerLinkActive","activebutton",1,"button"]],template:function(t,e){1&t&&(ko(0,"mat-toolbar",0),ko(1,"mat-icon"),Xo(2,"local_fire_department"),To(),ko(3,"span"),Xo(4,"Kanban Fire"),To(),To(),ko(5,"main",1),ko(6,"nav"),ko(7,"a",2),Xo(8,"Binding"),To(),Xo(9," | "),ko(10,"a",3),Xo(11,"Forms"),To(),ko(12,"a",4),Xo(13,"Directives"),To(),ko(14,"a",5),Xo(15,"About"),To(),ko(16,"a",6),Xo(17,"StoreView"),To(),ko(18,"a",7),Xo(19,"Reactive Form"),To(),ko(20,"a",8),Xo(21,"Grid CRUD"),To(),ko(22,"a",9),Xo(23,"user CRUD"),To(),ko(24,"a",10),Xo(25,"user login"),To(),To(),Io(26,"router-outlet"),To())},directives:[py,S_,Iw,Aw,Rw],styles:[".button[_ngcontent-%COMP%]{box-shadow:inset 0 1px 0 0 #fff;background:#fff linear-gradient(180deg,#fff 5%,#f6f6f6);border-radius:6px;border:1px solid #dcdcdc;color:#666;text-shadow:0 1px 0 #fff}.activebutton[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;font-family:Arial,sans-serif;font-size:15px;font-weight:700;padding:6px 24px;text-decoration:none;outline:0}.activebutton[_ngcontent-%COMP%]{box-shadow:inset 0 1px 0 0 #dcecfb;background:#bddbfa linear-gradient(180deg,#bddbfa 5%,#80b5ea);border-radius:6px;border:1px solid #84bbf3;color:#fff;text-shadow:0 1px 0 #528ecc}.main[_ngcontent-%COMP%]{width:90%;margin:1rem auto}"]}),t})(),Zw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[],imports:[[_h,tp]]}),t})(),Yw=(()=>{class t{constructor(){}write(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xw=(()=>{class t{constructor(t){this.logService=t,this.data=["AB","CD"]}getData(){return this.logService.write("data.service: getData"),rp(this.data)}addData(t){this.logService.write("data.service: add Data"),this.data.push(t)}}return t.\u0275fac=function(e){return new(e||t)(lr(Yw))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Jw(t,e){if(1&t&&(ko(0,"option"),Xo(1),To()),2&t){const t=e.$implicit;$i(1),Jo(t)}}let tS=(()=>{class t{constructor(t){this.dataService=t,this.name="def name",this.list=[]}submit(t){console.log(t),console.log(this.name,this.email,this.phone)}ngOnInit(){this.dataService.getData().subscribe(t=>this.list=t)}addItem(){this.dataService.addData(this.item)}}return t.\u0275fac=function(e){return new(e||t)(So(Xw))},t.\u0275cmp=Ht({type:t,selectors:[["forms"]],features:[_a([Xw,Yw])],decls:32,vars:7,consts:[[1,"main"],["type","text","name","","id",""],["action","","novalidate",""],["myForm","ngForm"],[1,"form-group"],["name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","email","ngModel","","required","","email","",1,"form-control"],["name","phone","ngModel","","required","","pattern","[0-9]{10}",1,"form-control"],[1,"btn","btn-default",3,"disabled","click"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["name","list","id","",1,"form-control","list-group",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"]],template:function(t,e){if(1&t){const t=Ro();ko(0,"div",0),Io(1,"input",1),Xo(2," use: ng g component --flat --skip-tests Comp "),ko(3,"form",2,3),ko(5,"div",4),ko(6,"label"),Xo(7,"\u0418\u043c\u044f"),To(),ko(8,"input",5),No("ngModelChange",function(t){return e.name=t}),To(),To(),ko(9,"div",4),ko(10,"label"),Xo(11,"Email"),To(),Io(12,"input",6),To(),ko(13,"div",4),ko(14,"label"),Xo(15,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),To(),Io(16,"input",7),To(),ko(17,"div",4),ko(18,"button",8),No("click",function(){Oe(t);const n=wo(4);return e.submit(n)}),Xo(19,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),To(),To(),To(),ko(20,"div"),Xo(21),To(),ko(22,"div"),Xo(23),To(),Io(24,"hr"),Io(25,"br"),ko(26,"div",4),ko(27,"input",9),No("ngModelChange",function(t){return e.item=t}),To(),ko(28,"select",10),No("ngModelChange",function(t){return e.selectedItem=t}),bo(29,Jw,2,1,"option",11),To(),ko(30,"button",12),No("click",function(){return e.addItem()}),Xo(31,"Add item"),To(),To(),To()}if(2&t){const t=wo(4);$i(8),Eo("ngModel",e.name),$i(10),Eo("disabled",t.invalid),$i(3),ta("\u0418\u043c\u044f: ",t.value.name,""),$i(2),ta("Email: ",t.value.email,""),$i(4),Eo("ngModel",e.item),$i(1),Eo("ngModel",e.selectedItem),$i(1),Eo("ngForOf",e.list)}},directives:[Rd,nd,Td,xh,Gd,ed,Ad,Zd,Xd,Bd,bu,zd,Kd],styles:[".ng-dirty[_ngcontent-%COMP%]{border-color:#53f4ee;border-width:2px}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:2px solid #bb5e5e}input.ng-touched.ng-valid[_ngcontent-%COMP%]{border:2px solid #5b835b}"]}),t})(),eS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["about-component"]],decls:2,vars:0,template:function(t,e){1&t&&(ko(0,"p"),Xo(1,"about-component works!"),To())},styles:[""]}),t})(),nS=(()=>{class t{constructor(){this.inputTextChange=new Dl,this.onChanged=new Dl,console.log("test.component Constructing...")}onInputTextChange(t){this.inputText=t,this.inputTextChange.emit(t)}change(t){this.onChanged.emit(10*t)}ngOnInit(){console.log("test.component Init.")}ngOnChanges(t){for(let e in t){let n=t[e],r=JSON.stringify(n.currentValue),i=JSON.stringify(n.previousValue);console.log(`${e}: currentValue = ${r}, previousValue = ${i}`)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["test"]],inputs:{inputText:"inputText"},outputs:{inputTextChange:"inputTextChange",onChanged:"onChanged"},features:[ce],decls:9,vars:1,consts:[[1,"test__component"],[3,"click"],["type","text","name","childText","id","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(ko(0,"div",0),Xo(1," component for test event binding "),ko(2,"button",1),No("click",function(){return e.change(1)}),Xo(3,"click me add"),To(),ko(4,"button",1),No("click",function(){return e.change(-2)}),Xo(5,"click me 2"),To(),ko(6,"h4"),Xo(7,"two way bind:"),To(),ko(8,"input",2),No("ngModelChange",function(t){return e.onInputTextChange(t)}),To(),To()),2&t&&($i(8),Eo("ngModel",e.inputText))},directives:[xh,ed,Ad],encapsulation:2}),t})();function rS(t,e){if(1&t&&(ko(0,"tr",4),ko(1,"td",5),Xo(2),To(),ko(3,"td",5),Xo(4),To(),To()),2&t){const t=e.$implicit;$i(2),Jo(t.name),$i(2),Jo(t.price)}}const iS=[[["","bottom",""]]],sS=["[bottom]"];class oS{constructor(t,e){this.name=t,this.price=e}}let aS=(()=>{class t{constructor(){this.products=[new oS("bag Z-a2",.1),new oS("Default phone",2.5)]}set inInfo(t){this._inInfo=t.toLocaleUpperCase().trim()+"(C)"}get inInfo(){return this._inInfo}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["cart-list"]],inputs:{inInfo:"inInfo"},ngContentSelectors:sS,decls:9,vars:3,consts:[[1,"cart"],[1,"list"],[1,"cart__table"],["class","cart__row",4,"ngFor","ngForOf"],[1,"cart__row"],[1,"cart__cell"]],template:function(t,e){1&t&&(Bo(iS),ko(0,"div",0),ko(1,"div",1),ko(2,"table",2),bo(3,rS,5,2,"tr",3),To(),ko(4,"h2"),Xo(5),To(),ko(6,"h2"),Xo(7),To(),zo(8),To(),To()),2&t&&($i(3),Eo("ngForOf",e.products),$i(2),Jo(e.inInfo),$i(2),ta("Filtred by setter: ",e._inInfo,""))},directives:[bu],styles:[".cart__row[_ngcontent-%COMP%]{border-bottom:1px solid #d7d7d7}.cart__cell[_ngcontent-%COMP%]{padding:1rem;font-size:1.1em;border-right:1px solid #d7d7d7}.cart__table[_ngcontent-%COMP%]{outline:1px solid #ddd;padding:1em}"]}),t})(),lS=(()=>{class t{constructor(){this.content="some data"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["data-fix"]],decls:2,vars:1,template:function(t,e){1&t&&(ko(0,"h1"),Xo(1),To()),2&t&&($i(1),ta("data: ",e.content,""))},styles:["font-size[_ngcontent-%COMP%]:12px;font-family[_ngcontent-%COMP%]:monospace;"]}),t})();const cS=["parRef"];function uS(t,e){if(1&t&&(ko(0,"li",37),Xo(1),To()),2&t){const t=e.$implicit;$i(1),Jo(t.name)}}function hS(t,e){if(1&t&&(ko(0,"div",35),ko(1,"ul"),bo(2,uS,2,1,"li",36),To(),To()),2&t){const t=Uo();$i(2),Eo("ngForOf",t.products)}}function dS(t,e){if(1&t&&(ko(0,"tr"),ko(1,"td"),Xo(2),To(),ko(3,"td"),Xo(4),To(),ko(5,"td"),ko(6,"input",38),No("ngModelChange",function(t){return e.$implicit.done=t}),To(),To(),To()),2&t){const t=e.$implicit;$i(2),Jo(t.purchase),$i(2),Jo(t.price),$i(2),Eo("ngModel",t.done)}}class pS{constructor(t,e){this.purchase=t,this.price=e,this.done=!1}}let fS=(()=>{class t{constructor(){this.text="",this.price=0,this.bindValue="test bind value",this.bindTwoWay="-",this.complex={name:"Vault 64",size:24.02},this.x=0,this.incrementText="Value x:",this.isOn=!1,this.counter=0,this.showShopBlock=!1,this.products=[{name:"phone X-1"},{name:"PC One-Z"},{name:"Box Rezona"}],this.items=[{purchase:"\u0425\u043b\u0435\u0431",done:!1,price:15.9},{purchase:"\u041c\u0430\u0441\u043b\u043e",done:!1,price:60},{purchase:"\u041a\u0430\u0440\u0442\u043e\u0444\u0435\u043b\u044c",done:!0,price:22.6},{purchase:"\u0421\u044b\u0440",done:!1,price:310}]}ngOnInit(){}changeByRef(){void 0!==this.parRef&&(this.parRef.nativeElement.textContent+=".")}toggleShopBlock(){this.showShopBlock=!this.showShopBlock,console.log(this.showShopBlock)}showValue(){console.log(this.bindValue)}changeValue(){this.bindValue+="+",this.bindTwoWay+="$",setInterval(()=>{this.complex.size*=1.01},200)}increment(t){this.x++,this.incrementText=`Value x: ${this.x}`,console.log(t),this.testComponent.change(55)}addItem(t,e){null!=t&&""!=t.trim()&&null!=e&&this.items.push(new pS(t,e))}onChange(t){this.counter+=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["basic-bindign"]],viewQuery:function(t,e){if(1&t&&($l(nS,5),$l(cS,5)),2&t){let t;ql(t=Kl())&&(e.testComponent=t.first),ql(t=Kl())&&(e.parRef=t.first)}},decls:90,vars:22,consts:[[1,"wrapper","main"],[1,"left"],[3,"inputText","onChanged","inputTextChange"],["test",""],["counterHeader",""],[3,"click"],[3,"inInfo"],["bottom",""],["parRef",""],[1,"binding"],[1,"bind__one"],[1,"bind__two"],["type","text","name","some","id","",3,"value"],["placeholder","name",3,"ngModel","ngModelChange"],["type","text","name","","id","",3,"value"],[3,"textContent"],[3,"textContent","click"],["type","checkbox","name","isOn","id","",3,"ngModel","ngModelChange"],[1,"colorOn"],[1,"right"],[1,"shopToggle",3,"click"],["class","shopblock",4,"ngIf"],[1,"page-header"],[1,"panel"],[1,"form-inline"],[1,"form-group"],[1,"col-md-8"],["placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["type","number","placeholder","\u0426\u0435\u043d\u0430",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-offset-2","col-md-8"],[1,"btn","btn-default",3,"click"],[1,"wrapper"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"shopblock"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=Ro();ko(0,"div",0),ko(1,"div",1),ko(2,"test",2,3),No("onChanged",function(t){return e.onChange(t)})("inputTextChange",function(t){return e.inputValue=t}),To(),Xo(4),ko(5,"h4",null,4),Xo(7),To(),ko(8,"p"),Xo(9),To(),ko(10,"button",5),No("click",function(){return Oe(t),wo(3).change(111)}),Xo(11,"test change by 111"),To(),ko(12,"cart-list",6),ko(13,"h3",7),Xo(14," end of cart table inserted in child with ng-content "),To(),To(),ko(15,"p"),Xo(16,"view child by #ref"),To(),ko(17,"p",null,8),Xo(19,"None"),To(),ko(20,"button",5),No("click",function(){return e.changeByRef()}),Xo(21,"change by elem ref ^ parRef"),To(),Io(22,"hr"),Xo(23," binding: "),ko(24,"div",9),Xo(25,"1. one way out value"),To(),ko(26,"p",10),Xo(27),To(),ko(28,"div",9),Xo(29,"2. one way out to attribute"),To(),ko(30,"p",11),Io(31,"input",12),To(),ko(32,"div",9),Xo(33,"3. one way event bind:"),To(),ko(34,"button",5),No("click",function(){return e.showValue()}),Xo(35,"show 2nd value"),To(),ko(36,"button",5),No("click",function(){return e.changeValue()}),Xo(37,"change value"),To(),ko(38,"div",9),Xo(39,"4. two way bind:"),To(),ko(40,"input",13),No("ngModelChange",function(t){return e.bindTwoWay=t}),To(),ko(41,"p",10),Xo(42),To(),ko(43,"p",10),Xo(44),To(),Io(45,"input",14),ko(46,"p"),Xo(47,"bind to textContent (js prop)"),To(),Io(48,"p",15),ko(49,"button",16),No("click",function(t){return e.increment(t)}),To(),Io(50,"br"),ko(51,"input",17),No("ngModelChange",function(t){return e.isOn=t}),To(),Io(52,"div",18),Io(53,"hr"),To(),ko(54,"div",19),Xo(55,"### "),ko(56,"button",20),No("click",function(){return e.toggleShopBlock()}),Xo(57,"Shop open"),To(),bo(58,hS,3,1,"div",21),ko(59,"h3"),Xo(60,"Data:"),To(),Io(61,"data-fix"),To(),To(),Io(62,"hr"),ko(63,"div",22),ko(64,"h1"),Xo(65,"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043a\u0443\u043f\u043e\u043a on ssd"),To(),To(),ko(66,"div",23),ko(67,"div",24),ko(68,"div",25),ko(69,"div",26),ko(70,"input",27),No("ngModelChange",function(t){return e.text=t}),To(),To(),To(),ko(71,"div",25),ko(72,"div",28),ko(73,"input",29),No("ngModelChange",function(t){return e.price=t}),To(),To(),To(),ko(74,"div",25),ko(75,"div",30),ko(76,"button",31),No("click",function(){return e.addItem(e.text,e.price)}),Xo(77," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c "),To(),To(),To(),To(),ko(78,"div",32),ko(79,"table",33),ko(80,"thead"),ko(81,"tr"),ko(82,"th"),Xo(83,"\u041f\u0440\u0435\u0434\u043c\u0435\u0442"),To(),ko(84,"th"),Xo(85,"\u0426\u0435\u043d\u0430"),To(),ko(86,"th"),Xo(87,"\u041a\u0443\u043f\u043b\u0435\u043d\u043e"),To(),To(),To(),ko(88,"tbody"),bo(89,dS,7,3,"tr",34),To(),To(),To(),To()}if(2&t){const t=wo(6);$i(2),Eo("inputText",e.inputValue),$i(2),ta(" binded in main component: ",e.inputValue," "),$i(3),ta("counter: ",e.counter,""),$i(2),ta("header4: [",t.textContent,"]"),$i(3),Eo("inInfo",e.bindValue),$i(15),Jo(e.bindValue),$i(4),Eo("value",e.bindValue),$i(9),Eo("ngModel",e.bindTwoWay),$i(2),Jo(e.bindTwoWay),$i(2),ea("",e.complex.name," : ",e.complex.size,""),$i(1),qo("value",e.complex.size),Eo("value",e.complex.size),$i(3),Eo("textContent",e.complex.size),$i(1),Eo("textContent",e.incrementText),$i(2),Eo("ngModel",e.isOn),$i(1),Wo("isOn",e.isOn),$i(6),Eo("ngIf",e.showShopBlock),$i(12),Eo("ngModel",e.text),$i(3),Eo("ngModel",e.price),$i(16),Eo("ngForOf",e.items)}},directives:[nS,aS,xh,ed,Ad,kh,Su,lS,Od,bu],styles:["table[_ngcontent-%COMP%]{outline:2px solid #777;background-color:#dfc9ec}.wrapper[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]{background-color:#aec2c5}.bind__one[_ngcontent-%COMP%]{padding:.5rem;background-color:#97b888}.isOn[_ngcontent-%COMP%]{background-color:aqua}.colorOn[_ngcontent-%COMP%]{width:1rem;height:1rem;outline:2px solid #228b22}.shopblock[_ngcontent-%COMP%]{background-color:#ececec;padding:.5rem;line-height:2}.product-item[_ngcontent-%COMP%]{padding:.5rem;color:#532231;outline:1px solid #887a7a;list-style-position:inside}button[_ngcontent-%COMP%]{margin:1rem}.main[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:1rem}.left[_ngcontent-%COMP%]{background-color:#c2e5eb;padding:1em}.right[_ngcontent-%COMP%]{background-color:#ebc2c9;padding:1em}"]}),t})();function mS(t,e){1&t&&(ko(0,"p"),Xo(1,"hi"),To())}function gS(t,e){if(1&t&&(ko(0,"option",15),Xo(1),To()),2&t){const t=e.$implicit;Eo("value",t),$i(1),ta(" ",t," ")}}function yS(t,e){if(1&t&&(ko(0,"tr"),ko(1,"td"),Xo(2),To(),ko(3,"td"),Xo(4),To(),ko(5,"td"),Xo(6),To(),To()),2&t){const t=e.$implicit;$i(2),Jo(t.name),$i(2),Jo(t.genre),$i(2),Jo(t.price)}}const _S=function(t){return{coloredText:t}};class vS{constructor(t,e,n){this.name=t,this.genre=e,this.price=n}}let bS=(()=>{class t{constructor(){this.isColoredText=!1,this.game=new vS("Default Name","action",60.99),this.games=[],this.genres=["action","jrpg","startegy","casual"]}onPriceChange(){this.game.price=Math.round(100*this.game.price)/100}onNameChange(){this.game.name=this.game.name.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}addGameItem(){this.games.push(new vS(this.game.name,this.game.genre,this.game.price))}toggleTextClass(){this.isColoredText=!this.isColoredText,console.log(this.isColoredText)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["directives"]],decls:39,vars:18,consts:[[3,"ngClass","click"],["parToggle",""],[4,"ngIf"],[1,"form-group"],["name","title","required","",1,"form-control",3,"ngModel","ngModelChange"],["gameName","ngModel"],[1,"alert","alert-danger",3,"hidden"],["type","number","name","price","required","","pattern","^[0-9]+\\.[0-9]+$",1,"form-control",3,"ngModel","ngModelChange","change"],["gamePrice","ngModel"],["name","company",1,"form-control",3,"ngModel","ngModelChange"],["gameGenre","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-default",3,"disabled","click"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){if(1&t&&(ko(0,"p",0,1),No("click",function(){return e.toggleTextClass()}),Xo(2,"click me to change style"),To(),bo(3,mS,2,0,"p",2),ko(4,"div"),ko(5,"div",3),ko(6,"label"),Xo(7,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0433\u0440\u044b"),To(),ko(8,"input",4,5),No("ngModelChange",function(t){return e.game.name=t})("ngModelChange",function(){return e.onNameChange()}),To(),ko(10,"div",6),Xo(11," \u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "),To(),To(),ko(12,"div",3),ko(13,"label"),Xo(14,"\u0426\u0435\u043d\u0430"),To(),ko(15,"input",7,8),No("ngModelChange",function(t){return e.game.price=t})("change",function(){return e.onPriceChange()}),To(),ko(17,"div",6),Xo(18," \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0446\u0435\u043d\u0430 "),To(),To(),ko(19,"div",3),ko(20,"label"),Xo(21,"\u0416\u0430\u043d\u0440"),To(),ko(22,"select",9,10),No("ngModelChange",function(t){return e.game.genre=t}),bo(24,gS,2,2,"option",11),To(),To(),ko(25,"div",3),ko(26,"button",12),No("click",function(){return e.addGameItem()}),Xo(27,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),To(),ko(28,"p"),Xo(29),To(),ko(30,"p"),Xo(31),To(),ko(32,"p"),Xo(33),To(),To(),To(),ko(34,"div"),ko(35,"h3"),Xo(36,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435:"),To(),ko(37,"table",13),bo(38,yS,7,3,"tr",14),To(),To()),2&t){const t=wo(9),n=wo(16),r=wo(23);Eo("ngClass",Cl(16,_S,e.isColoredText)),$i(3),Eo("ngIf",e.isColoredText),$i(5),Eo("ngModel",e.game.name),$i(2),Eo("hidden",t.valid||t.untouched),$i(5),Eo("ngModel",e.game.price),$i(2),Eo("hidden",n.valid||n.untouched),$i(5),Eo("ngModel",e.game.genre),$i(2),Eo("ngForOf",e.genres),$i(2),Eo("disabled",t.invalid||n.invalid),$i(3),ea("",t.name,": ",t.model,""),$i(2),ea("",n.name,": ",n.model,""),$i(2),ea("",r.name,": ",r.model,""),$i(5),Eo("ngForOf",e.games)}},directives:[_u,Su,xh,Gd,ed,Ad,Od,Xd,Bd,bu,zd,Kd],styles:[".coloredText[_ngcontent-%COMP%]{color:#a44;font-weight:700}.ng-dirty[_ngcontent-%COMP%]{border-color:#53f4ee;border-width:2px}input.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:2px solid #bb5e5e}input.ng-touched.ng-valid[_ngcontent-%COMP%]{border:2px solid #5b835b}"]}),t})();class wS extends Bp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class SS extends qp{}const ES=new SS(wS);let CS=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return rp(this.value);case"E":return my(this.error);case"C":return ap()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class kS{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new TS(t,this.scheduler,this.delay))}}class TS extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(TS.dispatch,this.delay,new IS(t,this.destination)))}_next(t){this.scheduleMessage(CS.createNext(t))}_error(t){this.scheduleMessage(CS.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(CS.createComplete()),this.unsubscribe()}}class IS{constructor(t,e){this.notification=t,this.destination=e}}class xS{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new AS(t,this.observables,this.project))}}class AS extends C_{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(T_(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const RS={};function DS(t,e){if(RS[t]=(RS[t]||0)+1,"function"==typeof e)return OS(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return OS(t,()=>({type:t}));case"props":return OS(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function OS(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const PS="@ngrx/store/init";let NS=(()=>{class t extends np{constructor(){super({type:PS})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const LS=[NS],MS=new Hn("@ngrx/store Internal Root Guard"),FS=new Hn("@ngrx/store Internal Initial State"),VS=new Hn("@ngrx/store Initial State"),US=new Hn("@ngrx/store Reducer Factory"),jS=new Hn("@ngrx/store Internal Reducer Factory Provider"),BS=new Hn("@ngrx/store Initial Reducers"),zS=new Hn("@ngrx/store Internal Initial Reducers"),qS=new Hn("@ngrx/store Store Features"),$S=new Hn("@ngrx/store Internal Store Reducers"),HS=new Hn("@ngrx/store Internal Feature Reducers"),KS=new Hn("@ngrx/store Internal Feature Configs"),WS=new Hn("@ngrx/store Internal Store Features"),GS=new Hn("@ngrx/store Internal Feature Reducers Token"),QS=new Hn("@ngrx/store Feature Reducers"),ZS=new Hn("@ngrx/store User Provided Meta Reducers"),YS=new Hn("@ngrx/store Meta Reducers"),XS=new Hn("@ngrx/store Internal Resolved Meta Reducers"),JS=new Hn("@ngrx/store User Runtime Checks Config"),tE=new Hn("@ngrx/store Internal User Runtime Checks Config"),eE=new Hn("@ngrx/store Internal Runtime Checks"),nE=new Hn("@ngrx/store Check if Action types are unique");function rE(t,e={}){const n=Object.keys(t),r={};for(let s=0;s<n.length;s++){const e=n[s];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let s=!1;const o={};for(let e=0;e<i.length;e++){const a=i[e],l=t[a],c=(0,r[a])(l,n);o[a]=c,s=s||c!==l}return s?o:t}}function iE(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function sE(t,e){return Array.isArray(e)&&e.length>0&&(t=iE.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class oE extends b{}class aE extends NS{}let lE=(()=>{class t extends np{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:s})=>{const o="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?iE(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):sE(n,r)(e,i);return t[s]=o,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(lr(aE),lr(VS),lr(BS),lr(US))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const cE=[lE,{provide:oE,useExisting:lE},{provide:aE,useExisting:NS}];let uE=(()=>{class t extends k{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const hE=[uE];class dE extends b{}let pE=(()=>{class t extends np{constructor(t,e,n,r){super(r);const i=t.pipe(function(t,e=0){return function(n){return n.lift(new kS(t,e))}}(ES)).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new xS(t,n))}}(e)).pipe(F_(fE,{state:r}));this.stateSubscription=i.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(lr(NS),lr(oE),lr(uE),lr(VS))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t.INIT=PS,t})();function fE(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const mE=[pE,{provide:dE,useExisting:pE}];let gE=(()=>{class t extends b{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return _E.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(lr(dE),lr(NS),lr(lE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const yE=[gE];function _E(t,e,...n){return function(r){let i;if("string"==typeof t){const s=[e,...n].filter(Boolean);i=r.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>x(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}(t,...s))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);i=r.pipe(x(n=>t(n,e)))}return i.pipe(pp())}}const vE="https://ngrx.io/guide/store/configuration/runtime-checks";function bE(t){return void 0===t}function wE(t){return null===t}function SE(t){return Array.isArray(t)}function EE(t){return"object"==typeof t&&null!==t}function CE(t){return"function"==typeof t}function kE(t,e){return t===e}function TE(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function IE(t,e=kE,n=kE){let r,i=null,s=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return s=t.apply(null,arguments),i=arguments,s;if(!TE(arguments,i,e))return s;const o=t.apply(null,arguments);return i=arguments,n(s,o)?s:(s=o,o)},reset:function(){i=null,s=null},setResult:function(t){r={result:t}},clearResult:function(){r=void 0}}}function xE(...t){return function(t,e={stateFn:AE}){return function(...n){let r=n;if(Array.isArray(r[0])){const[t,...e]=r;r=[...t,...e]}const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return s.apply(null,t)}),l=IE(function(t,n){return e.stateFn.apply(null,[t,i,n,a])});return Object.assign(l.memoized,{release:function(){l.reset(),a.reset(),o.forEach(t=>t.release())},projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}(IE)(...t)}function AE(t,e,n,r){if(void 0===n){const n=e.map(e=>e(t));return r.memoized.apply(null,n)}const i=e.map(e=>e(t,n));return r.memoized.apply(null,[...i,n])}function RE(t){return xE(e=>{const n=e[t];return!Dc()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}function DE(t){Object.freeze(t);const e=CE(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!EE(e)&&!CE(e)||Object.isFrozen(e)||DE(e)}}),t}function OE(t,e=[]){return(bE(t)||wE(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return CE(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(bE(i)||wE(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||SE(i))&&(function(t){if(!function(t){return EE(t)&&!SE(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?OE(i,[...e,r]):{path:[...e,r],value:i})},!1)}function PE(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${vE}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function NE(t){return Dc()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function LE({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&PE(OE(r),"action");const i=t(n,r);return e.state()&&PE(OE(i),"state"),i}}(n,{action:e=>t&&!FE(e),state:()=>e}):n}function ME({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?DE(r):r,s=t(n,i);return e.state()?DE(s):s}}(n,{action:e=>t&&!FE(e),state:()=>e}):n}function FE(t){return t.type.startsWith("@ngrx")}function VE({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,r){if(e.action(r)&&!_c.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${vE}#strictactionwithinngzone`);return t(n,r)}}(e,{action:e=>t&&!FE(e)}):e}function UE(){return[{provide:nE,multi:!0,deps:[eE],useFactory:BE}]}function jE(t){return t}function BE(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(RS).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${vE}#strictactiontypeuniqueness`)}let zE=(()=>{class t{constructor(t,e,n,r,i,s){}}return t.\u0275fac=function(e){return new(e||t)(lr(NS),lr(oE),lr(uE),lr(gE),lr(MS,8),lr(nE,8))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})(),qE=(()=>{class t{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const s=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:GE(t.initialState)})});n.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(e){return new(e||t)(lr(WS),lr(QS),lr(lE),lr(zE),lr(nE,8))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})(),$E=(()=>{class t{static forRoot(t,e={}){return{ngModule:zE,providers:[{provide:MS,useFactory:ZE,deps:[[gE,new pr,new fr]]},{provide:FS,useValue:e.initialState},{provide:VS,useFactory:GE,deps:[FS]},{provide:zS,useValue:t},{provide:$S,useExisting:t instanceof Hn?t:zS},{provide:BS,deps:[no,zS,[new dr($S)]],useFactory:HE},{provide:ZS,useValue:e.metaReducers?e.metaReducers:[]},{provide:XS,deps:[YS,ZS],useFactory:QE},{provide:jS,useValue:e.reducerFactory?e.reducerFactory:rE},{provide:US,deps:[jS,XS],useFactory:sE},LS,cE,hE,mE,yE,(n=e.runtimeChecks,[{provide:tE,useValue:n},{provide:JS,useFactory:jE,deps:[tE]},{provide:eE,deps:[JS],useFactory:NE},{provide:YS,multi:!0,deps:[eE],useFactory:ME},{provide:YS,multi:!0,deps:[eE],useFactory:LE},{provide:YS,multi:!0,deps:[eE],useFactory:VE}]),UE()]};var n}static forFeature(t,e,n={}){return{ngModule:qE,providers:[{provide:KS,multi:!0,useValue:t instanceof Object?{}:n},{provide:qS,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof Hn||!n.reducerFactory?rE:n.reducerFactory,metaReducers:n instanceof Hn||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof Hn||!n.initialState?void 0:n.initialState}},{provide:WS,deps:[no,KS,qS],useFactory:KE},{provide:HS,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:GS,multi:!0,useExisting:e instanceof Hn?e:HS},{provide:QS,multi:!0,deps:[no,HS,[new dr(GS)]],useFactory:WE},UE()]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();function HE(t,e){return e instanceof Hn?t.get(e):e}function KE(t,e,n){return n.map((n,r)=>{if(e[r]instanceof Hn){const i=t.get(e[r]);return{key:n.key,reducerFactory:i.reducerFactory?i.reducerFactory:rE,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return n})}function WE(t,e){return e.map(e=>e instanceof Hn?t.get(e):e)}function GE(t){return"function"==typeof t?t():t}function QE(t,e){return t.concat(e)}function ZE(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function YE(...t){return{reducer:t.pop(),types:t.map(t=>t.type)}}function XE(t,...e){const n=new Map;for(const r of e)for(const t of r.types){const e=n.get(t);n.set(t,e?(t,n)=>r.reducer(e(t,n),n):r.reducer)}return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}const JE=RE("books"),tC=RE("collection"),eC=xE(JE,tC,(t,e)=>e.map(e=>t.find(t=>t.id===e))),nC=DS("[Book List] Add Book",{_as:"props",_p:void 0}),rC=DS("[Book Collection] Remove Book",{_as:"props",_p:void 0}),iC=DS("[Book List/API] Retrieve Books Success",{_as:"props",_p:void 0});let sC=(()=>{class t{constructor(t){this.http=t}getBooks(){return this.http.get("https://www.googleapis.com/books/v1/volumes?maxResults=5&orderBy=relevance&q=oliver%20sacks").pipe(x(t=>t.items||[]))}}return t.\u0275fac=function(e){return new(e||t)(lr(Qy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oC(t,e){if(1&t){const t=Ro();ko(0,"div",1),ko(1,"p"),Xo(2),To(),ko(3,"span"),Xo(4),To(),ko(5,"button",2),No("click",function(){const e=Oe(t).$implicit;return Uo().add.emit(e.id)}),Xo(6,"Add to Collection"),To(),To()}if(2&t){const t=e.$implicit;$i(2),Jo(t.volumeInfo.title),$i(2),ta(" by ",t.volumeInfo.authors,"")}}let aC=(()=>{class t{constructor(){this.books=[],this.add=new Dl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-book-list"]],inputs:{books:"books"},outputs:{add:"add"},decls:1,vars:1,consts:[["class","book-item",4,"ngFor","ngForOf"],[1,"book-item"],["data-test","add-button",3,"click"]],template:function(t,e){1&t&&bo(0,oC,7,2,"div",0),2&t&&Eo("ngForOf",e.books)},directives:[bu],styles:[""]}),t})();function lC(t,e){if(1&t){const t=Ro();ko(0,"div",1),ko(1,"p"),Xo(2),To(),ko(3,"span"),Xo(4),To(),ko(5,"button",2),No("click",function(){const e=Oe(t).$implicit;return Uo().remove.emit(e.id)}),Xo(6,"Remove from Collection"),To(),To()}if(2&t){const t=e.$implicit;$i(2),Jo(t.volumeInfo.title),$i(2),ta(" by ",t.volumeInfo.authors,"")}}let cC=(()=>{class t{constructor(){this.books=[],this.remove=new Dl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-book-collection"]],inputs:{books:"books"},outputs:{remove:"remove"},decls:1,vars:1,consts:[["class","book-item",4,"ngFor","ngForOf"],[1,"book-item"],["data-test","remove-button",3,"click"]],template:function(t,e){1&t&&bo(0,lC,7,2,"div",0),2&t&&Eo("ngForOf",e.books)},directives:[bu],styles:[""]}),t})(),uC=(()=>{class t{constructor(t,e){this.booksService=t,this.store=e,this.books$=this.store.select(JE),this.bookCollection$=this.store.select(eC)}onAdd(t){this.store.dispatch(nC({bookId:t}))}onRemove(t){this.store.dispatch(rC({bookId:t}))}ngOnInit(){this.booksService.getBooks().subscribe(t=>this.store.dispatch(iC({books:t})))}}return t.\u0275fac=function(e){return new(e||t)(So(sC),So(gE))},t.\u0275cmp=Ht({type:t,selectors:[["store-view"]],decls:8,vars:6,consts:[[1,"book-list",3,"books","add"],[1,"book-collection",3,"books","remove"]],template:function(t,e){1&t&&(ko(0,"h2"),Xo(1,"Books"),To(),ko(2,"app-book-list",0),No("add",function(t){return e.onAdd(t)}),xl(3,"async"),To(),ko(4,"h2"),Xo(5,"My Collection"),To(),ko(6,"app-book-collection",1),No("remove",function(t){return e.onRemove(t)}),xl(7,"async"),To()),2&t&&($i(2),Eo("books",Al(3,2,e.books$)),$i(4),Eo("books",Al(7,4,e.bookCollection$)))},directives:[aC,cC],pipes:[Nu],styles:[""]}),t})();const hC=XE([],YE(iC,(t,{books:e})=>e)),dC=XE([],YE(rC,(t,{bookId:e})=>t.filter(t=>t!==e)),YE(nC,(t,{bookId:e})=>t.indexOf(e)>-1?t:[...t,e]));class pC{constructor(t,e){this.cityName=t,this.population=e}}let fC=(()=>{class t{constructor(t){this.httpClient=t}getData(){return this.httpClient.get("assets/city.json").pipe(x(t=>new pC(t.cityName,t.population)))}}return t.\u0275fac=function(e){return new(e||t)(lr(Qy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mC=["sliderWrapper"],gC=Np({passive:!1}),yC={provide:Eh,useExisting:at(()=>bC),multi:!0};class _C{}const vC=Yg(Qg(Gg(class{constructor(t){this._elementRef=t}}),"accent"));let bC=(()=>{class t extends vC{constructor(t,e,n,r,i,s,o,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=r,this._ngZone=s,this._animationMode=a,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new Dl,this.input=new Dl,this.valueChange=new Dl,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=h.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!wC(t)&&0!==t.button||this._ngZone.run(()=>{this._touchId=wC(t)?function(t,e){for(let n=0;n<t.touches.length;n++){const r=t.touches[n].target;if(e===r||e.contains(r))return t.touches[n].identifier}}(t,this._elementRef.nativeElement):void 0;const e=SC(t,this._touchId);if(e){const n=this.value;this._isSliding="pointer",this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(e),this._valueOnSlideStart=n,n!=this.value&&this._emitInputEvent()}})},this._pointerMove=t=>{if("pointer"===this._isSliding){const e=SC(t,this._touchId);if(e){t.preventDefault();const n=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(e),n!=this.value&&this._emitInputEvent()}}},this._pointerUp=t=>{"pointer"===this._isSliding&&(wC(t)&&"number"==typeof this._touchId&&!EC(t.changedTouches,this._touchId)||(t.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart==this.value||this.disabled||this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null))},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=o,this.tabIndex=parseInt(i)||0,s.runOutsideAngular(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,gC),e.addEventListener("touchstart",this._pointerDown,gC)})}get invert(){return this._invert}set invert(t){this._invert=vp(t)}get max(){return this._max}set max(t){this._max=bp(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=bp(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=bp(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=vp(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?bp(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=bp(t,0);this._roundToDecimal&&e!==this.min&&e!==this.max&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=vp(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${t})`}}_getTrackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${e})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const t=this._shouldInvertAxis();let n;n=this.vertical?t?"Bottom":"Top":t?"Right":"Left",e[`padding${n}`]=`${this._getThumbGap()}px`}return e}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,gC),t.removeEventListener("touchstart",this._pointerDown,gC),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||ip(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const e=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const e=this._document,n=wC(t),r=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,gC),e.addEventListener(r,this._pointerUp,gC),n&&e.addEventListener("touchcancel",this._pointerUp,gC);const i=this._getWindow();void 0!==i&&i&&i.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,gC),t.removeEventListener("mouseup",this._pointerUp,gC),t.removeEventListener("touchmove",this._pointerMove,gC),t.removeEventListener("touchend",this._pointerUp,gC),t.removeEventListener("touchcancel",this._pointerUp,gC);const e=this._getWindow();void 0!==e&&e&&e.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(30/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new _C;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(pf),So(Ya),So(gf,8),qn("tabindex"),So(_c),So(Zc),So(Ug,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){if(1&t&&$l(mC,5),2&t){let t;ql(t=Kl())&&(e._sliderWrapper=t.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,e){1&t&&No("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()})("keydown",function(t){return e._onKeydown(t)})("keyup",function(){return e._onKeyup()})("mouseenter",function(){return e._onMouseenter()})("selectstart",function(t){return t.preventDefault()}),2&t&&(na("tabIndex",e.tabIndex),_o("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuetext",null==e.valueText?e.displayValue:e.valueText)("aria-orientation",e.vertical?"vertical":"horizontal"),Wo("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._shouldInvertAxis())("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue())("mat-slider-hide-last-tick",e.disabled||e._isMinValue()&&e._getThumbGap()&&e._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",vertical:"vertical",displayWith:"displayWith",valueText:"valueText"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[_a([yC]),io],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(ko(0,"div",0,1),ko(2,"div",2),Io(3,"div",3),Io(4,"div",4),To(),ko(5,"div",5),Io(6,"div",6),To(),ko(7,"div",7),Io(8,"div",8),Io(9,"div",9),ko(10,"div",10),ko(11,"span",11),Xo(12),To(),To(),To(),To()),2&t&&($i(3),Eo("ngStyle",e._getTrackBackgroundStyles()),$i(1),Eo("ngStyle",e._getTrackFillStyles()),$i(1),Eo("ngStyle",e._getTicksContainerStyles()),$i(1),Eo("ngStyle",e._getTicksStyles()),$i(1),Eo("ngStyle",e._getThumbContainerStyles()),$i(5),Jo(e.displayValue))},directives:[xu],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function wC(t){return"t"===t.type[0]}function SC(t,e){let n;return n=wC(t)?"number"==typeof e?EC(t.touches,e)||EC(t.changedTouches,e):t.touches[0]||t.changedTouches[0]:t,n?{x:n.clientX,y:n.clientY}:void 0}function EC(t,e){for(let n=0;n<t.length;n++)if(t[n].identifier===e)return t[n]}let CC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Lu,Wg],Wg]}),t})();function kC(t,e){1&t&&(ko(0,"div",7),Xo(1," \u041d\u0435 \u0432\u0435\u0440\u043d\u043e "),To())}let TC=(()=>{class t{constructor(t){this.cityService=t,this.cityForm=new Sd({cityName:new wd("DefaultCity",[Nh.required,this.cityNameValidator])})}cityNameValidator(t){return t.value.indexOf("fault")>0?{cityName:!0}:null}ngOnInit(){}submit(){console.log(this.cityForm.value.cityName)}buttonGet(){this.cityService.getData().subscribe(t=>this.city=t)}}return t.\u0275fac=function(e){return new(e||t)(So(fC))},t.\u0275cmp=Ht({type:t,selectors:[["reactive-form"]],features:[_a([fC])],decls:15,vars:5,consts:[[1,"wrapper","wrapper__center"],["novalidate","",1,"form-group",3,"formGroup","ngSubmit"],["type","text","formControlName","cityName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["min","1","max","100","step","1","value","50"],[1,"btn","btn-danger",3,"click"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(ko(0,"div",0),ko(1,"form",1),No("ngSubmit",function(){return e.submit()}),Io(2,"input",2),bo(3,kC,2,0,"div",3),ko(4,"button",4),Xo(5,"set"),To(),To(),Io(6,"mat-slider",5),ko(7,"button",6),No("click",function(){return e.buttonGet()}),Xo(8,"get data"),To(),ko(9,"p"),Xo(10,"city data: "),To(),ko(11,"p"),Xo(12),To(),ko(13,"p"),Xo(14),To(),To()),2&t&&($i(1),Eo("formGroup",e.cityForm),$i(2),Eo("ngIf",e.cityForm.controls.cityName.invalid&&e.cityForm.controls.cityName.touched),$i(1),Eo("disabled",e.cityForm.invalid),$i(8),Jo(null==e.city?null:e.city.cityName),$i(2),Jo(null==e.city?null:e.city.population))},directives:[Rd,nd,Md,xh,ed,Vd,Su,bC],styles:[".wrapper__center[_ngcontent-%COMP%]{margin:1em auto;width:80%}.btn[_ngcontent-%COMP%]{margin:1em}"]}),t})();const IC=["*",[["mat-card-footer"]]],xC=["*","mat-card-footer"];let AC=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(So(Ug,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&Wo("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:xC,decls:2,vars:0,template:function(t,e){1&t&&(Bo(IC),zo(0),zo(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),RC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Wg],Wg]}),t})();const DC=["mat-button",""],OC=["*"],PC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],NC=Qg(Gg(Zg(class{constructor(t){this._elementRef=t}})));let LC=(()=>{class t extends NC{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of PC)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(pf),So(Ug,8))},t.\u0275cmp=Ht({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&$l(ay,5),2&t){let t;ql(t=Kl())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(_o("disabled",e.disabled||null),Wo("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[io],attrs:DC,ngContentSelectors:OC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Bo(),ko(0,"span",0),zo(1),To(),Io(2,"span",1),Io(3,"span",2)),2&t&&($i(2),Wo("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Eo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[ay],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),MC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[ly,Wg],Wg]}),t})();function FC(t,e,n,i){return r(n)&&(i=n,n=void 0),i?FC(t,e,n).pipe(x(t=>l(t)?i(...t):i(t))):new b(r=>{VC(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function VC(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)VC(t[s],e,n,r,i)}r.add(s)}class UC extends Bp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class jC extends qp{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const BC=new jC(UC);class zC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new qC(t,this.durationSelector))}}class qC extends j{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=B(n,new U(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function $C(t){return!l(t)&&t-parseFloat(t)+1>=0}function HC(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function KC(t,e=$p){return n=()=>function(t=0,e,n){let r=-1;return $C(e)?r=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=$p),new b(e=>{const i=$C(t)?t:+t-n.now();return n.schedule(HC,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new zC(n))};var n}class WC{call(t,e){return e.subscribe(new GC(t))}}class GC extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}let QC=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new b(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(KC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rp()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(xy(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Ep(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(lr(_c),lr(Tp),lr(Zc,8))},t.\u0275prov=ft({factory:function(){return new t(lr(_c),lr(Tp),lr(Zc,8))},token:t,providedIn:"root"}),t})(),ZC=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new k,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(KC(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(lr(Tp),lr(_c),lr(Zc,8))},t.\u0275prov=ft({factory:function(){return new t(lr(Tp),lr(_c),lr(Zc,8))},token:t,providedIn:"root"}),t})(),YC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})(),XC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[yf,Ip,YC],yf,YC]}),t})();class JC{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class tk extends JC{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class ek extends JC{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class nk extends JC{constructor(t){super(),this.element=t instanceof ka?t.nativeElement:t}}class rk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof tk?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ek?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof nk?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ik extends rk{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let sk=(()=>{class t extends rk{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Dl,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(So(wa),So(cl),So(Zc))},t.\u0275dir=Yt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[io]}),t})(),ok=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();const ak=Lp();class lk{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Sp(-this._previousScrollPosition.left),t.style.top=Sp(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ak&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ak&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class ck{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uk{enable(){}disable(){}attach(){}}function hk(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function dk(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class pk{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();hk(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let fk=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new uk,this.close=t=>new ck(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new lk(this._viewportRuler,this._document),this.reposition=t=>new pk(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(lr(QC),lr(ZC),lr(_c),lr(Zc))},t.\u0275prov=ft({factory:function(){return new t(lr(QC),lr(ZC),lr(_c),lr(Zc))},token:t,providedIn:"root"}),t})();class mk{constructor(t){if(this.scrollStrategy=new uk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class gk{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class yk{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let _k=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({factory:function(){return new t(lr(Zc))},token:t,providedIn:"root"}),t})(),vk=(()=>{class t extends _k{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc))},t.\u0275prov=ft({factory:function(){return new t(lr(Zc))},token:t,providedIn:"root"}),t})(),bk=(()=>{class t extends _k{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._pointerDownListener=t=>{this._pointerDownEventTarget=Vp(t)},this._clickListener=t=>{const e=Vp(t),n="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const s=r[i];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(e)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc),lr(Tp))},t.\u0275prov=ft({factory:function(){return new t(lr(Zc),lr(Tp))},token:t,providedIn:"root"}),t})(),wk=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){if(this._platform.isBrowser||Up()){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),Up()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc),lr(Tp))},t.\u0275prov=ft({factory:function(){return new t(lr(Zc),lr(Tp))},token:t,providedIn:"root"}),t})();class Sk{constructor(t,e,n,r,i,s,o,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new k,this._outsidePointerEvents=new k,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(lp(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Sp(this._config.width),t.height=Sp(this._config.height),t.minWidth=Sp(this._config.minWidth),t.minHeight=Sp(this._config.minHeight),t.maxWidth=Sp(this._config.maxWidth),t.maxHeight=Sp(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;wp(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(gp(W(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const Ek=/([A-Za-z%]+)$/;class Ck{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kk(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=Ik(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Tk(this._overlayRef.getConfig().minHeight),o=Tk(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Ik(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),l=Math.max(i.left-n.left-t.x,0);let c=0,u=0;return c=r.width<=i.width?l||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new yk(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Sp(n.height),r.top=Sp(n.top),r.bottom=Sp(n.bottom),r.width=Sp(n.width),r.left=Sp(n.left),r.right=Sp(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Sp(t)),i&&(r.maxWidth=Sp(i))}this._lastBoundingBoxSize=n,kk(this._boundingBox.style,r)}_resetBoundingBoxStyles(){kk(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kk(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();kk(n,this._getExactOverlayY(e,t,r)),kk(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=Sp(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Sp(s.maxWidth):i&&(n.maxWidth="")),kk(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Sp(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Sp(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dk(t,n),isOriginOutsideView:hk(t,n),isOverlayClipped:dk(e,n),isOverlayOutsideView:hk(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&wp(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ka)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function kk(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Tk(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Ek);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Ik(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class xk{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Ck(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new gk(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Ak{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Rk=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Ak}connectedTo(t,e,n){return new xk(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ck(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(lr(ZC),lr(Zc),lr(Tp),lr(wk))},t.\u0275prov=ft({factory:function(){return new t(lr(ZC),lr(Zc),lr(Tp),lr(wk))},token:t,providedIn:"root"}),t})(),Dk=0,Ok=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new mk(t);return i.direction=i.direction||this._directionality.value,new Sk(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Dk++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Vc)),new ik(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(lr(fk),lr(wk),lr(wa),lr(Rk),lr(vk),lr(no),lr(_c),lr(Zc),lr(gf),lr(hu),lr(bk))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Pk={provide:new Hn("cdk-connected-overlay-scroll-strategy"),deps:[Ok],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Nk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[Ok,Pk],imports:[[yf,ok,XC],XC]}),t})();function Lk(t,e){}class Mk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Fk={dialogContainer:bf("dialogContainer",[Cf("void, exit",Ef({opacity:0,transform:"scale(0.7)"})),Cf("enter",Ef({transform:"none"})),kf("* => enter",wf("150ms cubic-bezier(0, 0, 0.2, 1)",Ef({transform:"none",opacity:1}))),kf("* => void, * => exit",wf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Ef({opacity:0})))])};let Vk=(()=>{class t extends rk{constructor(t,e,n,r,i,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._focusMonitor=s,this._animationStateChanged=new Dl,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=Fp(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Fp())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=Fp();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(rf),So(Ya),So(Zc,8),So(Mk),So(pf))},t.\u0275dir=Yt({type:t,viewQuery:function(t,e){if(1&t&&$l(sk,7),2&t){let t;ql(t=Kl())&&(e._portalOutlet=t.first)}},features:[io]}),t})(),Uk=(()=>{class t extends Vk{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Bn(t)))(n||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Lo("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(na("id",e._id),_o("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),ra("@dialogContainer",e._state))},features:[io],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&bo(0,Lk,0,0,"ng-template",0)},directives:[sk],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Fk.dialogContainer]}}),t})(),jk=0;class Bk{constructor(t,e,n="mat-dialog-"+jk++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,e._id=n,e._animationStateChanged.pipe(xy(t=>"opened"===t.state),lp(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(xy(t=>"closed"===t.state),lp(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(xy(t=>27===t.keyCode&&!this.disableClose&&!ip(t))).subscribe(t=>{t.preventDefault(),zk(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():zk(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(xy(t=>"closing"===t.state),lp(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function zk(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const qk=new Hn("MatDialogData"),$k=new Hn("mat-dialog-default-options"),Hk=new Hn("mat-dialog-scroll-strategy"),Kk={provide:Hk,deps:[Ok],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Wk=(()=>{class t{constructor(t,e,n,r,i,s,o,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=O_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(M_(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Mk)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new mk({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=no.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Mk,useValue:e}]}),r=new tk(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new this._dialogRefConstructor(n,e,r.id);if(t instanceof nl)e.attachTemplatePortal(new ek(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),s=e.attachComponentPortal(new tk(t,r.viewContainerRef,n));i.componentInstance=s.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(gf,null,Et.Optional)||i.push({provide:gf,useValue:{value:t.direction,change:rp()}}),no.create({parent:r||this._injector,providers:i})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(So(Ok),So(no),So(void 0),So(void 0),So(wk),So(void 0),So(Wn),So(Wn),So(Hn))},t.\u0275dir=Yt({type:t}),t})(),Gk=(()=>{class t extends Wk{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,Bk,Uk,qk)}}return t.\u0275fac=function(e){return new(e||t)(lr(Ok),lr(no),lr(hu,8),lr($k,8),lr(Hk),lr(t,12),lr(wk))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Qk=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}_onButtonClick(t){zk(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return t.\u0275fac=function(e){return new(e||t)(So(Bk,8),So(ka),So(Gk))},t.\u0275dir=Yt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&No("click",function(t){return e._onButtonClick(t)}),2&t&&_o("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ce]}),t})(),Zk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),Yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[Gk,Kk],imports:[[Nk,ok,Wg],Wg]}),t})();class Xk{constructor(t,e,n,r){this.id=t,this.name=e,this.age=n,this.occupation=r}}let Jk=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000/api/users"}getUsers(){return this.http.get(this.url)}createUser(t){const e=(new Py).set("Content-Type","application/json");return this.http.post(this.url,JSON.stringify(t),{headers:e})}updateUser(t){const e=(new Py).set("Content-Type","application/json");return this.http.put(this.url,JSON.stringify(t),{headers:e})}deleteUser(t){return this.http.delete(this.url+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(lr(Qy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tT=["readOnlyTemplate"],eT=["editTemplate"];function nT(t,e){}const rT=function(t){return{$implicit:t}};function iT(t,e){if(1&t&&(ko(0,"tr"),bo(1,nT,0,0,"ng-template",5),To()),2&t){const t=e.$implicit,n=Uo();$i(1),Eo("ngTemplateOutlet",n.loadTemplate(t))("ngTemplateOutletContext",Cl(2,rT,t))}}function sT(t,e){if(1&t){const t=Ro();ko(0,"td"),Xo(1),To(),ko(2,"td"),Xo(3),To(),ko(4,"td"),Xo(5),To(),ko(6,"td"),Xo(7),To(),ko(8,"td"),ko(9,"input",6),No("click",function(){const e=Oe(t).$implicit;return Uo().editUser(e)}),To(),To(),ko(10,"td"),ko(11,"input",7),No("click",function(){const e=Oe(t).$implicit;return Uo().deleteUser(e)}),To(),To()}if(2&t){const t=e.$implicit;$i(1),Jo(t.id),$i(2),Jo(t.name),$i(2),Jo(t.age),$i(2),Jo(t.occupation)}}function oT(t,e){if(1&t){const t=Ro();ko(0,"td"),ko(1,"input",8),No("ngModelChange",function(e){return Oe(t),Uo().editedUser.id=e}),To(),To(),ko(2,"td"),ko(3,"input",9),No("ngModelChange",function(e){return Oe(t),Uo().editedUser.name=e}),To(),To(),ko(4,"td"),ko(5,"input",10),No("ngModelChange",function(e){return Oe(t),Uo().editedUser.age=e}),To(),To(),ko(6,"td"),ko(7,"input",10),No("ngModelChange",function(e){return Oe(t),Uo().editedUser.occupation=e}),To(),To(),ko(8,"td"),ko(9,"input",11),No("click",function(){return Oe(t),Uo().saveUser()}),To(),To(),ko(10,"td"),ko(11,"input",12),No("click",function(){return Oe(t),Uo().cancel()}),To(),To()}if(2&t){const t=Uo();$i(1),Eo("ngModel",t.editedUser.id),$i(2),Eo("ngModel",t.editedUser.name),$i(2),Eo("ngModel",t.editedUser.age),$i(2),Eo("ngModel",t.editedUser.occupation)}}let aT=(()=>{class t{constructor(t){this.serv=t,this.editedUser=null,this.isNewRecord=!1,this.statusMessage="",this.users=new Array}ngOnInit(){this.loadUsers()}loadUsers(){this.serv.getUsers().subscribe(t=>{this.users=t})}addUser(){this.editedUser=new Xk(0,"",0,""),this.users.push(this.editedUser),this.isNewRecord=!0}editUser(t){this.editedUser=new Xk(t.id,t.name,t.age,t.occupation)}loadTemplate(t){return this.editedUser&&this.editedUser.id===t.id?this.editTemplate:this.readOnlyTemplate}saveUser(){this.isNewRecord?(this.serv.createUser(this.editedUser).subscribe(t=>{this.statusMessage="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b",this.loadUsers()}),this.isNewRecord=!1,this.editedUser=null):(this.serv.updateUser(this.editedUser).subscribe(t=>{this.statusMessage="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b",this.loadUsers()}),this.editedUser=null)}cancel(){this.isNewRecord&&(this.users.pop(),this.isNewRecord=!1),this.editedUser=null}deleteUser(t){this.serv.deleteUser(t.id).subscribe(t=>{this.statusMessage="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b",this.loadUsers()})}}return t.\u0275fac=function(e){return new(e||t)(So(Jk))},t.\u0275cmp=Ht({type:t,selectors:[["usercrud"]],viewQuery:function(t,e){if(1&t&&($l(tT,5),$l(eT,5)),2&t){let t;ql(t=Kl())&&(e.readOnlyTemplate=t.first),ql(t=Kl())&&(e.editTemplate=t.first)}},decls:24,vars:2,consts:[["type","button","value","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",1,"btn","btn-default",3,"click"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["readOnlyTemplate",""],["editTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","value","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"btn","btn-default",3,"click"],["type","button","value","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"btn","btn-danger",3,"click"],["type","number","readonly","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button","value","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",1,"btn","btn-success",3,"click"],["type","button","value","\u041e\u0442\u043c\u0435\u043d\u0430",1,"btn","btn-warning",3,"click"]],template:function(t,e){1&t&&(ko(0,"h1"),Xo(1,"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),To(),ko(2,"input",0),No("click",function(){return e.addUser()}),To(),ko(3,"table",1),ko(4,"thead"),ko(5,"tr"),ko(6,"td"),Xo(7,"Id"),To(),ko(8,"td"),Xo(9,"\u0418\u043c\u044f"),To(),ko(10,"td"),Xo(11,"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"),To(),ko(12,"td"),Xo(13,"\u0414\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),To(),Io(14,"td"),Io(15,"td"),To(),To(),ko(16,"tbody"),bo(17,iT,2,4,"tr",2),To(),To(),ko(18,"div"),Xo(19),To(),bo(20,sT,12,4,"ng-template",null,3,Zl),bo(22,oT,12,4,"ng-template",null,4,Zl)),2&t&&($i(17),Eo("ngForOf",e.users),$i(2),Jo(e.statusMessage))},directives:[bu,Au,Od,xh,ed,Ad],styles:[""]}),t})();function lT(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function cT(t,e,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?t.setProperty(r,i,(null==n?void 0:n.has(r))?"important":""):t.removeProperty(r)}return t}function uT(t,e){const n=e?"":"none";cT(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function hT(t,e,n){cT(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function dT(t,e){return e&&"none"!=e?t+" "+e:t}function pT(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function fT(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function mT(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function gT(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function yT(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function _T(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:l,height:c}=t,u=l*e,h=c*e;return r>i-h&&r<o+h&&n>a-u&&n<s+u}class vT{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:mT(t)})})}handleScroll(t){const e=Vp(t),n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,l=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&yT(t.clientRect,a,l)}),i.top=s,i.left=o,{top:a,left:l}}}function bT(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===r?CT(t,e):"input"!==r&&"select"!==r&&"textarea"!==r||ET(t,e),wT("canvas",t,e,CT),wT("input, textarea, select",t,e,ET),e}function wT(t,e,n,r){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)r(i[t],e[t])}}let ST=0;function ET(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${ST++}`)}function CT(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(MW){}}const kT=Np({passive:!0}),TT=Np({passive:!1}),IT=new Set(["position"]);class xT{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new k,this._pointerMoveSubscription=h.EMPTY,this._pointerUpSubscription=h.EMPTY,this._scrollSubscription=h.EMPTY,this._resizeSubscription=h.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new k,this.started=new k,this.released=new k,this.ended=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=Vp(t);return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new vT(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=vp(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>uT(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Ep(t)),this._handles.forEach(t=>uT(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ep(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,TT),e.addEventListener("touchstart",this._pointerDown,kT)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ep(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&DT(this._rootElement),DT(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),uT(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),uT(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&DT(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&DT(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){OT(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,n=t.parentNode,r=this._placeholder=this._createPlaceholderElement(),i=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();n.insertBefore(i,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),hT(t,!1,IT),this._document.body.appendChild(n.replaceChild(r,t)),this._getPreviewInsertionPoint(n,s).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),r=OT(e),i=!r&&0!==e.button,s=this._rootElement,o=Vp(e),a=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),l=r?of(e):sf(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||a||l)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>this._updateOnScroll(t)),this._boundaryElement&&(this._boundaryRect=mT(this._boundaryElement));const c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){hT(this._rootElement,!0,IT),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i,dropPoint:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i,dropPoint:r}),e.drop(this,n,this._initialIndex,this._initialContainer,s,i,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:r}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=PT(i,this._document),this._previewRef=i,t.matchSize?NT(r,e):r.style.transform=AT(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=bT(t),NT(r,t.getBoundingClientRect()),this._initialTransform&&(r.style.transform=this._initialTransform)}return cT(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},IT),uT(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=fT(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=fT(e,"transition-duration"),o=fT(e,"transition-delay");return pT(s[i])+pT(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{var i;(!e||Vp(e)===this._preview&&"transform"===e.propertyName)&&(null===(i=this._preview)||void 0===i||i.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=PT(this._placeholderRef,this._document)):n=bT(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=OT(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=OT(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=r,e.y=i,e.matrixTransform(t.inverse())}}return{x:r,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:r}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,s=this._previewRect,o=i.top+e,a=i.bottom-(s.height-e);n=RT(n,i.left+t,i.right-(s.width-t)),r=RT(r,o,a)}return{x:n,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,uT(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,TT),t.removeEventListener("touchstart",this._pointerDown,kT)}_applyRootElementTransform(t,e){const n=AT(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=dT(n,this._initialTransform)}_applyPreviewTransform(t,e){var n;const r=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,i=AT(t,e);this._preview.style.transform=dT(i,r)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:OT(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=Vp(t);this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&yT(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Mp(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const t=this._document;return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}return Ep(n)}}function AT(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function RT(t,e,n){return Math.max(e,Math.min(n,t))}function DT(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function OT(t){return"t"===t.type[0]}function PT(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function NT(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=AT(e.left,e.top)}function LT(t,e){return Math.max(0,Math.min(e,t))}class MT{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.sorted=new k,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=h.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new k,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=$p){return(!$C(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=$p),new b(n=>(n.add(e.schedule(lT,t,{subscriber:n,counter:0,period:t})),n))}(0,BC).pipe(gp(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?VT(t,-e):2===this._verticalScrollDirection&&VT(t,e),1===this._horizontalScrollDirection?UT(t,-e):2===this._horizontalScrollDirection&&UT(t,e)})},this.element=Ep(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new vT(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,r){let i;this._draggingStarted(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let l=s[i];if(l===t&&(l=s[i+1]),o>-1&&s.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){const e=l.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(a,e),s.unshift(t)}else Ep(this.element).appendChild(a),s.push(t);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:r,isPointerOverContainer:i,distance:s,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Ep(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?FT("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!this._clientRect||!_T(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=FT(i,e=>e.drag===t),l=i[s],c=l.clientRect,u=a>s?1:-1,h=this._getItemOffsetPx(i[a].clientRect,c,u),d=this._getSiblingOffsetPx(a,i,u),p=i.slice();!function(t,e,n){const r=LT(e,t.length-1),i=LT(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(p[n]===e)return;const r=e.drag===t,i=r?h:d,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=dT(`translate3d(${Math.round(e.offset)}px, 0, 0)`,e.initialTransform),yT(e.clientRect,0,i)):(s.style.transform=dT(`translate3d(0, ${Math.round(e.offset)}px, 0)`,e.initialTransform),yT(e.clientRect,i,0))}),this._previousSwap.overlaps=gT(c,e,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?r.x:r.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&_T(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=jT(e,r),s=BT(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=jT(a,e),i=BT(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ep(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ep(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:mT(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Ep(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var e;const n=t.getRootElement();if(n){const r=null===(e=this._itemPositions.find(e=>e.drag===t))||void 0===e?void 0:e.initialTransform;n.style.transform=r||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation,s=FT(this._itemPositions,({drag:s,clientRect:o},a,l)=>{if(s===t)return l.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&gT(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!gT(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=Ep(this.element);return r===i||i.contains(r)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{yT(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Mp(Ep(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function FT(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function VT(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function UT(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function jT(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function BT(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const zT=Np({passive:!1,capture:!0});let qT=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new k,this.pointerUp=new k,this.scroll=new k,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zT)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zT)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zT}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:zT}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const e=[this.scroll];return t&&t!==this._document&&e.push(new b(e=>this._ngZone.runOutsideAngular(()=>{const n=t=>{this._activeDragInstances.length&&e.next(t)};return t.addEventListener("scroll",n,!0),()=>{t.removeEventListener("scroll",n,!0)}}))),W(...e)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(lr(_c),lr(Zc))},t.\u0275prov=ft({factory:function(){return new t(lr(_c),lr(Zc))},token:t,providedIn:"root"}),t})();const $T={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let HT=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=$T){return new xT(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new MT(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(lr(Zc),lr(_c),lr(ZC),lr(qT))},t.\u0275prov=ft({factory:function(){return new t(lr(Zc),lr(_c),lr(ZC),lr(qT))},token:t,providedIn:"root"}),t})();const KT=new Hn("CDK_DRAG_PARENT"),WT=new Hn("CdkDropListGroup"),GT=new Hn("CDK_DRAG_CONFIG");let QT=0;const ZT=new Hn("CdkDropList");let YT=(()=>{class t{constructor(e,n,r,i,s,o,a){this.element=e,this._changeDetectorRef=r,this._scrollDispatcher=i,this._dir=s,this._group=o,this._destroyed=new k,this.connectedTo=[],this.id="cdk-drop-list-"+QT++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new Dl,this.entered=new Dl,this.exited=new Dl,this.sorted=new Dl,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,a&&this._assignDefaults(a),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=vp(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(M_(this._dir.value),gp(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=wp(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=vp(this.sortingDisabled),e.autoScrollDisabled=vp(this.autoScrollDisabled),e.autoScrollStep=bp(this.autoScrollStep,2),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(HT),So(Ya),So(QC),So(gf,8),So(WT,12),So(GT,8))},t.\u0275dir=Yt({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(_o("id",e.id),Wo("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[_a([{provide:WT,useValue:void 0},{provide:ZT,useExisting:t}])]}),t._dropLists=[],t})();const XT=new Hn("CdkDragHandle"),JT=new Hn("CdkDragPlaceholder"),tI=new Hn("CdkDragPreview");let eI=(()=>{class t{constructor(e,n,r,i,s,o,a,l,c,u,h){this.element=e,this.dropContainer=n,this._ngZone=i,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=c,this._selfHandle=u,this._parentDrag=h,this._destroyed=new k,this.started=new Dl,this.released=new Dl,this.ended=new Dl,this.entered=new Dl,this.exited=new Dl,this.dropped=new Dl,this.moved=new b(t=>{const e=this._dragRef.moved.pipe(x(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=l.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),o&&this._assignDefaults(o),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=vp(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(lp(1),gp(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?nI(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?nI(this.element.nativeElement,t):Ep(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:bp(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(lp(1)).subscribe(()=>{var n,r;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(null===(n=i.classList)||void 0===n?void 0:n.contains("cdk-drag")){e.withParent((null===(r=t._dragInstances.find(t=>t.element.nativeElement===i))||void 0===r?void 0:r._dragRef)||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a,previewContainer:l}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a),l&&(this.previewContainer=l)}_setupHandlesListener(){this._handles.changes.pipe(M_(this._handles),_y(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),P_(t=>W(...t.map(t=>t._stateChanges.pipe(M_(t))))),gp(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)})}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(ZT,12),So(Zc),So(_c),So(cl),So(GT,8),So(gf,8),So(HT),So(Ya),So(XT,10),So(KT,12))},t.\u0275dir=Yt({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(Hl(n,tI,5),Hl(n,JT,5),Hl(n,XT,5)),2&t){let t;ql(t=Kl())&&(e._previewTemplate=t.first),ql(t=Kl())&&(e._placeholderTemplate=t.first),ql(t=Kl())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&Wo("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[_a([{provide:KT,useExisting:t}]),ce]}),t._dragInstances=[],t})();function nI(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let rI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[HT],imports:[YC]}),t})();const iI=["underline"],sI=["connectionContainer"],oI=["inputContainer"],aI=["label"];function lI(t,e){1&t&&(xo(0),ko(1,"div",14),Io(2,"div",15),Io(3,"div",16),Io(4,"div",17),To(),ko(5,"div",18),Io(6,"div",15),Io(7,"div",16),Io(8,"div",17),To(),Ao())}function cI(t,e){1&t&&(ko(0,"div",19),zo(1,1),To())}function uI(t,e){if(1&t&&(xo(0),zo(1,2),ko(2,"span"),Xo(3),To(),Ao()),2&t){const t=Uo(2);$i(3),Jo(t._control.placeholder)}}function hI(t,e){1&t&&zo(0,3,["*ngSwitchCase","true"])}function dI(t,e){1&t&&(ko(0,"span",23),Xo(1," *"),To())}function pI(t,e){if(1&t){const t=Ro();ko(0,"label",20,21),No("cdkObserveContent",function(){return Oe(t),Uo().updateOutlineGap()}),bo(2,uI,4,1,"ng-container",12),bo(3,hI,1,0,"ng-content",12),bo(4,dI,2,0,"span",22),To()}if(2&t){const t=Uo();Wo("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Eo("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),_o("for",t._control.id)("aria-owns",t._control.id),$i(2),Eo("ngSwitchCase",!1),$i(1),Eo("ngSwitchCase",!0),$i(1),Eo("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function fI(t,e){1&t&&(ko(0,"div",24),zo(1,4),To())}function mI(t,e){if(1&t&&(ko(0,"div",25,26),Io(2,"span",27),To()),2&t){const t=Uo();$i(2),Wo("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function gI(t,e){1&t&&(ko(0,"div"),zo(1,5),To()),2&t&&Eo("@transitionMessages",Uo()._subscriptAnimationState)}function yI(t,e){if(1&t&&(ko(0,"div",31),Xo(1),To()),2&t){const t=Uo(2);Eo("id",t._hintLabelId),$i(1),Jo(t.hintLabel)}}function _I(t,e){if(1&t&&(ko(0,"div",28),bo(1,yI,2,2,"div",29),zo(2,6),Io(3,"div",30),zo(4,7),To()),2&t){const t=Uo();Eo("@transitionMessages",t._subscriptAnimationState),$i(1),Eo("ngIf",t.hintLabel)}}const vI=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],bI=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],wI=new Hn("MatError"),SI={transitionMessages:bf("transitionMessages",[Cf("enter",Ef({opacity:1,transform:"translateY(0%)"})),kf("void => enter",[Ef({opacity:0,transform:"translateY(-5px)"}),wf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let EI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t}),t})();const CI=new Hn("MatHint");let kI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["mat-label"]]}),t})(),TI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Yt({type:t,selectors:[["mat-placeholder"]]}),t})();const II=new Hn("MatPrefix"),xI=new Hn("MatSuffix");let AI=0;const RI=Qg(class{constructor(t){this._elementRef=t}},"primary"),DI=new Hn("MAT_FORM_FIELD_DEFAULT_OPTIONS"),OI=new Hn("MatFormField");let PI=(()=>{class t extends RI{constructor(t,e,n,r,i,s,o,a){super(t),this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new k,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+AI++,this._labelId="mat-form-field-label-"+AI++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=vp(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(M_(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(gp(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gp(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),W(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(M_(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(M_(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(gp(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,FC(this._label.nativeElement,"transitionend").pipe(lp(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let t=0;t<o.length;t++)l+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Ya),So(ka),So(gf,8),So(DI,8),So(Tp),So(_c),So(Ug,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(Hl(n,EI,5),Hl(n,EI,7),Hl(n,kI,5),Hl(n,kI,7),Hl(n,TI,5),Hl(n,wI,5),Hl(n,CI,5),Hl(n,II,5),Hl(n,xI,5)),2&t){let t;ql(t=Kl())&&(e._controlNonStatic=t.first),ql(t=Kl())&&(e._controlStatic=t.first),ql(t=Kl())&&(e._labelChildNonStatic=t.first),ql(t=Kl())&&(e._labelChildStatic=t.first),ql(t=Kl())&&(e._placeholderChild=t.first),ql(t=Kl())&&(e._errorChildren=t),ql(t=Kl())&&(e._hintChildren=t),ql(t=Kl())&&(e._prefixChildren=t),ql(t=Kl())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&($l(iI,5),$l(sI,7),$l(oI,5),$l(aI,5)),2&t){let t;ql(t=Kl())&&(e.underlineRef=t.first),ql(t=Kl())&&(e._connectionContainerRef=t.first),ql(t=Kl())&&(e._inputContainerRef=t.first),ql(t=Kl())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&Wo("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[_a([{provide:OI,useExisting:t}]),io],ngContentSelectors:bI,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Bo(vI),ko(0,"div",0),ko(1,"div",1,2),No("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),bo(3,lI,9,0,"ng-container",3),bo(4,cI,2,0,"div",4),ko(5,"div",5,6),zo(7),ko(8,"span",7),bo(9,pI,5,16,"label",8),To(),To(),bo(10,fI,2,0,"div",9),To(),bo(11,mI,3,4,"div",10),ko(12,"div",11),bo(13,gI,2,1,"div",12),bo(14,_I,5,2,"div",13),To(),To()),2&t&&($i(3),Eo("ngIf","outline"==e.appearance),$i(1),Eo("ngIf",e._prefixChildren.length),$i(5),Eo("ngIf",e._hasFloatingLabel()),$i(1),Eo("ngIf",e._suffixChildren.length),$i(1),Eo("ngIf","outline"!=e.appearance),$i(1),Eo("ngSwitch",e._getDisplayedMessages()),$i(1),Eo("ngSwitchCase","error"),$i(1),Eo("ngSwitchCase","hint"))},directives:[Su,Tu,Iu,Yp],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[SI.transitionMessages]},changeDetection:0}),t})(),NI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Lu,Wg,Xp],Wg]}),t})();const LI=Np({passive:!0});let MI=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return op;const e=Ep(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new k,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,LI),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,LI)}}),r}stopMonitoring(t){const e=Ep(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(lr(Tp),lr(_c))},t.\u0275prov=ft({factory:function(){return new t(lr(Tp),lr(_c))},token:t,providedIn:"root"}),t})(),FI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({imports:[[Ip]]}),t})();const VI=new Hn("MAT_INPUT_VALUE_ACCESSOR"),UI=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jI=0;const BI=Xg(class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}});let zI=(()=>{class t extends BI{constructor(t,e,n,r,i,s,o,a,l,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+jI++,this.focused=!1,this.stateChanges=new k,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Ap().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=vp(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=vp(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Ap().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=vp(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){UI.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return t.\u0275fac=function(e){return new(e||t)(So(ka),So(Tp),So(Jh,10),So(Td,8),So(Md,8),So(Jg),So(VI,10),So(MI),So(_c),So(OI,8))},t.\u0275dir=Yt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,e){1&t&&No("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(na("disabled",e.disabled)("required",e.required),_o("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),Wo("mat-input-server",e._isServer)("mat-native-select-inline",e._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[_a([{provide:EI,useExisting:t}]),io,ce]}),t})(),qI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[Jg],imports:[[FI,NI,Wg],FI,NI]}),t})();const $I=function(t){return{user:t,delete:!0}};function HI(t,e){if(1&t&&(ko(0,"button",6),ko(1,"mat-icon"),Xo(2,"delete"),To(),To()),2&t){const t=Uo();Eo("mat-dialog-close",Cl(1,$I,t.data.user))}}const KI=function(t){return{user:t}};let WI=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.backupUser=Object.assign({},this.data.user)}cancel(){this.data.user.name=this.backupUser.name,this.data.user.occupation=this.backupUser.occupation,this.dialogRef.close(this.data)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(So(Bk),So(qk))},t.\u0275cmp=Ht({type:t,selectors:[["user-dialog"]],decls:14,vars:6,consts:[["matInput","","cdkFocusInitial","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","",3,"click"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close",4,"ngIf"],["mat-fab","","color","primary","aria-label","Delete",3,"mat-dialog-close"]],template:function(t,e){1&t&&(ko(0,"mat-form-field"),ko(1,"mat-label"),Xo(2,"Title"),To(),ko(3,"input",0),No("ngModelChange",function(t){return e.data.user.name=t}),To(),To(),ko(4,"mat-form-field"),ko(5,"mat-label"),Xo(6,"Description"),To(),ko(7,"textarea",1),No("ngModelChange",function(t){return e.data.user.occupation=t}),To(),To(),ko(8,"div",2),ko(9,"button",3),Xo(10,"OK"),To(),ko(11,"button",4),No("click",function(){return e.cancel()}),Xo(12,"Cancel"),To(),bo(13,HI,3,3,"button",5),To()),2&t&&($i(3),Eo("ngModel",e.data.user.name),$i(4),Eo("ngModel",e.data.user.occupation),$i(2),Eo("mat-dialog-close",Cl(4,KI,e.data.user)),$i(4),Eo("ngIf",e.data.enableDelete))},directives:[PI,kI,zI,xh,ed,Ad,Zk,LC,Qk,Su,S_],styles:[""]}),t})();const GI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},QI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw Error();r.push(e<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ZI=function(t){return function(t){const e=GI(t);return QI.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class YI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function XI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ZI(JSON.stringify({alg:"none",type:"JWT"})),ZI(JSON.stringify(s)),""].join(".")}function JI(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tx(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(JI())}function ex(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function nx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rx(){const t=JI();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ix(){return"object"==typeof indexedDB}function sx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}function ox(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ax extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ax.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lx.prototype.create)}}class lx{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(cx,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new ax(r,`${this.serviceName}: ${s} (${r}).`,n)}}const cx=/\{\$([^}]+)}/g;function ux(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(hx(n)&&hx(s)){if(!ux(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hx(t){return null!==t&&"object"==typeof t}function dx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function px(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}}),e}function fx(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class mx{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=gx),void 0===r.error&&(r.error=gx),void 0===r.complete&&(r.complete=gx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}}),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gx(){}function yx(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function _x(t){return t&&t._delegate?t._delegate:t}class vx{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}class bx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new YI;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:r});n.resolve(t)}catch(e){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(MW){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,"[DEFAULT]"===r?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(MW){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new bx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Sx=[];var Ex,Cx;(Cx=Ex||(Ex={}))[Cx.DEBUG=0]="DEBUG",Cx[Cx.VERBOSE=1]="VERBOSE",Cx[Cx.INFO=2]="INFO",Cx[Cx.WARN=3]="WARN",Cx[Cx.ERROR=4]="ERROR",Cx[Cx.SILENT=5]="SILENT";const kx={debug:Ex.DEBUG,verbose:Ex.VERBOSE,info:Ex.INFO,warn:Ex.WARN,error:Ex.ERROR,silent:Ex.SILENT},Tx=Ex.INFO,Ix={[Ex.DEBUG]:"log",[Ex.VERBOSE]:"log",[Ex.INFO]:"info",[Ex.WARN]:"warn",[Ex.ERROR]:"error"},xx=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Ix[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ax{constructor(t){this.name=t,this._logLevel=Tx,this._logHandler=xx,this._userLogHandler=null,Sx.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ex))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?kx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ex.DEBUG,...t),this._logHandler(this,Ex.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ex.VERBOSE,...t),this._logHandler(this,Ex.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ex.INFO,...t),this._logHandler(this,Ex.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ex.WARN,...t),this._logHandler(this,Ex.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ex.ERROR,...t),this._logHandler(this,Ex.ERROR,...t)}}class Rx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const Dx="@firebase/app",Ox=new Ax("@firebase/app"),Px={[Dx]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nx=new Map,Lx=new Map;function Mx(t,e){try{t.container.addComponent(e)}catch(n){Ox.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fx(t){const e=t.name;if(Lx.has(e))return Ox.debug(`There were multiple attempts to register component ${e}.`),!1;Lx.set(e,t);for(const n of Nx.values())Mx(n,t);return!0}function Vx(t,e){return t.container.getProvider(e)}const Ux=new lx("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class jx{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vx("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ux.create("app-deleted",{appName:this._name})}}function Bx(t="[DEFAULT]"){const e=Nx.get(t);if(!e)throw Ux.create("no-app",{appName:t});return e}function zx(){return Array.from(Nx.values())}function qx(t,e,n){var r;let i=null!==(r=Px[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=[`Unable to register library "${i}" with version "${e}":`];return s&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ox.warn(t.join(" "))}Fx(new vx(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}Fx(new vx("platform-logger",t=>new Rx(t),"PRIVATE")),qx(Dx,"0.7.8",""),qx(Dx,"0.7.8","esm2017"),qx("fire-js",""),qx("firebase","9.4.1","app");var $x=n(2087);const Hx=new lx("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Kx(t){return t instanceof ax&&t.code.includes("request-failed")}function Wx({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function Gx(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Qx(t,e){const n=(await e.json()).error;return Hx.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Zx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function Yx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Xx(t){return new Promise(e=>{setTimeout(e,t)})}const Jx=/^[cdef][\w-]{21}$/;function tA(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Jx.test(e)?e:""}catch(MW){return""}}function eA(t){return`${t.appName}!${t.appId}`}const nA=new Map;function rA(t,e){const n=eA(t);iA(n,e),function(t,e){const n=(!sA&&"BroadcastChannel"in self&&(sA=new BroadcastChannel("[Firebase] FID Change"),sA.onmessage=t=>{iA(t.data.key,t.data.fid)}),sA);n&&n.postMessage({key:t,fid:e}),0===nA.size&&sA&&(sA.close(),sA=null)}(n,e)}function iA(t,e){const n=nA.get(t);if(n)for(const r of n)r(e)}let sA=null;const oA="firebase-installations-store";let aA=null;function lA(){return aA||(aA=(0,$x.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(oA)}})),aA}async function cA(t,e){const n=eA(t),r=(await lA()).transaction(oA,"readwrite"),i=r.objectStore(oA),s=await i.get(n);return await i.put(e,n),await r.complete,s&&s.fid===e.fid||rA(t,e.fid),e}async function uA(t){const e=eA(t),n=(await lA()).transaction(oA,"readwrite");await n.objectStore(oA).delete(e),await n.complete}async function hA(t,e){const n=eA(t),r=(await lA()).transaction(oA,"readwrite"),i=r.objectStore(oA),s=await i.get(n),o=e(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.complete,!o||s&&s.fid===o.fid||rA(t,o.fid),o}async function dA(t){let e;const n=await hA(t,n=>{const r=function(t){return mA(t||{fid:tA(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hx.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:async function(t,e){try{return cA(t,await async function(t,{fid:e}){const n=Wx(t),r={method:"POST",headers:Zx(t),body:JSON.stringify({fid:e,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.5.4"})},i=await Yx(()=>fetch(n,r));if(i.ok){const t=await i.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:Gx(t.authToken)}}throw await Qx("Create Installation",i)}(t,e))}catch(n){throw Kx(n)&&409===n.customData.serverCode?await uA(t):await cA(t,{fid:e.fid,registrationStatus:0}),n}}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:pA(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function pA(t){let e=await fA(t);for(;1===e.registrationStatus;)await Xx(100),e=await fA(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await dA(t);return n||e}return e}function fA(t){return hA(t,t=>{if(!t)throw Hx.create("installation-not-found");return mA(t)})}function mA(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function gA(t,e=!1){let n;const r=await hA(t.appConfig,r=>{if(!_A(r))throw Hx.create("not-registered");const i=r.authToken;if(!e&&2===(s=i).requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(s))return r;var s;if(1===i.requestStatus)return n=async function(t,e){let n=await yA(t.appConfig);for(;1===n.authToken.requestStatus;)await Xx(100),n=await yA(t.appConfig);const r=n.authToken;return 0===r.requestStatus?gA(t,e):r}(t,e),r;{if(!navigator.onLine)throw Hx.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return n=async function(t,e){try{const n=await async function({appConfig:t,platformLoggerProvider:e},n){const r=function(t,{fid:e}){return`${Wx(t)}/${e}/authTokens:generate`}(t,n),i=function(t,{refreshToken:e}){const n=Zx(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.5.4"}})},a=await Yx(()=>fetch(r,o));if(a.ok)return Gx(await a.json());throw await Qx("Generate Auth Token",a)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await cA(t.appConfig,r),n}catch(n){if(!Kx(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cA(t.appConfig,n)}else await uA(t.appConfig);throw n}}(t,e),e}});return n?await n:r.authToken}function yA(t){return hA(t,t=>{if(!_A(t))throw Hx.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e})}function _A(t){return void 0!==t&&2===t.registrationStatus}function vA(t){return Hx.create("missing-app-config-values",{valueName:t})}Fx(new vx("installations",t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw vA("App Configuration");if(!t.name)throw vA("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw vA(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:Vx(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Fx(new vx("installations-internal",t=>{const e=Vx(t.getProvider("app").getImmediate(),"installations").getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:r}=await dA(e.appConfig);return r?r.catch(console.error):gA(e).catch(console.error),n.fid}(e),getToken:t=>async function(t,e=!1){const n=t;return await async function(t){const{registrationPromise:e}=await dA(t);e&&await e}(n.appConfig),(await gA(n,e)).token}(e,t)}},"PRIVATE")),qx("@firebase/installations","0.5.4"),qx("@firebase/installations","0.5.4","esm2017");const bA=new lx("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wA{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}async fetch(t){const[e,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e))return n;t.eTag=n&&n.eTag;const r=await this.client.fetch(t),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}function SA(t=navigator){return t.languages&&t.languages[0]||t.language}class EA{constructor(t,e,n,r,i,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}async fetch(t){const[e,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,i={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:n,app_id:this.appId,language_code:SA()},o={method:"POST",headers:i,body:JSON.stringify(s)},a=fetch(r,o),l=new Promise((e,n)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",n(t)})});let c;try{await Promise.race([a,l]),c=await a}catch(f){let t="fetch-client-network";throw"AbortError"===f.name&&(t="fetch-timeout"),bA.create(t,{originalErrorMessage:f.message})}let u=c.status;const h=c.headers.get("ETag")||void 0;let d,p;if(200===c.status){let t;try{t=await c.json()}catch(f){throw bA.create("fetch-client-parse",{originalErrorMessage:f.message})}d=t.entries,p=t.state}if("INSTANCE_STATE_UNSPECIFIED"===p?u=500:"NO_CHANGE"===p?u=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==u&&200!==u)throw bA.create("fetch-status",{httpStatus:u});return{status:u,eTag:h,config:d}}}class CA{constructor(t,e){this.client=t,this.storage=e}async fetch(t){const e=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,e)}async attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:n}){await function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=await this.client.fetch(t);return await this.storage.deleteThrottleMetadata(),e}catch(r){if(!function(t){if(!(t instanceof ax&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r))throw r;const e={throttleEndTimeMillis:Date.now()+yx(n),backoffCount:n+1};return await this.storage.setThrottleMetadata(e),this.attemptFetch(t,e)}}}class kA{constructor(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function TA(t,e){const n=t.target.error||void 0;return bA.create(e,{originalErrorMessage:n&&n.message})}class IA{constructor(t,e,n,r=function(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=t=>{e(TA(t,"storage-open"))},n.onsuccess=e=>{t(e.target.result)},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}catch(n){e(bA.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(t){const e=await this.openDbPromise;return new Promise((n,r)=>{const i=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=this.createCompositeKey(t);try{const t=i.get(s);t.onerror=t=>{r(TA(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;n(e?e.value:void 0)}}catch(o){r(bA.create("storage-get",{originalErrorMessage:o&&o.message}))}})}async set(t,e){const n=await this.openDbPromise;return new Promise((r,i)=>{const s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),o=this.createCompositeKey(t);try{const t=s.put({compositeKey:o,value:e});t.onerror=t=>{i(TA(t,"storage-set"))},t.onsuccess=()=>{r()}}catch(a){i(bA.create("storage-set",{originalErrorMessage:a&&a.message}))}})}async delete(t){const e=await this.openDbPromise;return new Promise((n,r)=>{const i=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=this.createCompositeKey(t);try{const t=i.delete(s);t.onerror=t=>{r(TA(t,"storage-delete"))},t.onsuccess=()=>{n()}}catch(o){r(bA.create("storage-delete",{originalErrorMessage:o&&o.message}))}})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class xA{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await t;r&&(this.lastFetchStatus=r);const i=await e;i&&(this.lastSuccessfulFetchTimestampMillis=i);const s=await n;s&&(this.activeConfig=s)}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}Fx(new vx("remote-config",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw bA.create("registration-window");if(!ix())throw bA.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:o}=n.options;if(!i)throw bA.create("registration-project-id");if(!s)throw bA.create("registration-api-key");if(!o)throw bA.create("registration-app-id");const a=new IA(o,n.name,e=e||"firebase"),l=new xA(a),c=new Ax("@firebase/remote-config");c.logLevel=Ex.ERROR;const u=new EA(r,"9.4.1",e,i,s,o),h=new CA(u,a),d=new wA(h,a,l,c),p=new kA(n,d,l,a,c);return function(t){const e=_x(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),qx("@firebase/remote-config","0.3.3"),qx("@firebase/remote-config","0.3.3","esm2017");const AA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var RA,DA;function OA(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function PA(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(RA||(RA={})),function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(DA||(DA={}));let NA=null;function LA(){return NA||(NA=(0,$x.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}})),NA}async function MA(t){const e=VA(t),n=await LA(),r=await n.transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e);if(r)return r;{const e=await async function(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(t=>t.name).includes("fcm_token_details_db"))return null;let e=null;return(await(0,$x.openDb)("fcm_token_details_db",5,async n=>{var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains("fcm_token_object_Store"))return;const i=n.transaction.objectStore("fcm_token_object_Store"),s=await i.index("fcmSenderId").get(t);if(await i.clear(),s)if(2===n.oldVersion){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(r=t.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:OA(t.vapidKey)}}}else if(3===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:OA(t.auth),p256dh:OA(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:OA(t.vapidKey)}}}else if(4===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:OA(t.auth),p256dh:OA(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:OA(t.vapidKey)}}}})).close(),await(0,$x.deleteDb)("fcm_token_details_db"),await(0,$x.deleteDb)("fcm_vapid_details_db"),await(0,$x.deleteDb)("undefined"),function(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null}(t.appConfig.senderId);if(e)return await FA(t,e),e}}async function FA(t,e){const n=VA(t),r=(await LA()).transaction("firebase-messaging-store","readwrite");return await r.objectStore("firebase-messaging-store").put(e,n),await r.complete,e}function VA({appConfig:t}){return t.appId}const UA=new lx("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});async function jA(t,e){const n={method:"DELETE",headers:await zA(t)};try{const r=await fetch(`${BA(t.appConfig)}/${e}`,n),i=await r.json();if(i.error)throw UA.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw UA.create("token-unsubscribe-failed",{errorInfo:r})}}function BA({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}async function zA({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function qA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==AA&&(i.web.applicationPubKey=r),i}async function $A(t,e){const n={token:await async function(t,e){const n=await zA(t),r=qA(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const e=await fetch(BA(t.appConfig),i);s=await e.json()}catch(o){throw UA.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw UA.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw UA.create("token-subscribe-no-token");return s.token}(t,e),createTime:Date.now(),subscriptionOptions:e};return await FA(t,n),n.token}function HA(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function KA(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function WA(t){return UA.create("missing-app-config-values",{valueName:t})}KA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),KA("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class GA{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(t){if(!t||!t.options)throw WA("App Configuration Object");if(!t.name)throw WA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw WA(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function QA(t,e){if(!navigator)throw UA.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw UA.create("permission-blocked");return await async function(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=AA)}(t,null==e?void 0:e.vapidKey),await async function(t,e){if(e||t.swRegistration||await async function(t){try{t.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),t.swRegistration.update().catch(()=>{})}catch(e){throw UA.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}(t),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw UA.create("invalid-sw-registration");t.swRegistration=e}}(t,null==e?void 0:e.serviceWorkerRegistration),async function(t){const e=await async function(t,e){return await t.pushManager.getSubscription()||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:PA(e)})}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:OA(e.getKey("auth")),p256dh:OA(e.getKey("p256dh"))},r=await MA(t.firebaseDependencies);if(r){if((s=n).vapidKey===(i=r.subscriptionOptions).vapidKey&&s.endpoint===i.endpoint&&s.auth===i.auth&&s.p256dh===i.p256dh)return Date.now()>=r.createTime+6048e5?async function(t,e){try{const n=await async function(t,e){const n=await zA(t),r=qA(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=await fetch(`${BA(t.appConfig)}/${e.token}`,i);s=await n.json()}catch(o){throw UA.create("token-update-failed",{errorInfo:o})}if(s.error)throw UA.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw UA.create("token-update-no-token");return s.token}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await FA(t.firebaseDependencies,r),n}catch(n){throw await async function(t){const e=await MA(t.firebaseDependencies);e&&(await jA(t.firebaseDependencies,e.token),await async function(t){const e=VA(t),n=(await LA()).transaction("firebase-messaging-store","readwrite");await n.objectStore("firebase-messaging-store").delete(e),await n.complete}(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}(t),n}}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await jA(t.firebaseDependencies,r.token)}catch(o){console.warn(o)}return $A(t.firebaseDependencies,n)}var i,s;return $A(t.firebaseDependencies,n)}(t)}Fx(new vx("messaging",t=>{const e=new GA(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>async function(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===DA.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(HA(n)):t.onMessageHandler.next(HA(n)));const r=n.data;var i;"object"==typeof(i=r)&&i&&"google.c.a.c_id"in i&&"1"===r["google.c.a.e"]&&await async function(t,e,n){const r=function(t){switch(t){case DA.NOTIFICATION_CLICKED:return"notification_open";case DA.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}(t,n.messageType,r)}(e,t)),e},"PUBLIC")),Fx(new vx("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>QA(e,t)}},"PRIVATE")),qx("@firebase/messaging","0.9.4"),qx("@firebase/messaging","0.9.4","esm2017");const ZA="https://www.googletagmanager.com/gtag/js",YA=new Ax("@firebase/analytics");function XA(t){return Promise.all(t.map(t=>t.catch(t=>t)))}const JA=new lx("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tR=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function eR(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nR(t,e=tR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw JA.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw JA.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iR;return setTimeout(async()=>{a.abort()},void 0!==n?n:6e4),rR({appId:r,apiKey:i,measurementId:s},o,a,e)}async function rR(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=tR){const{appId:s,measurementId:o}=t;try{await function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(JA.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(a){if(o)return YA.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const e=await async function(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:eR(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw JA.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return i.deleteThrottleMetadata(s),e}catch(a){if(!function(t){if(!(t instanceof ax&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a)){if(i.deleteThrottleMetadata(s),o)return YA.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const e=503===Number(a.customData.httpStatus)?yx(n,i.intervalMillis,30):yx(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+e,backoffCount:n+1};return i.setThrottleMetadata(s,l),YA.debug(`Calling attemptFetch again in ${e} millis`),rR(t,l,r,i)}}class iR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}class sR{constructor(t){this.app=t}_delete(){return delete oR[this.app.options.appId],Promise.resolve()}}let oR={},aR=[];const lR={};let cR,uR,hR=!1;Fx(new vx("analytics",(t,{options:e})=>function(t,e,n){!function(){const t=[];if(ex()&&t.push("This is a browser extension environment."),ox()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=JA.create("invalid-analytics-context",{errorInfo:e});YA.warn(n.message)}}();const r=t.options.appId;if(!r)throw JA.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw JA.create("no-api-key");YA.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oR[r])throw JA.create("already-exists",{id:r});if(!hR){!function(t){let e=[];Array.isArray(window.dataLayer)?e=window.dataLayer:window.dataLayer=e}();const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let s=function(...t){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(s=window.gtag),window.gtag=function(t,e,n,r){return async function(i,s,o){try{"event"===i?await async function(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=await XA(n);for(const n of t){const t=r.find(t=>t.measurementId===n),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){YA.error(s)}}(t,e,n,s,o):"config"===i?await async function(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const t=(await XA(n)).find(t=>t.measurementId===i);t&&await e[t.appId]}}catch(a){YA.error(a)}t("config",i,s)}(t,e,n,r,s,o):t("set",s)}catch(a){YA.error(a)}}}(s,t,e,n),{gtagCore:s,wrappedGtag:window.gtag}}(oR,aR,lR);uR=t,cR=e,hR=!0}return oR[r]=async function(t,e,n,r,i,s,o){var a;const l=nR(t);l.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&YA.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>YA.error(t)),e.push(l);const c=async function(){if(!ix())return YA.warn(JA.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await sx()}catch(t){return YA.warn(JA.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0}().then(t=>t?r.getId():void 0),[u,h]=await Promise.all([l,c]);(function(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(ZA))return e;return null})()||function(t,e){const n=document.createElement("script");n.src=`${ZA}?l=dataLayer&id=${e}`,n.async=!0,document.head.appendChild(n)}(0,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId}(t,aR,lR,e,cR,0,n),new sR(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),Fx(new vx("analytics-internal",function(t){try{const e=t.getProvider("analytics").getImmediate();return{logEvent:(t,n,r)=>function(t,e,n,r){t=_x(t),async function(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=await e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(uR,oR[t.app.options.appId],e,n,r).catch(t=>YA.error(t))}(e,t,n,r)}}catch(e){throw JA.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),qx("@firebase/analytics","0.7.4"),qx("@firebase/analytics","0.7.4","esm2017");var dR=function(t,e){return(dR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function pR(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}dR(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function fR(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function mR(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gR(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function yR(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function _R(t){return this instanceof _R?(this.v=t,this):new _R(t)}function vR(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){s.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof _R?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function l(t){a("next",t)}function c(t){a("throw",t)}function u(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function bR(t){return"function"==typeof t}var wR,SR=((wR=function(t){Error.call(this),this.stack=(new Error).stack,this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}).prototype=Object.create(Error.prototype),wR.prototype.constructor=wR,wR);function ER(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var CR=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,r,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=mR(s),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(p){t={error:p}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}else s.remove(this);var l=this.initialTeardown;if(bR(l))try{l()}catch(f){i=f instanceof SR?f.errors:[f]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var u=mR(c),h=u.next();!h.done;h=u.next()){var d=h.value;try{TR(d)}catch(m){i=null!=i?i:[],m instanceof SR?i=yR(yR([],gR(i)),gR(m.errors)):i.push(m)}}}catch(g){n={error:g}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new SR(i)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)TR(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&ER(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&ER(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();function kR(t){return t instanceof CR||t&&"closed"in t&&bR(t.remove)&&bR(t.add)&&bR(t.unsubscribe)}function TR(t){bR(t)?t():t.unsubscribe()}var IR=function(t){function e(e,n){return t.call(this)||this}return pR(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(CR),xR={setInterval:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=xR.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,yR([],gR(t)))},clearInterval:function(t){var e=xR.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},AR=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return pR(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),xR.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;xR.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,ER(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(IR),RR=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return pR(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(AR),DR={now:function(){return(DR.delegate||Date).now()},delegate:void 0},OR=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=DR.now,t}(),PR=function(t){function e(e,n){void 0===n&&(n=OR.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return pR(e,t),e.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(OR),NR=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return pR(e,t),e}(PR))(RR),LR=new PR(AR),MR=LR,FR={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=FR.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,yR([],gR(t)))},clearTimeout:function(t){var e=FR.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function VR(t){FR.setTimeout(function(){throw t})}function UR(){}var jR=BR("C",void 0,void 0);function BR(t,e,n){return{kind:t,value:e,error:n}}var zR=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,kR(e)&&e.add(n)):n.destination=WR,n}return pR(e,t),e.create=function(t,e,n){return new qR(t,e,n)},e.prototype.next=function(t){this.isStopped?KR(function(t){return BR("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?KR(BR("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?KR(jR,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(CR),qR=function(t){function e(e,n,r){var i,s=t.call(this)||this;if(bR(e))i=e;else if(e){var o;n=e.error,r=e.complete,o=e,i=null==(i=e.next)?void 0:i.bind(o),n=null==n?void 0:n.bind(o),r=null==r?void 0:r.bind(o)}return s.destination={next:i?$R(i):UR,error:$R(null!=n?n:HR),complete:r?$R(r):UR},s}return pR(e,t),e}(zR);function $R(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,yR([],gR(e)))}catch(r){VR(r)}}}function HR(t){throw t}function KR(t,e){var n=null;n&&FR.setTimeout(function(){return n(t,e)})}var WR={closed:!0,next:UR,error:HR,complete:UR},GR="function"==typeof Symbol&&Symbol.observable||"@@observable";function QR(t){return t}function ZR(t){return 0===t.length?QR:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var YR=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=this,s=(r=t)&&r instanceof zR||function(t){return t&&bR(t.next)&&bR(t.error)&&bR(t.complete)}(r)&&kR(r)?t:new qR(t,e,n);return function(t){t()}(function(){var t=i.operator,e=i.source;s.add(t?t.call(s,e):e?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=XR(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),null==i||i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[GR]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ZR(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=XR(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function XR(t){var e;return null!==(e=null!=t?t:undefined)&&void 0!==e?e:Promise}function JR(t){return function(e){if(function(t){return bR(null==t?void 0:t.lift)}(e))return e.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}var tD=function(t){function e(e,n,r,i,s){var o=t.call(this,e)||this;return o.onFinalize=s,o._next=n?function(t){try{n(t)}catch(r){e.error(r)}}:t.prototype._next,o._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,o._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,o}return pR(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(zR);function eD(t,e){return void 0===e&&(e=0),JR(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function nD(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function rD(t,e){return void 0===e&&(e=0),JR(function(n,r){n.subscribe(new tD(r,function(n){return nD(r,t,function(){return r.next(n)},e)},function(){return nD(r,t,function(){return r.complete()},e)},function(n){return nD(r,t,function(){return r.error(n)},e)}))})}const iD=new Da("7.2.0");function sD(t,e,n){if(e){if(1===e.length)return e[0];const t=e.filter(t=>t.app===n);if(1===t.length)return t[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis.__angularfire_symbol__analyticsIsSupported||(globalThis.__angularfire_symbol__analyticsIsSupported=async function(){if(ex())return!1;if(!ox())return!1;if(!ix())return!1;try{return await sx()}catch(t){return!1}}().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis.__angularfire_symbol__messagingIsSupported||(globalThis.__angularfire_symbol__messagingIsSupported=async function(){return"undefined"!=typeof window&&ix()&&await sx()&&ox()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis.__angularfire_symbol__remoteConfigIsSupported||(globalThis.__angularfire_symbol__remoteConfigIsSupported=async function(){if(!ix())return!1;try{return await sx()}catch(t){return!1}}().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const oD=(t,e)=>{const n=e?[e]:zx(),r=[];return n.forEach(e=>{e.container.getProvider(t).instances.forEach(t=>{r.includes(t)||r.push(t)})}),r};function aD(){}class lD{constructor(t,e=NR){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class cD{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aD,{},aD,aD)),e.pipe((r={next:n,complete:n,error:n},i=bR(r)?{next:r,error:void 0,complete:void 0}:r,i?JR(function(t,e){var n;null===(n=i.subscribe)||void 0===n||n.call(i);var r=!0;t.subscribe(new tD(e,function(t){var n;null===(n=i.next)||void 0===n||n.call(i,t),e.next(t)},function(){var t;r=!1,null===(t=i.complete)||void 0===t||t.call(i),e.complete()},function(t){var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,t),e.error(t)},function(){var t,e;r&&(null===(t=i.unsubscribe)||void 0===t||t.call(i)),null===(e=i.finalize)||void 0===e||e.call(i)}))}):QR)).subscribe(t).add(n);var r,i}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let uD=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new lD(Zone.current)),this.insideAngular=t.run(()=>new lD(Zone.current,LR)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(lr(_c))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function hD(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function dD(t){return hD().ngZone.runOutsideAngular(()=>t())}function pD(t){return hD().ngZone.run(()=>t())}function fD(t){return hD(),(e=hD(),function(t){return(t=t.lift(new cD(e.ngZone))).pipe(eD(e.outsideAngular),rD(e.insideAngular))})(t);var e}const mD=(t,e)=>function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),pD(()=>t.apply(void 0,arguments))},gD=(t,e)=>function(){let n;for(let t=0;t<arguments.length;t++)"function"==typeof arguments[t]&&(e&&(n||(n=pD(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",aD,{},aD,aD)))),arguments[t]=mD(arguments[t],n));const r=dD(()=>t.apply(this,arguments));if(!e){if(r instanceof YR){const t=hD();return r.pipe(eD(t.outsideAngular),rD(t.insideAngular))}return pD(()=>r)}return r instanceof YR?r.pipe(fD):r instanceof Promise?pD(()=>new Promise((t,e)=>r.then(e=>pD(()=>t(e)),t=>pD(()=>e(t))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:pD(()=>r)};function yD(t,e,n){void 0===t&&(t=0),void 0===n&&(n=MR);var r,i=-1;return null!=e&&((r=e)&&bR(r.schedule)?n=e:i=e),new YR(function(e){var r=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;r<0&&(r=0);var s=0;return n.schedule(function(){e.closed||(e.next(s++),0<=i?this.schedule(void 0,i):e.complete())},r)})}var _D=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function vD(t){return bR(null==t?void 0:t.then)}function bD(t){return bR(t[GR])}function wD(t){return Symbol.asyncIterator&&bR(null==t?void 0:t[Symbol.asyncIterator])}function SD(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var ED="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function CD(t){return bR(null==t?void 0:t[ED])}function kD(t){return vR(this,arguments,function(){var e,n,r;return fR(this,function(i){switch(i.label){case 0:e=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,_R(e.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,_R(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,_R(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function TD(t){return bR(null==t?void 0:t.getReader)}function ID(t){if(t instanceof YR)return t;if(null!=t){if(bD(t))return r=t,new YR(function(t){var e=r[GR]();if(bR(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(_D(t))return n=t,new YR(function(t){for(var e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()});if(vD(t))return function(t){return new YR(function(e){t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,VR)})}(t);if(wD(t))return xD(t);if(CD(t))return e=t,new YR(function(t){var n,r;try{for(var i=mR(e),s=i.next();!s.done;s=i.next())if(t.next(s.value),t.closed)return}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()});if(TD(t))return xD(kD(t))}var e,n,r;throw SD(t)}function xD(t){return new YR(function(e){(function(t,e){var n,r,i,s,o,a,l;return o=this,void 0,l=function(){var o;return fR(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=mR(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}(t),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(e.next(r.value),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=a.sent(),i={error:o},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})},new((a=void 0)||(a=Promise))(function(t,e){function n(t){try{i(l.next(t))}catch(n){e(n)}}function r(t){try{i(l.throw(t))}catch(n){e(n)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof a?i:new a(function(t){t(i)})).then(n,r)}i((l=l.apply(o,[])).next())})})(t,e).catch(function(t){return e.error(t)})})}function AD(t,e){if(!t)throw new Error("Iterable cannot be null");return new YR(function(n){nD(n,e,function(){var r=t[Symbol.asyncIterator]();nD(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}function RD(t,e){return e?function(t,e){if(null!=t){if(bD(t))return function(t,e){return ID(t).pipe(eD(e),rD(e))}(t,e);if(_D(t))return function(t,e){return new YR(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(vD(t))return function(t,e){return ID(t).pipe(eD(e),rD(e))}(t,e);if(wD(t))return AD(t,e);if(CD(t))return function(t,e){return new YR(function(n){var r;return nD(n,e,function(){r=t[ED](),nD(n,e,function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(s){return void n.error(s)}i?n.complete():n.next(e)},0,!0)}),function(){return bR(null==r?void 0:r.return)&&r.return()}})}(t,e);if(TD(t))return function(t,e){return AD(kD(t),e)}(t,e)}throw SD(t)}(t,e):ID(t)}function DD(t,e,n){return void 0===n&&(n=1/0),bR(e)?DD(function(n,r){return function(t,e){return JR(function(e,n){var r=0;e.subscribe(new tD(n,function(e){n.next(t.call(void 0,e,r++))}))})}(function(t,i){return e(n,t,r,i)})(ID(t(n,r)))},n):("number"==typeof e&&(n=e),JR(function(e,r){return function(t,e,n,r,i,s,o,a){var l=[],c=0,u=0,h=!1,d=function(){!h||l.length||c||e.complete()},p=function(t){c++;var i=!1;ID(n(t,u++)).subscribe(new tD(e,function(t){e.next(t)},function(){i=!0},void 0,function(){if(i)try{for(c--;l.length&&c<r;)void 0,t=l.shift(),p(t);d()}catch(n){e.error(n)}var t}))};return t.subscribe(new tD(e,function(t){return c<r?p(t):l.push(t)},function(){h=!0,d()})),function(){}}(e,r,t,n)}))}function OD(t,e){return bR(e)?DD(t,e,1):DD(t,1)}function PD(t,e){return JR(function(n,r){var i=new Set;n.subscribe(new tD(r,function(e){var n=t?t(e):e;i.has(n)||(i.add(n),r.next(e))})),null==e||e.subscribe(new tD(r,function(){return i.clear()},UR))})}class ND{constructor(t){return t}}class LD{constructor(){return zx()}}yD(0,300).pipe(OD(()=>RD(zx())),PD());const MD=new Hn("angularfire2._apps"),FD={provide:ND,useFactory:function(t){return t&&1===t.length?t[0]:new ND(Bx())},deps:[[new pr,MD]]},VD={provide:LD,deps:[[new pr,MD]]};function UD(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ND(r)}}let jD=(()=>{class t{constructor(t){qx("angularfire",iD.full,"core"),qx("angularfire",iD.full,"app"),qx("angular",Oa.full,t.toString())}}return t.\u0275fac=function(e){return new(e||t)(lr(rc))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[FD,VD]}),t})();function BD(t,...e){return{ngModule:jD,providers:[{provide:MD,useFactory:UD(t),multi:!0,deps:[_c,no,uD,...e]}]}}gD(async function(t){const e=t.name;Nx.has(e)&&(Nx.delete(e),await Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)},!0),gD(Bx,!0),gD(zx,!0);const zD=gD(function(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Ux.create("bad-app-name",{appName:String(r)});const i=Nx.get(r);if(i){if(ux(t,i.options)&&ux(n,i.config))return i;throw Ux.create("duplicate-app",{appName:r})}const s=new wx(r);for(const a of Lx.values())s.addComponent(a);const o=new jx(t,n,s);return Nx.set(r,o),o},!0),qD=(gD(function(t,e){if(null!==t&&"function"!=typeof t)throw Ux.create("invalid-log-argument");!function(t,e){for(const n of Sx){let r=null;e&&e.level&&(r=kx[e.level]),n.userLogHandler=null===t?null:(e,n,...i)=>{const s=i.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Ex[n].toLowerCase(),message:s,args:i,type:e.name})}}}(t,e)},!0),gD(qx,!0),gD(function(t){var e;e=t,Sx.forEach(t=>{t.setLogLevel(e)})},!0),new Map),$D={activated:!1,tokenObservers:[]},HD={initialized:!1,enabled:!1};function KD(t){return qD.get(t)||$D}function WD(t,e){qD.set(t,e)}function GD(){return HD}class QD{constructor(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new YI,await function(t){return new Promise(e=>{setTimeout(e,t)})}(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new YI,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ZD=new lx("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."}),YD="firebase-app-check-store";let XD=null;function JD(){return XD||(XD=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{var n;e(ZD.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(YD,{keyPath:"compositeKey"})}}}catch(n){e(ZD.create("storage-open",{originalErrorMessage:n.message}))}}),XD)}async function tO(t,e){const n=(await JD()).transaction(YD,"readwrite"),r=n.objectStore(YD).put({compositeKey:t,value:e});return new Promise((t,e)=>{r.onsuccess=e=>{t()},n.onerror=t=>{var n;e(ZD.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})}async function eO(t){const e=(await JD()).transaction(YD,"readonly"),n=e.objectStore(YD).get(t);return new Promise((t,r)=>{n.onsuccess=e=>{const n=e.target.result;t(n?n.value:void 0)},e.onerror=t=>{var e;r(ZD.create("storage-get",{originalErrorMessage:null===(e=t.target.error)||void 0===e?void 0:e.message}))}})}function nO(t){return`${t.options.appId}-${t.name}`}const rO=new Ax("@firebase/app-check");function iO(t,e){return ix()?function(t,e){return tO(nO(t),e)}(t,e).catch(t=>{rO.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sO(){return GD().enabled}async function oO(){const t=GD();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}const aO={error:"UNKNOWN_ERROR"};async function lO(t,e=!1){const n=t.app;!function(t){if(!KD(t).activated)throw ZD.create("use-before-activation",{appName:t.name})}(n);const r=KD(n);let i,s,o=r.token;if(!o){const t=await r.cachedTokenPromise;t&&dO(t)&&(o=t,WD(n,Object.assign(Object.assign({},r),{token:o})),hO(n,{token:o.token}))}if(!e&&o&&dO(o))return{token:o.token};if(sO()){const e=await async function({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=await fetch(t,s)}catch(h){throw ZD.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw ZD.create("fetch-status-error",{httpStatus:o.status});try{a=await o.json()}catch(h){throw ZD.create("fetch-parse-error",{originalErrorMessage:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ZD.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}}(function(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}(n,await oO()),t.platformLoggerProvider);return await iO(n,e),WD(n,Object.assign(Object.assign({},r),{token:e})),{token:e.token}}try{o=await r.provider.getToken()}catch(a){rO.error(a),i=a}return o?(s={token:o.token},WD(n,Object.assign(Object.assign({},r),{token:o})),await iO(n,o)):s=function(t){return{token:(e=aO,QI.encodeString(JSON.stringify(e),!1)),error:t};var e}(i),hO(n,s),s}function cO(t,e,n,r){const{app:i}=t,s=KD(i),o={next:n,error:r,type:e},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const e=function(t){const{app:e}=t;return new QD(async()=>{let n;if(n=KD(e).token?await lO(t,!0):await lO(t),n.error)throw n.error},()=>!0,()=>{const t=KD(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return e=Math.min(e,t.token.expireTimeMillis-3e5),Math.max(0,e-Date.now())}return 0},3e4,96e4)}(t);a.tokenRefresher=e}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&dO(s.token)){const t=s.token;Promise.resolve().then(()=>n({token:t.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(t=>{t&&dO(t)&&n({token:t.token})}).catch(()=>{});WD(i,a)}function uO(t,e){const n=KD(t),r=n.tokenObservers.filter(t=>t.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),WD(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function hO(t,e){const n=KD(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function dO(t){return t.expireTimeMillis-Date.now()>0}class pO{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=KD(this.app);for(const e of t)uO(this.app,e.next);return Promise.resolve()}}Fx(new vx("app-check",t=>{return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),new pO(e,n);var e,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("app-check-internal").initialize()})),Fx(new vx("app-check-internal",t=>{return e=t.getProvider("app-check").getImmediate(),{getToken:t=>lO(e,t),addTokenListener:t=>cO(e,"INTERNAL",t),removeTokenListener:t=>uO(e.app,t)};var e},"PUBLIC").setInstantiationMode("EXPLICIT")),qx("@firebase/app-check","0.5.1");class fO{constructor(){return oD("app-check")}}function mO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}yD(0,300).pipe(OD(()=>RD(oD("app-check"))),PD()),new Hn("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new pr,new pr,gD(async function(t,e){const n=await lO(t,e);if(n.error)throw n.error;return{token:n.token}},!0),gD(function(t=Bx(),e){const n=Vx(t=_x(t),"app-check");if(GD().initialized||function(){const t=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}(),e=GD();if(e.initialized=!0,"string"!=typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==t.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const n=new YI;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:async function(){let t;try{t=await eO("debug-token")}catch(oB){}if(t)return t;{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)});return(e=t,tO("debug-token",e)).catch(t=>rO.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),t}var e}())}(),sO()&&oO().then(t=>console.log(`App Check debug token: ${t}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&i.provider.isEqual(e.provider))return r;throw ZD.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return function(t,e,n){const r=KD(t),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=e,i.cachedTokenPromise=async function(t){if(ix()){let n;try{n=await function(t){return eO(nO(t))}(t)}catch(e){rO.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return n}}(t).then(e=>(e&&dO(e)&&WD(t,Object.assign(Object.assign({},KD(t)),{token:e})),e)),i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,WD(t,i),i.provider.initialize(t)}(t,e.provider,e.isTokenAutoRefreshEnabled),r},!0),gD(function(t,e,n,r){let i=()=>{},s=()=>{};return i=null!=e.next?e.next.bind(e):e,null!=e.error?s=e.error.bind(e):n&&(s=n),cO(t,"EXTERNAL",i,s),()=>uO(t.app,i)},!0),gD(function(t,e){const n=t.app,r=KD(n);r.tokenRefresher&&(!0===e?r.tokenRefresher.start():r.tokenRefresher.stop()),WD(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:e}))},!0);const gO=new lx("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yO=new Ax("@firebase/auth");function _O(t,...e){yO.logLevel<=Ex.ERROR&&yO.error(`Auth (9.4.1): ${t}`,...e)}function vO(t,...e){throw EO(t,...e)}function bO(t,...e){return EO(t,...e)}function wO(t,e,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[e]:n});return new lx("auth","Firebase",r).create(e,{appName:t.name})}function SO(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&vO(t,"argument-error"),wO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function EO(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gO.create(t,...e)}function CO(t,e,...n){if(!t)throw EO(e,...n)}function kO(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _O(e),new Error(e)}function TO(t,e){t||kO(e)}const IO=new Map;function xO(t){TO(t instanceof Function,"Expected a class definition");let e=IO.get(t);return e?(TO(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IO.set(t,e),e)}function AO(t,e){const n=Vx(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(ux(n.getOptions(),null!=e?e:{}))return t;vO(t,"already-initialized")}return n.initialize({options:e})}function RO(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function DO(){return"http:"===OO()||"https:"===OO()}function OO(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class PO{constructor(t,e){this.shortDelay=t,this.longDelay=e,TO(e>t,"Short delay should be less than long delay!"),this.isMobile=tx()||nx()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(DO()||ex()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function NO(t,e){TO(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class LO{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void kO("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void kO("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void kO("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},FO=new PO(3e4,6e4);function VO(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function UO(t,e,n,r,i={}){return jO(t,i,()=>{let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const o=dx(Object.assign({key:t.config.apiKey},s)).slice(1),a=new(LO.headers());return a.set("Content-Type","application/json"),a.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&a.set("X-Firebase-Locale",t.languageCode),LO.fetch()(zO(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},i))})}async function jO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},MO),e);try{const e=new qO(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw $O(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $O(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw $O(t,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw wO(t,a,o);vO(t,a)}}catch(i){if(i instanceof ax)throw i;vO(t,"network-request-failed")}}async function BO(t,e,n,r,i={}){const s=await UO(t,e,n,r,i);return"mfaPendingCredential"in s&&vO(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?NO(t.config,i):`${t.config.apiScheme}://${i}`}class qO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(bO(this.auth,"timeout")),FO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $O(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bO(t,e,r);return i.customData._tokenResponse=n,i}function HO(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function KO(t,e=!1){return _x(t).getIdToken(e)}async function WO(t,e=!1){const n=_x(t),r=await n.getIdToken(e),i=QO(r);CO(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:HO(GO(i.auth_time)),issuedAtTime:HO(GO(i.iat)),expirationTime:HO(GO(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function GO(t){return 1e3*Number(t)}function QO(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return _O("JWT malformed, contained fewer than 3 sections"),null;try{const t=function(t){try{return QI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return t?JSON.parse(t):(_O("Failed to decode base64 JWT payload"),null)}catch(i){return _O("Caught error parsing JWT payload as JSON",i),null}}async function ZO(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ax&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}class YO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&this.schedule(!0))}this.schedule()}}class XO{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=HO(this.lastLoginAt),this.creationTime=HO(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function JO(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ZO(t,async function(t,e){return UO(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));CO(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s.providerUserInfo.map(t=>{var{providerId:e}=t,n=mO(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],a=(l=o,[...t.providerData.filter(t=>!l.some(e=>e.providerId===t.providerId)),...l]);var l;const c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new XO(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function tP(t){const e=_x(t);await JO(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}class eP{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){CO(t.idToken,"internal-error"),CO(void 0!==t.idToken,"internal-error"),CO(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=QO(t);return CO(e,"internal-error"),CO(void 0!==e.exp,"internal-error"),CO(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return CO(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await jO(t,{},()=>{const n=dx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,s=zO(t,r,"/v1/token",`key=${i}`);return LO.fetch()(s,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new eP;return n&&(CO("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(CO("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(CO("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eP,this.toJSON())}_performRefresh(){return kO("not implemented")}}function nP(t,e){CO("string"==typeof t||void 0===t,"internal-error",{appName:e})}class rP{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=mO(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new YO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new XO(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await ZO(this,this.stsTokenManager.getToken(this.auth,t));return CO(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return WO(this,t)}reload(){return tP(this)}_assign(t){this!==t&&(CO(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new rP(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){CO(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await JO(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ZO(this,async function(t,e){return UO(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=e.photoURL)&&void 0!==s?s:void 0,f=null!==(o=e.tenantId)&&void 0!==o?o:void 0,m=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:v,isAnonymous:b,providerData:w,stsTokenManager:S}=e;CO(_&&S,t,"internal-error");const E=eP.fromJSON(this.name,S);CO("string"==typeof _,t,"internal-error"),nP(u,t.name),nP(h,t.name),CO("boolean"==typeof v,t,"internal-error"),CO("boolean"==typeof b,t,"internal-error"),nP(d,t.name),nP(p,t.name),nP(f,t.name),nP(m,t.name),nP(g,t.name),nP(y,t.name);const C=new rP({uid:_,auth:t,email:h,emailVerified:v,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(C.providerData=w.map(t=>Object.assign({},t))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(t,e,n=!1){const r=new eP;r.updateFromServerResponse(e);const i=new rP({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await JO(i),i}}const iP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function sP(t,e,n){return`firebase:${t}:${e}:${n}`}class oP{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=sP(this.userKey,r.apiKey,i),this.fullPersistenceKey=sP("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?rP._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new oP(xO(iP),t,n);const r=(await Promise.all(e.map(async t=>{if(await t._isAvailable())return t}))).filter(t=>t);let i=r[0]||xO(iP);const s=sP(n,t.config.apiKey,t.name);let o=null;for(const l of e)try{const e=await l._get(s);if(e){const n=rP._fromJSON(t,e);l!==i&&(o=n),i=l;break}}catch(MW){}const a=r.filter(t=>t._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map(async t=>{if(t!==i)try{await t._remove(s)}catch(MW){}})),new oP(i,t,n)):new oP(i,t,n)}}function aP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pP(e))return"Blackberry";if(fP(e))return"Webos";if(cP(e))return"Safari";if((e.includes("chrome/")||uP(e))&&!e.includes("edge/"))return"Chrome";if(dP(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function lP(t=JI()){return/firefox\//i.test(t)}function cP(t=JI()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uP(t=JI()){return/crios\//i.test(t)}function hP(t=JI()){return/iemobile/i.test(t)}function dP(t=JI()){return/android/i.test(t)}function pP(t=JI()){return/blackberry/i.test(t)}function fP(t=JI()){return/webos/i.test(t)}function mP(t=JI()){return/iphone|ipad|ipod/i.test(t)}function gP(t=JI()){return mP(t)||dP(t)||fP(t)||pP(t)||/windows phone/i.test(t)||hP(t)}function yP(t,e=[]){let n;switch(t){case"Browser":n=aP(JI());break;case"Worker":n=`${aP(JI())}-${t}`;break;default:n=t}return`${n}/JsCore/9.4.1/${e.length?e.join(","):"FirebaseCore-web"}`}class _P{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bP(this),this.idTokenSubscription=new bP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xO(e)),this._initializationPromise=this.queue(async()=>{var n,r;this._deleted||(this.persistenceManager=await oP.create(this,t),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(t)):void 0}async initializeCurrentUser(t){var e;let n=await this.assertedPersistence.getCurrentUser();if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(t);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(CO(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await JO(t)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?_x(t):null;return e&&CO(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){if(!this._deleted)return t&&CO(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(xO(t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new lx("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xO(t)||this._popupRedirectResolver;CO(e,this,"argument-error"),this.redirectPersistenceManager=await oP.create(this,[xO(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return CO(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return CO(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function vP(t){return _x(t)}class bP{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new mx(t,void 0);return n.subscribe.bind(n)}(t=>this.observer=t)}get next(){return CO(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function SP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class EP{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return kO("not implemented")}_getIdTokenResponse(t){return kO("not implemented")}_linkToIdToken(t,e){return kO("not implemented")}_getReauthenticationResolver(t){return kO("not implemented")}}async function CP(t,e){return UO(t,"POST","/v1/accounts:resetPassword",VO(t,e))}async function kP(t,e){return UO(t,"POST","/v1/accounts:update",e)}async function TP(t,e){return UO(t,"POST","/v1/accounts:sendOobCode",VO(t,e))}class IP extends EP{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new IP(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new IP(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return BO(t,"POST","/v1/accounts:signInWithPassword",VO(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return BO(t,"POST","/v1/accounts:signInWithEmailLink",VO(t,e))}(t,{email:this._email,oobCode:this._password});default:vO(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return kP(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return BO(t,"POST","/v1/accounts:signInWithEmailLink",VO(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:vO(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function xP(t,e){return BO(t,"POST","/v1/accounts:signInWithIdp",VO(t,e))}const AP={USER_NOT_FOUND:"user-not-found"};class RP extends EP{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new RP({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new RP({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return BO(t,"POST","/v1/accounts:signInWithPhoneNumber",VO(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await BO(t,"POST","/v1/accounts:signInWithPhoneNumber",VO(t,e));if(n.temporaryProof)throw $O(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return BO(t,"POST","/v1/accounts:signInWithPhoneNumber",VO(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),AP)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new RP({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class DP{constructor(t){var e,n,r,i,s,o;const a=px(fx(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);CO(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=px(fx(t)).link,n=e?px(fx(e)).deep_link_id:null,r=px(fx(t)).deep_link_id;return(r?px(fx(r)).link:null)||r||n||e||t}(t);try{return new DP(e)}catch(MW){return null}}}let OP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return IP._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=DP.parseLink(e);return CO(n,"argument-error"),IP._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class PP{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class NP extends PP{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}async function LP(t,e){return BO(t,"POST","/v1/accounts:signUp",VO(t,e))}class MP{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await rP._fromIdTokenResponse(t,n,r),s=FP(n);return new MP({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=FP(n);return new MP({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function FP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class VP extends ax{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,VP.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new VP(t,e,n,r)}}function UP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw VP._fromErrorAndOperation(t,n,e,r);throw n})}function jP(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}async function BP(t,e,n=!1){const r=await ZO(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return MP._forOperation(t,"link",r)}async function zP(t,e,n){await JO(e);const r=!1===t?"provider-already-linked":"no-such-provider";CO(jP(e.providerData).has(n)===t,e.auth,r)}async function qP(t,e,n=!1){const{auth:r}=t;try{const i=await ZO(t,UP(r,"reauthenticate",e,t),n);CO(i.idToken,r,"internal-error");const s=QO(i.idToken);CO(s,r,"internal-error");const{sub:o}=s;return CO(t.uid===o,r,"user-mismatch"),MP._forOperation(t,"reauthenticate",i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&vO(r,"user-mismatch"),i}}async function $P(t,e,n=!1){const r=await UP(t,"signIn",e),i=await MP._fromIdTokenResponse(t,"signIn",r);return n||await t._updateCurrentUser(i.user),i}async function HP(t,e){return $P(vP(t),e)}async function KP(t,e){const n=_x(t);return await zP(!1,n,e.providerId),BP(n,e)}async function WP(t,e){return qP(_x(t),e)}class GP{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?QP._fromServerResponse(t,e):vO(t,"internal-error")}}class QP extends GP{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new QP(e)}}function ZP(t,e,n){var r;CO((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),CO(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(CO(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(CO(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}async function YP(t,e){const n=_x(t),r=await CP(n,{oobCode:e}),i=r.requestType;switch(CO(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":CO(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":CO(r.mfaInfo,n,"internal-error");default:CO(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=GP._fromServerResponse(vP(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function XP(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=await ZO(t,kP(r,i));await t._updateTokensIfNecessary(s,!0)}class JP{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class tN extends JP{constructor(t,e,n,r){super(t,e,n),this.username=r}}class eN extends JP{constructor(t,e){super(t,"facebook.com",e)}}class nN extends tN{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class rN extends JP{constructor(t,e){super(t,"google.com",e)}}class iN extends tN{constructor(t,e,n){super(t,"twitter.com",e,n)}}function sN(t,e,n,r){return _x(t).onIdTokenChanged(e,n,r)}function oN(t,e,n,r){return _x(t).onAuthStateChanged(e,n,r)}class aN{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new aN("enroll",t)}static _fromMfaPendingCredential(t){return new aN("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return aN._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return aN._fromIdtoken(t.multiFactorSession.idToken)}return null}}class lN{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=vP(t),r=e.customData._serverResponse,i=(r.mfaInfo||[]).map(t=>GP._fromServerResponse(n,t));CO(r.mfaPendingCredential,n,"internal-error");const s=aN._fromMfaPendingCredential(r.mfaPendingCredential);return new lN(s,i,async t=>{const i=await t._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(e.operationType){case"signIn":const t=await MP._fromIdTokenResponse(n,e.operationType,o);return await n._updateCurrentUser(t.user),t;case"reauthenticate":return CO(e.user,n,"internal-error"),MP._forOperation(e.user,e.operationType,o);default:vO(n,"internal-error")}})}async resolveSignIn(t){return this.signInResolver(t)}}class cN{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>GP._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new cN(t)}async getSession(){return aN._fromIdtoken(await this.user.getIdToken())}async enroll(t,e){const n=t,r=await this.getSession(),i=await ZO(this.user,n._process(this.user.auth,r,e));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(t){const e="string"==typeof t?t:t.uid,n=await this.user.getIdToken(),r=await ZO(this.user,(i=this.user.auth,s={idToken:n,mfaEnrollmentId:e},UO(i,"POST","/v2/accounts/mfaEnrollment:withdraw",VO(i,s))));var i,s;this.enrolledFactors=this.enrolledFactors.filter(({uid:t})=>t!==e),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}}}const uN=new WeakMap;class hN{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(MW){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dN=(()=>{class t extends hN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=JI();return cP(t)||mP(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=gP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);rx()&&10===document.documentMode&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}return t.type="LOCAL",t})(),pN=(()=>{class t extends hN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let fN=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const r=new t(e);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async t=>t(e.origin,i)),a=await function(t){return Promise.all(t.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function mN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class gN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const l=mN("",20);r.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function yN(){return window}function _N(){return void 0!==yN().WorkerGlobalScope&&"function"==typeof yN().importScripts}class vN{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function bN(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function wN(){const t=indexedDB.open("firebaseLocalStorageDb",1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains("firebaseLocalStorage")?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase("firebaseLocalStorageDb");return new vN(t).toPromise()}(),e(await wN()))})})}async function SN(t,e,n){const r=bN(t,!0).put({fbase_key:e,value:n});return new vN(r).toPromise()}function EN(t,e){const n=bN(t,!0).delete(e);return new vN(n).toPromise()}const CN=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await wN()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _N()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fN._getInstance(_N()?self:null),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new gN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(MW){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wN();return await SN(t,"__sak","1"),await EN(t,"__sak"),!0}catch(MW){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SN(n,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(e=>async function(t,e){const n=bN(t,!1).get(e),r=await new vN(n).toPromise();return void 0===r?null:r.value}(e,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>EN(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(t=>{const e=bN(t,!1).getAll();return new vN(e).toPromise()});if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function kN(t){return`__${t}${Math.floor(1e6*Math.random())}`}kN("rcb"),new PO(3e4,6e4);class TN{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=RP._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}async function IN(t,e,n){var r;const i=await n.verify();try{let s;if(CO("string"==typeof i,t,"argument-error"),CO("recaptcha"===n.type,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return CO("enroll"===e.type,t,"internal-error"),(await function(t,e){return UO(t,"POST","/v2/accounts/mfaEnrollment:start",VO(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{CO("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return CO(n,t,"missing-multi-factor-info"),(await function(t,e){return UO(t,"POST","/v2/accounts/mfaSignIn:start",VO(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return UO(t,"POST","/v1/accounts:sendVerificationCode",VO(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}function xN(t,e){return e?xO(e):(CO(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class AN extends EP{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xP(t,this._buildIdpRequest())}_linkToIdToken(t,e){return xP(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return xP(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function RN(t){return $P(t.auth,new AN(t),t.bypassAuthState)}function DN(t){const{auth:e,user:n}=t;return CO(n,e,"internal-error"),qP(n,new AN(t),t.bypassAuthState)}async function ON(t){const{auth:e,user:n}=t;return CO(n,e,"internal-error"),BP(n,new AN(t),t.bypassAuthState)}class PN{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return DN;default:vO(this.auth,"internal-error")}}resolve(t){TO(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){TO(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NN=new PO(2e3,1e4);let LN=(()=>{class t extends PN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return CO(t,this.auth,"internal-error"),t}async onExecution(){TO(1===this.filter.length,"Popup operations only handle one event");const t=mN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(bO(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(bO(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(bO(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,NN.get())};t()}}return t.currentPopupAction=null,t})();const MN=new Map;class FN extends PN{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=MN.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=jN(e),r=UN(t);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}MN.set(this.auth._key(),t)}return this.bypassAuthState||MN.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function VN(t,e){return UN(t)._set(jN(e),"true")}function UN(t){return xO(t._redirectPersistence)}function jN(t){return sP("pendingRedirect",t.config.apiKey,t.name)}async function BN(t,e,n=!1){const r=vP(t),i=xN(r,e),s=new FN(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function zN(t){const e=mN(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}class qN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HN(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!HN(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(bO(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($N(t))}saveEventToCache(t){this.cachedEventUids.add($N(t)),this.lastProcessedEventTime=Date.now()}}function $N(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function HN({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WN=/^https?/;function GN(t){const e=RO(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!WN.test(n))return!1;if(KN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const QN=new PO(3e4,6e4);function ZN(){const t=yN().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let YN=null;function XN(t){return YN=YN||function(t){return new Promise((e,n)=>{var r,i,s,o;function a(){ZN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZN(),n(bO(t,"network-request-failed"))},timeout:QN.get()})}if(null===(i=null===(r=yN().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=yN().gapi)||void 0===s?void 0:s.load)){const e=kN("iframefcb");return yN()[e]=()=>{gapi.load?a():n(bO(t,"network-request-failed"))},o=`https://apis.google.com/js/api.js?onload=${e}`,new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",o),n.onload=t,n.onerror=t=>{const n=bO("internal-error");n.customData=t,e(n)},n.type="text/javascript",n.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(n)})}a()}}).catch(t=>{throw YN=null,t})}(t),YN}const JN=new PO(5e3,15e3),tL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nL(t){const e=t.config;CO(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NO(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:"9.4.1"},i=eL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${dx(r).slice(1)}`}const rL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iL{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function sL(t,e,n,r,i,s){CO(t.config.authDomain,t,"auth-domain-config-required"),CO(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:"9.4.1",eventId:i};if(e instanceof PP){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof NP){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:t}){return t.emulator?NO(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${dx(a).slice(1)}`}const oL=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pN,this._completeRedirectFn=BN}async _openPopup(t,e,n,r){var i;return TO(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rL),{width:r.toString(),height:i.toString(),top:s,left:o}),c=JI().toLowerCase();n&&(a=uP(c)?"_blank":n),lP(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=JI()){var e;return mP(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new iL(null);const h=window.open(e||"",a,u);CO(h,t,"popup-blocked");try{h.focus()}catch(d){}return new iL(h)}(t,sL(t,e,n,RO(),r),mN())}async _openRedirect(t,e,n,r){var i;return await this._originValidation(t),i=sL(t,e,n,RO(),r),yN().location.href=i,new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(TO(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}async initAndGetManager(t){const e=await async function(t){const e=await XN(t),n=yN().gapi;return CO(n,t,"internal-error"),e.open({where:document.body,url:nL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tL,dontclear:!0},e=>new Promise(async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=bO(t,"network-request-failed"),s=yN().setTimeout(()=>{r(i)},JN.get());function o(){yN().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{r(i)})}))}(t),n=new qN(t);return e.register("authEvent",e=>(CO(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),vO(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return UO(t,"GET","/v1/projects",e)}(t);for(const n of e)try{if(GN(n))return}catch(MW){}vO(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return gP()||cP()||mP()}};class aL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){CO(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lL(t){return new b(function(e){return{unsubscribe:sN(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}Fx(new vx("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{CO(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),CO(!(null==i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:"Browser",apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yP("Browser")},s=new _P(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xO);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Fx(new vx("auth-internal",t=>{return e=vP(t.getProvider("auth").getImmediate()),new aL(e);var e},"PRIVATE").setInstantiationMode("EXPLICIT")),qx("@firebase/auth","0.19.3",void 0),qx("@firebase/auth","0.19.3","esm2017");class cL{constructor(t){return t}}class uL{constructor(){return oD("auth")}}yD(0,300).pipe(OD(()=>RD(oD("auth"))),PD());const hL=new Hn("angularfire2.auth-instances");function dL(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new cL(r)}}const pL={provide:uL,deps:[[new pr,hL]]},fL={provide:cL,useFactory:function(t,e){const n=sD("auth",t,e);return n&&new cL(n)},deps:[[new pr,hL],ND]};let mL=(()=>{class t{constructor(){qx("angularfire",iD.full,"auth")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[fL,pL]}),t})();function gL(t,...e){return{ngModule:mL,providers:[{provide:hL,useFactory:dL(t),multi:!0,deps:[_c,no,uD,LD,[new pr,fO],...e]}]}}gD(function(t){return new b(function(e){return{unsubscribe:oN(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})},!0),gD(lL,!0),gD(function(t){return lL(t).pipe(P_(function(t){return t?V(KO(t)):rp(null)}))},!0),gD(async function(t,e){await async function(t,e){return UO(t,"POST","/v1/accounts:update",VO(t,e))}(_x(t),{oobCode:e})},!0),gD(YP,!0),gD(async function(t,e,n){await CP(_x(t),{oobCode:e,newPassword:n})},!0),gD(function(t,e,n){const r=vP(t);CO(r._canInitEmulator,r,"emulator-config-failed"),CO(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=wP(e),{host:o,port:a}=function(t){const e=wP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:SP(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:SP(e)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()},!0),gD(async function(t,e,n){const r=vP(t),i=await LP(r,{returnSecureToken:!0,email:e,password:n}),s=await MP._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s},!0),gD(async function(t){return _x(t).delete()},!0),gD(async function(t,e){const n={identifier:e,continueUri:DO()?RO():"http://localhost"},{signinMethods:r}=await async function(t,e){return UO(t,"POST","/v1/accounts:createAuthUri",VO(t,e))}(_x(t),n);return r||[]},!0),gD(function(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null==t?void 0:t.idToken)){const r=null===(n=null===(e=QO(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new JP(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new eN(s,i);case"github.com":return new nN(s,i);case"google.com":return new rN(s,i);case"twitter.com":return new iN(s,i,t.screenName||null);case"custom":case"anonymous":return new JP(s,null);default:return new JP(s,r,i)}}(n)},!0);const yL=gD(function(t=Bx()){const e=Vx(t,"auth");return e.isInitialized()?e.getImmediate():AO(t,{popupRedirectResolver:oL,persistence:[CN,dN,pN]})},!0);function _L(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}gD(KO,!0),gD(WO,!0),gD(function(t,e){var n;const r=_x(t),i=e;return CO(e.customData.operationType,r,"argument-error"),CO(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),lN._fromError(r,i)},!0),gD(async function(t,e){return await vP(t)._initializationPromise,BN(t,e,!1)},!0),gD(AO,!0),gD(function(t,e){const n=DP.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)},!0),gD(KP,!0),gD(async function(t,e,n){const r=_x(t);await zP(!1,r,"phone");const i=await IN(r.auth,e,_x(n));return new TN(i,t=>KP(r,t))},!0),gD(async function(t,e,n){const r=_x(t);SO(r.auth,e,PP);const i=xN(r.auth,n);return new LN(r.auth,"linkViaPopup",e,i,r).executeNotNull()},!0),gD(function(t,e,n){return async function(t,e,n){const r=_x(t);SO(r.auth,e,PP);const i=xN(r.auth,n);await zP(!1,r,e.providerId),await VN(i,r.auth);const s=await zN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}(t,e,n)},!0),gD(function(t){const e=_x(t);return uN.has(e)||uN.set(e,cN._fromUser(e)),uN.get(e)},!0),gD(oN,!0),gD(sN,!0),gD(function(t){return DP.parseLink(t)},!0),gD(WP,!0),gD(async function(t,e,n){const r=_x(t),i=await IN(r.auth,e,_x(n));return new TN(i,t=>WP(r,t))},!0),gD(async function(t,e,n){const r=_x(t);SO(r.auth,e,PP);const i=xN(r.auth,n);return new LN(r.auth,"reauthViaPopup",e,i,r).executeNotNull()},!0),gD(function(t,e,n){return async function(t,e,n){const r=_x(t);SO(r.auth,e,PP);const i=xN(r.auth,n);await VN(i,r.auth);const s=await zN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}(t,e,n)},!0),gD(tP,!0),gD(async function(t,e){const n=_x(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&ZP(n.auth,r,e);const{email:i}=await async function(t,e){return TP(t,e)}(n.auth,r);i!==t.email&&await t.reload()},!0),gD(async function(t,e,n){const r=_x(t),i={requestType:"PASSWORD_RESET",email:e};n&&ZP(r,i,n),await async function(t,e){return TP(t,e)}(r,i)},!0),gD(async function(t,e,n){const r=_x(t),i={requestType:"EMAIL_SIGNIN",email:e};CO(n.handleCodeInApp,r,"argument-error"),n&&ZP(r,i,n),await async function(t,e){return TP(t,e)}(r,i)},!0),gD(function(t,e){return _x(t).setPersistence(e)},!0),gD(async function(t){var e;const n=vP(t);if(await n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new MP({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await LP(n,{returnSecureToken:!0}),i=await MP._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i},!0),gD(HP,!0),gD(async function(t,e){const n=vP(t),r=await async function(t,e){return BO(t,"POST","/v1/accounts:signInWithCustomToken",VO(t,e))}(n,{token:e,returnSecureToken:!0}),i=await MP._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i},!0),gD(function(t,e,n){return HP(_x(t),OP.credential(e,n))},!0),gD(async function(t,e,n){const r=_x(t),i=OP.credentialWithLink(e,n||RO());return CO(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),HP(r,i)},!0),gD(async function(t,e,n){const r=vP(t),i=await IN(r,e,_x(n));return new TN(i,t=>HP(r,t))},!0),gD(async function(t,e,n){const r=vP(t);SO(t,e,PP);const i=xN(r,n);return new LN(r,"signInViaPopup",e,i).executeNotNull()},!0),gD(function(t,e,n){return async function(t,e,n){const r=vP(t);SO(t,e,PP);const i=xN(r,n);return await VN(i,r),i._openRedirect(r,e,"signInViaRedirect")}(t,e,n)},!0),gD(function(t){return _x(t).signOut()},!0),gD(async function(t,e){const n=_x(t);await zP(!0,n,e);const{providerUserInfo:r}=await async function(t,e){return UO(t,"POST","/v1/accounts:update",e)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=jP(r||[]);return n.providerData=n.providerData.filter(t=>i.has(t.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n},!0),gD(function(t,e){return _x(t).updateCurrentUser(e)},!0),gD(function(t,e){return XP(_x(t),e,null)},!0),gD(function(t,e){return XP(_x(t),null,e)},!0),gD(async function(t,e){await BP(_x(t),e)},!0),gD(async function(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=_x(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ZO(r,async function(t,e){return UO(t,"POST","/v1/accounts:update",e)}(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const o=r.providerData.find(({providerId:t})=>"password"===t);o&&(o.displayName=r.displayName,o.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)},!0),gD(function(t){_x(t).useDeviceLanguage()},!0),gD(async function(t,e,n){const r=_x(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&ZP(r.auth,i,n);const{email:s}=await async function(t,e){return TP(t,e)}(r.auth,i);s!==t.email&&await t.reload()},!0),gD(async function(t,e){const{data:n}=await YP(_x(t),e);return n.email},!0);var vL,bL="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},wL={},SL=SL||{},EL=bL||self;function CL(){}function kL(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function TL(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var IL="closure_uid_"+(1e9*Math.random()>>>0),xL=0;function AL(t,e,n){return t.call.apply(t.bind,arguments)}function RL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function DL(t,e,n){return(DL=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AL:RL).apply(null,arguments)}function OL(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function PL(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function NL(){this.s=this.s,this.o=this.o}var LL={};NL.prototype.s=!1,NL.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,IL)&&t[IL]||(t[IL]=++xL)}(this);delete LL[t]}},NL.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ML=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},FL=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function VL(t){return Array.prototype.concat.apply([],arguments)}function UL(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function jL(t){return/^[\s\xa0]*$/.test(t)}var BL,zL=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function qL(t,e){return-1!=t.indexOf(e)}function $L(t,e){return t<e?-1:t>e?1:0}t:{var HL=EL.navigator;if(HL){var KL=HL.userAgent;if(KL){BL=KL;break t}}BL=""}function WL(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GL(t){const e={};for(const n in t)e[n]=t[n];return e}var QL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<QL.length;e++)n=QL[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function YL(t){return YL[" "](t),t}YL[" "]=CL;var XL,JL,tM=qL(BL,"Opera"),eM=qL(BL,"Trident")||qL(BL,"MSIE"),nM=qL(BL,"Edge"),rM=nM||eM,iM=qL(BL,"Gecko")&&!(qL(BL.toLowerCase(),"webkit")&&!qL(BL,"Edge"))&&!(qL(BL,"Trident")||qL(BL,"MSIE"))&&!qL(BL,"Edge"),sM=qL(BL.toLowerCase(),"webkit")&&!qL(BL,"Edge");function oM(){var t=EL.document;return t?t.documentMode:void 0}t:{var aM="",lM=(JL=BL,iM?/rv:([^\);]+)(\)|;)/.exec(JL):nM?/Edge\/([\d\.]+)/.exec(JL):eM?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(JL):sM?/WebKit\/(\S+)/.exec(JL):tM?/(?:Version)[ \/]?(\S+)/.exec(JL):void 0);if(lM&&(aM=lM?lM[1]:""),eM){var cM=oM();if(null!=cM&&cM>parseFloat(aM)){XL=String(cM);break t}}XL=aM}var uM={};var hM=EL.document&&eM&&(oM()||parseInt(XL,10))||void 0,dM=function(){if(!EL.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{EL.addEventListener("test",CL,e),EL.removeEventListener("test",CL,e)}catch(n){}return t}();function pM(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function fM(t,e){if(pM.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iM){t:{try{YL(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:mM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fM.Z.h.call(this)}}pM.prototype.h=function(){this.defaultPrevented=!0},PL(fM,pM);var mM={2:"touch",3:"pen",4:"mouse"};fM.prototype.h=function(){fM.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gM="closure_listenable_"+(1e6*Math.random()|0),yM=0;function _M(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++yM,this.ca=this.fa=!1}function vM(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function bM(t){this.src=t,this.g={},this.h=0}function wM(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=ML(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(vM(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function SM(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}bM.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=SM(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new _M(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var EM="closure_lm_"+(1e6*Math.random()|0),CM={};function kM(t,e,n,r,i){if(r&&r.once)return IM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kM(t,e[s],n,r,i);return null}return n=NM(n),t&&t[gM]?t.N(e,n,TL(r)?!!r.capture:!!r,i):TM(t,e,n,!1,r,i)}function TM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=TL(i)?!!i.capture:!!i,a=OM(t);if(a||(t[EM]=a=new bM(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=DM;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dM||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(RM(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function IM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)IM(t,e[s],n,r,i);return null}return n=NM(n),t&&t[gM]?t.O(e,n,TL(r)?!!r.capture:!!r,i):TM(t,e,n,!0,r,i)}function xM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xM(t,e[s],n,r,i);else r=TL(r)?!!r.capture:!!r,n=NM(n),t&&t[gM]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=SM(s=t.g[e],n,r,i))&&(vM(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=OM(t))&&(e=t.g[e.toString()],t=-1,e&&(t=SM(e,n,r,i)),(n=-1<t?e[t]:null)&&AM(n))}function AM(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[gM])wM(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=OM(e))?(wM(n,t),0==n.h&&(n.src=null,e[EM]=null)):vM(t)}}}function RM(t){return t in CM?CM[t]:CM[t]="on"+t}function DM(t,e){if(t.ca)t=!0;else{e=new fM(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&AM(t),t=n.call(r,e)}return t}function OM(t){return(t=t[EM])instanceof bM?t:null}var PM="__closure_events_fn_"+(1e9*Math.random()>>>0);function NM(t){return"function"==typeof t?t:(t[PM]||(t[PM]=function(e){return t.handleEvent(e)}),t[PM])}function LM(){NL.call(this),this.i=new bM(this),this.P=this,this.I=null}function MM(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new pM(e,t);else if(e instanceof pM)e.target=e.target||t;else{var i=e;ZL(e=new pM(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=FM(o,r,!0,e)&&i}if(i=FM(o=e.g=t,r,!0,e)&&i,i=FM(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=FM(o=e.g=n[s],r,!1,e)&&i}function FM(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&wM(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}PL(LM,NL),LM.prototype[gM]=!0,LM.prototype.removeEventListener=function(t,e,n,r){xM(this,t,e,n,r)},LM.prototype.M=function(){if(LM.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)vM(n[r]);delete e.g[t],e.h--}}this.I=null},LM.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},LM.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var VM=EL.JSON.stringify;function UM(){var t=KM;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var jM,BM=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new zM,t=>t.reset());class zM{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qM(t){EL.setTimeout(()=>{throw t},0)}function $M(t,e){jM||function(){var t=EL.Promise.resolve(void 0);jM=function(){t.then(WM)}}(),HM||(jM(),HM=!0),KM.add(t,e)}var HM=!1,KM=new class{constructor(){this.h=this.g=null}add(t,e){const n=BM.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function WM(){for(var t;t=UM();){try{t.h.call(t.g)}catch(n){qM(n)}var e=BM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}HM=!1}function GM(t,e){LM.call(this),this.h=t||1,this.g=e||EL,this.j=DL(this.kb,this),this.l=Date.now()}function QM(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ZM(t,e,n){if("function"==typeof t)n&&(t=DL(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=DL(t.handleEvent,t)}return 2147483647<Number(e)?-1:EL.setTimeout(t,e||0)}function YM(t){t.g=ZM(()=>{t.g=null,t.i&&(t.i=!1,YM(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}PL(GM,LM),(vL=GM.prototype).da=!1,vL.S=null,vL.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),MM(this,"tick"),this.da&&(QM(this),this.start()))}},vL.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vL.M=function(){GM.Z.M.call(this),QM(this),delete this.g};class XM extends NL{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:YM(this)}M(){super.M(),this.g&&(EL.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function JM(t){NL.call(this),this.h=t,this.g={}}PL(JM,NL);var tF=[];function eF(t,e,n,r){Array.isArray(n)||(n&&(tF[0]=n.toString()),n=tF);for(var i=0;i<n.length;i++){var s=kM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function nF(t){WL(t.g,function(t,e){this.g.hasOwnProperty(e)&&AM(t)},t),t.g={}}function rF(){this.g=!0}function iF(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return VM(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}JM.prototype.M=function(){JM.Z.M.call(this),nF(this)},JM.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rF.prototype.Aa=function(){this.g=!1},rF.prototype.info=function(){};var sF={},oF=null;function aF(){return oF=oF||new LM}function lF(t){pM.call(this,sF.Ma,t)}function cF(t){const e=aF();MM(e,new lF(e,t))}function uF(t,e){pM.call(this,sF.STAT_EVENT,t),this.stat=e}function hF(t){const e=aF();MM(e,new uF(e,t))}function dF(t,e){pM.call(this,sF.Na,t),this.size=e}function pF(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return EL.setTimeout(function(){t()},e)}sF.Ma="serverreachability",PL(lF,pM),sF.STAT_EVENT="statevent",PL(uF,pM),sF.Na="timingevent",PL(dF,pM);var fF={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gF(){}function yF(){}gF.prototype.h=null;var _F,vF={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bF(){pM.call(this,"d")}function wF(){pM.call(this,"c")}function SF(){}function EF(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new JM(this),this.P=kF,this.W=new GM(t=rM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new CF}function CF(){this.i=null,this.g="",this.h=!1}PL(bF,pM),PL(wF,pM),PL(SF,gF),SF.prototype.g=function(){return new XMLHttpRequest},SF.prototype.i=function(){return{}},_F=new SF;var kF=45e3,TF={},IF={};function xF(t,e,n){t.K=1,t.v=YF(HF(e)),t.s=n,t.U=!0,AF(t,null)}function AF(t,e){t.F=Date.now(),PF(t),t.A=HF(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),uV(n.h,"t",r),t.C=0,n=t.l.H,t.h=new CF,t.g=uU(t.l,n?e:null,!t.s),0<t.O&&(t.L=new XM(DL(t.Ia,t,t.g),t.O)),eF(t.V,t.g,"readystatechange",t.gb),e=t.H?GL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),cF(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function RF(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function DF(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=OF(t,n),r==IF){4==e&&(t.o=4,hF(14),i=!1),iF(t.j,t.m,null,"[Incomplete Response]");break}if(r==TF){t.o=4,hF(15),iF(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}iF(t.j,t.m,r,null),VF(t,r)}RF(t)&&r!=IF&&r!=TF&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,hF(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nU(e),e.L=!0,hF(11))):(iF(t.j,t.m,n,"[Invalid Chunked Response]"),FF(t),MF(t))}function OF(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?IF:(n=Number(e.substring(n,r)),isNaN(n)?TF:(r+=1)+n>e.length?IF:(e=e.substr(r,n),t.C=r+n,e))}function PF(t){t.Y=Date.now()+t.P,NF(t,t.P)}function NF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=pF(DL(t.eb,t),e)}function LF(t){t.B&&(EL.clearTimeout(t.B),t.B=null)}function MF(t){0==t.l.G||t.I||sU(t.l,t)}function FF(t){LF(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,QM(t.W),nF(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function VF(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||gV(n.i,t)))if(n.I=t.N,!t.J&&gV(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;iU(n),WV(n)}eU(n),hF(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pF(DL(n.ab,n),6e3));if(1>=mV(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else aU(n,11)}else if((t.J||n.g==t)&&iU(n),!jL(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;!s.g&&(qL(t,"spdy")||qL(t,"quic")||qL(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(yV(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,ZF(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=cU(r,r.H?r.la:null,r.W),o.J){_V(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(LF(a),PF(a)),r.g=o}else tU(r);0<n.l.length&&ZV(n)}else"stop"!=c[0]&&"close"!=c[0]||aU(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?aU(n,7):KV(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}cF(4)}catch(c){}}function UF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kL(t)||"string"==typeof t)FL(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(kL(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(kL(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function jF(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof jF)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function BF(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];zF(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)zF(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function zF(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(vL=EF.prototype).setTimeout=function(t){this.P=t},vL.gb=function(t){t=t.target;const e=this.L;e&&3==BV(t)?e.l():this.Ia(t)},vL.Ia=function(t){try{if(t==this.g)t:{const u=BV(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||rM||this.g&&(this.h.h||this.g.ga()||zV(this.g)))){this.I||4!=u||7==e||cF(8==e||0>=h?3:2),LF(this);var n=this.g.ba();this.N=n;e:if(RF(this)){var r=zV(this.g);t="";var i=r.length,s=4==BV(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){FF(this),MF(this);var o="";break e}this.h.i=new EL.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jL(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,hF(12),FF(this),MF(this);break t}iF(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,VF(this,n)}this.U?(DF(this,u,o),rM&&this.i&&3==u&&(eF(this.V,this.W,"tick",this.fb),this.W.start())):(iF(this.j,this.m,o,null),VF(this,o)),4==u&&FF(this),this.i&&!this.I&&(4==u?sU(this.l,this):(this.i=!1,PF(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,hF(12)):(this.o=0,hF(13)),FF(this),MF(this)}}}catch(u){}},vL.fb=function(){if(this.g){var t=BV(this.g),e=this.g.ga();this.C<e.length&&(LF(this),DF(this,t,e),this.i&&4!=t&&PF(this))}},vL.cancel=function(){this.I=!0,FF(this)},vL.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cF(3),hF(17)),FF(this),this.o=2,MF(this)):NF(this,this.Y-t)},(vL=jF.prototype).R=function(){BF(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},vL.T=function(){return BF(this),this.g.concat()},vL.get=function(t,e){return zF(this.h,t)?this.h[t]:e},vL.set=function(t,e){zF(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},vL.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var qF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $F(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof $F){this.g=void 0!==e?e:t.g,KF(this,t.j),this.s=t.s,WF(this,t.i),GF(this,t.m),this.l=t.l,e=t.h;var n=new oV;n.i=e.i,e.g&&(n.g=new jF(e.g),n.h=e.h),QF(this,n),this.o=t.o}else t&&(n=String(t).match(qF))?(this.g=!!e,KF(this,n[1]||"",!0),this.s=XF(n[2]||""),WF(this,n[3]||"",!0),GF(this,n[4]),this.l=XF(n[5]||"",!0),QF(this,n[6]||"",!0),this.o=XF(n[7]||"")):(this.g=!!e,this.h=new oV(null,this.g))}function HF(t){return new $F(t)}function KF(t,e,n){t.j=n?XF(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function WF(t,e,n){t.i=n?XF(e,!0):e}function GF(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QF(t,e,n){e instanceof oV?(t.h=e,function(t,e){e&&!t.j&&(aV(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(lV(this,e),uV(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=JF(e,iV)),t.h=new oV(e,t.g))}function ZF(t,e,n){t.h.set(e,n)}function YF(t){return ZF(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function XF(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function JF(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,tV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tV(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$F.prototype.toString=function(){var t=[],e=this.j;e&&t.push(JF(e,eV,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(JF(e,eV,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(JF(n,"/"==n.charAt(0)?rV:nV,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",JF(n,sV)),t.join("")};var eV=/[#\/\?@]/g,nV=/[#\?:]/g,rV=/[#\?]/g,iV=/[#\?@]/g,sV=/#/g;function oV(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function aV(t){t.g||(t.g=new jF,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function lV(t,e){aV(t),e=hV(t,e),zF(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,zF((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&BF(t)))}function cV(t,e){return aV(t),e=hV(t,e),zF(t.g.h,e)}function uV(t,e,n){lV(t,e),0<n.length&&(t.i=null,t.g.set(hV(t,e),UL(n)),t.h+=n.length)}function hV(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dV(t){this.l=t||pV,t=EL.PerformanceNavigationTiming?0<(t=EL.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(EL.g&&EL.g.Ea&&EL.g.Ea()&&EL.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(vL=oV.prototype).add=function(t,e){aV(this),this.i=null,t=hV(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},vL.forEach=function(t,e){aV(this),this.g.forEach(function(n,r){FL(n,function(n){t.call(e,n,r,this)},this)},this)},vL.T=function(){aV(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},vL.R=function(t){aV(this);var e=[];if("string"==typeof t)cV(this,t)&&(e=VL(e,this.g.get(hV(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=VL(e,t[n])}return e},vL.set=function(t,e){return aV(this),this.i=null,cV(this,t=hV(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},vL.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},vL.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var pV=10;function fV(t){return!!t.h||!!t.g&&t.g.size>=t.j}function mV(t){return t.h?1:t.g?t.g.size:0}function gV(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yV(t,e){t.g?t.g.add(e):t.h=e}function _V(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vV(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return UL(t.i)}function bV(){}function wV(){this.g=new bV}function SV(t,e,n){const r=n||"";try{UF(t,function(t,n){let i=t;TL(t)&&(i=VM(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function EV(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function CV(t){this.l=t.$b||null,this.j=t.ib||!1}function kV(t,e){LM.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=TV,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dV.prototype.cancel=function(){if(this.i=vV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},bV.prototype.stringify=function(t){return EL.JSON.stringify(t,void 0)},bV.prototype.parse=function(t){return EL.JSON.parse(t,void 0)},PL(CV,gF),CV.prototype.g=function(){return new kV(this.l,this.j)},CV.prototype.i=function(t){return function(){return t}}({}),PL(kV,LM);var TV=0;function IV(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function xV(t){t.readyState=4,t.l=null,t.j=null,t.A=null,AV(t)}function AV(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(vL=kV.prototype).open=function(t,e){if(this.readyState!=TV)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,AV(this)},vL.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||EL).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},vL.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xV(this)),this.readyState=TV},vL.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,AV(this)),this.g&&(this.readyState=3,AV(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==EL.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IV(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},vL.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xV(this):AV(this),3==this.readyState&&IV(this)}},vL.Ua=function(t){this.g&&(this.response=this.responseText=t,xV(this))},vL.Ta=function(t){this.g&&(this.response=t,xV(this))},vL.ha=function(){this.g&&xV(this)},vL.setRequestHeader=function(t,e){this.v.append(t,e)},vL.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},vL.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(kV.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var RV=EL.JSON.parse;function DV(t){LM.call(this),this.headers=new jF,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OV,this.K=this.L=!1}PL(DV,LM);var OV="",PV=/^https?$/i,NV=["POST","PUT"];function LV(t){return"content-type"==t.toLowerCase()}function MV(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,FV(t),UV(t)}function FV(t){t.D||(t.D=!0,MM(t,"complete"),MM(t,"error"))}function VV(t){if(t.h&&void 0!==SL&&(!t.C[1]||4!=BV(t)||2!=t.ba()))if(t.v&&4==BV(t))ZM(t.Fa,0,t);else if(MM(t,"readystatechange"),4==BV(t)){t.h=!1;try{const a=t.ba();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(qF)[1]||null;if(!i&&EL.self&&EL.self.location){var s=EL.self.location.protocol;i=s.substr(0,s.length-1)}r=!PV.test(i?i.toLowerCase():"")}n=r}if(n)MM(t,"complete"),MM(t,"success");else{t.m=6;try{var o=2<BV(t)?t.g.statusText:""}catch(ia){o=""}t.j=o+" ["+t.ba()+"]",FV(t)}}finally{UV(t)}}}function UV(t,e){if(t.g){jV(t);const r=t.g,i=t.C[0]?CL:null;t.g=null,t.C=null,e||MM(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function jV(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(EL.clearTimeout(t.A),t.A=null)}function BV(t){return t.g?t.g.readyState:0}function zV(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case OV:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qV(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return WL(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ZF(t,e,n))}function $V(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HV(t){this.za=0,this.l=[],this.h=new rF,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$V("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$V("baseRetryDelayMs",5e3,t),this.$a=$V("retryDelaySeedMs",1e4,t),this.Ya=$V("forwardChannelMaxRetries",2,t),this.ra=$V("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new dV(t&&t.concurrentRequestLimit),this.Ca=new wV,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function KV(t){if(GV(t),3==t.G){var e=t.V++,n=HF(t.F);ZF(n,"SID",t.J),ZF(n,"RID",e),ZF(n,"TYPE","terminate"),XV(t,n),(e=new EF(t,t.h,e,void 0)).K=2,e.v=YF(HF(n)),n=!1,EL.navigator&&EL.navigator.sendBeacon&&(n=EL.navigator.sendBeacon(e.v.toString(),"")),!n&&EL.Image&&((new Image).src=e.v,n=!0),n||(e.g=uU(e.l,null),e.g.ea(e.v)),e.F=Date.now(),PF(e)}lU(t)}function WV(t){t.g&&(nU(t),t.g.cancel(),t.g=null)}function GV(t){WV(t),t.u&&(EL.clearTimeout(t.u),t.u=null),iU(t),t.i.cancel(),t.m&&("number"==typeof t.m&&EL.clearTimeout(t.m),t.m=null)}function QV(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&ZV(t)}function ZV(t){fV(t.i)||t.m||(t.m=!0,$M(t.Ha,t),t.C=0)}function YV(t,e){var n;n=e?e.m:t.V++;const r=HF(t.F);ZF(r,"SID",t.J),ZF(r,"RID",n),ZF(r,"AID",t.U),XV(t,r),t.o&&t.s&&qV(r,t.o,t.s),n=new EF(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=JV(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),yV(t.i,n),xF(n,r,e)}function XV(t,e){t.j&&UF({},function(t,n){ZF(e,n,t)})}function JV(t,e,n){n=Math.min(t.l.length,n);var r=t.j?DL(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const l=i[a].g;if(n-=e,0>n)e=Math.max(0,i[a].h-100),o=!1;else try{SV(l,t,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function tU(t){t.g||t.u||(t.Y=1,$M(t.Ga,t),t.A=0)}function eU(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=pF(DL(t.Ga,t),oU(t,t.A)),t.A++,0))}function nU(t){null!=t.B&&(EL.clearTimeout(t.B),t.B=null)}function rU(t){t.g=new EF(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=HF(t.oa);ZF(e,"RID","rpc"),ZF(e,"SID",t.J),ZF(e,"CI",t.N?"0":"1"),ZF(e,"AID",t.U),XV(t,e),ZF(e,"TYPE","xmlhttp"),t.o&&t.s&&qV(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=YF(HF(e)),n.s=null,n.U=!0,AF(n,t)}function iU(t){null!=t.v&&(EL.clearTimeout(t.v),t.v=null)}function sU(t,e){var n=null;if(t.g==e){iU(t),nU(t),t.g=null;var r=2}else{if(!gV(t.i,e))return;n=e.D,_V(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;MM(r=aF(),new dF(r,n,e,i)),ZV(t)}else tU(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(mV(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=pF(DL(t.Ha,t,e),oU(t,t.C)),t.C++,0)))}(t,e)||2==r&&eU(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:aU(t,5);break;case 4:aU(t,10);break;case 3:aU(t,6);break;default:aU(t,2)}}function oU(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function aU(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=DL(t.jb,t);n||(n=new $F("//www.google.com/images/cleardot.gif"),EL.location&&"http"==EL.location.protocol||KF(n,"https"),YF(n)),function(t,e){const n=new rF;if(EL.Image){const r=new Image;r.onload=OL(EV,n,r,"TestLoadImage: loaded",!0,e),r.onerror=OL(EV,n,r,"TestLoadImage: error",!1,e),r.onabort=OL(EV,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=OL(EV,n,r,"TestLoadImage: timeout",!1,e),EL.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else hF(2);t.G=0,t.j&&t.j.va(e),lU(t),GV(t)}function lU(t){t.G=0,t.I=-1,t.j&&(0==vV(t.i).length&&0==t.l.length||(t.i.i.length=0,UL(t.l),t.l.length=0),t.j.ua())}function cU(t,e,n){let r=function(t){return t instanceof $F?HF(t):new $F(t,void 0)}(n);if(""!=r.i)e&&WF(r,e+"."+r.i),GF(r,r.m);else{const t=EL.location;r=function(t,e,n,r){var i=new $F(null,void 0);return t&&KF(i,t),e&&WF(i,e),n&&GF(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&WL(t.aa,function(t,e){ZF(r,e,t)}),n=t.sa,(e=t.D)&&n&&ZF(r,e,n),ZF(r,"VER",t.ma),XV(t,r),r}function uU(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new DV(n&&t.Ba&&!t.qa?new CV({ib:!0}):t.qa)).L=t.H,e}function hU(){}function dU(){if(eM&&!(10<=Number(hM)))throw Error("Environmental error: no available transport.")}function pU(t,e){LM.call(this),this.g=new HV(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!jL(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jL(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new gU(this)}function fU(t){bF.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mU(){wF.call(this),this.status=1}function gU(t){this.g=t}(vL=DV.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_F.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:_F),this.g.onreadystatechange=DL(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void MV(this,s)}t=n||"";const i=new jF(this.headers);r&&UF(r,function(t,e){i.set(e,t)}),r=function(t){t:{var e=LV;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=EL.FormData&&t instanceof EL.FormData,!(0<=ML(NV,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jV(this),0<this.B&&((this.K=function(t){return eM&&function(){return t=uM,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=zL(String(XL)).split("."),n=zL("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=$L(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||$L(0==i[2].length,0==s[2].length)||$L(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=DL(this.pa,this)):this.A=ZM(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){MV(this,s)}},vL.pa=function(){void 0!==SL&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,MM(this,"timeout"),this.abort(8))},vL.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,MM(this,"complete"),MM(this,"abort"),UV(this))},vL.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),UV(this,!0)),DV.Z.M.call(this)},vL.Fa=function(){this.s||(this.F||this.v||this.l?VV(this):this.cb())},vL.cb=function(){VV(this)},vL.ba=function(){try{return 2<BV(this)?this.g.status:-1}catch(JL){return-1}},vL.ga=function(){try{return this.g?this.g.responseText:""}catch(JL){return""}},vL.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),RV(e)}},vL.Da=function(){return this.m},vL.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(vL=HV.prototype).ma=8,vL.G=1,vL.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},vL.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new EF(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=GL(s),ZL(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=JV(this,i,e),ZF(n=HF(this.F),"RID",t),ZF(n,"CVER",22),this.D&&ZF(n,"X-HTTP-Session-Id",this.D),XV(this,n),this.o&&s&&qV(n,this.o,s),yV(this.i,i),this.Ra&&ZF(n,"TYPE","init"),this.ja?(ZF(n,"$req",e),ZF(n,"SID","null"),i.$=!0,xF(i,n,null)):xF(i,n,e),this.G=2}}else 3==this.G&&(t?YV(this,t):0==this.l.length||fV(this.i)||YV(this))},vL.Ga=function(){if(this.u=null,rU(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=pF(DL(this.bb,this),t)}},vL.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hF(10),WV(this),rU(this))},vL.ab=function(){null!=this.v&&(this.v=null,WV(this),eU(this),hF(19))},vL.jb=function(t){t?(this.h.info("Successfully pinged google.com"),hF(2)):(this.h.info("Failed to ping google.com"),hF(1))},(vL=hU.prototype).xa=function(){},vL.wa=function(){},vL.va=function(){},vL.ua=function(){},vL.Oa=function(){},dU.prototype.g=function(t,e){return new pU(t,e)},PL(pU,LM),pU.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),$M(DL(t.hb,t,e))),hF(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=cU(t,null,t.W),ZV(t)},pU.prototype.close=function(){KV(this.g)},pU.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,QV(this.g,e)}else this.v?((e={}).__data__=VM(t),QV(this.g,e)):QV(this.g,t)},pU.prototype.M=function(){this.g.j=null,delete this.j,KV(this.g),delete this.g,pU.Z.M.call(this)},PL(fU,bF),PL(mU,wF),PL(gU,hU),gU.prototype.xa=function(){MM(this.g,"a")},gU.prototype.wa=function(t){MM(this.g,new fU(t))},gU.prototype.va=function(t){MM(this.g,new mU(t))},gU.prototype.ua=function(){MM(this.g,"b")},dU.prototype.createWebChannel=dU.prototype.g,pU.prototype.send=pU.prototype.u,pU.prototype.open=pU.prototype.m,pU.prototype.close=pU.prototype.close,fF.NO_ERROR=0,fF.TIMEOUT=8,fF.HTTP_ERROR=6,mF.COMPLETE="complete",yF.EventType=vF,vF.OPEN="a",vF.CLOSE="b",vF.ERROR="c",vF.MESSAGE="d",LM.prototype.listen=LM.prototype.N,DV.prototype.listenOnce=DV.prototype.O,DV.prototype.getLastError=DV.prototype.La,DV.prototype.getLastErrorCode=DV.prototype.Da,DV.prototype.getStatus=DV.prototype.ba,DV.prototype.getResponseJson=DV.prototype.Qa,DV.prototype.getResponseText=DV.prototype.ga,DV.prototype.send=DV.prototype.ea;var yU=wL.createWebChannelTransport=function(){return new dU},_U=wL.getStatEventTarget=function(){return aF()},vU=wL.ErrorCode=fF,bU=wL.EventType=mF,wU=wL.Event=sF,SU=wL.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},EU=wL.FetchXmlHttpFactory=CV,CU=wL.WebChannel=yF,kU=wL.XhrIo=DV;class TU{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}TU.UNAUTHENTICATED=new TU(null),TU.GOOGLE_CREDENTIALS=new TU("google-credentials-uid"),TU.FIRST_PARTY=new TU("first-party-uid"),TU.MOCK_USER=new TU("mock-user");let IU="9.4.0";const xU=new Ax("@firebase/firestore");function AU(){return xU.logLevel}function RU(t,...e){if(xU.logLevel<=Ex.DEBUG){const n=e.map(PU);xU.debug(`Firestore (${IU}): ${t}`,...n)}}function DU(t,...e){if(xU.logLevel<=Ex.ERROR){const n=e.map(PU);xU.error(`Firestore (${IU}): ${t}`,...n)}}function OU(t,...e){if(xU.logLevel<=Ex.WARN){const n=e.map(PU);xU.warn(`Firestore (${IU}): ${t}`,...n)}}function PU(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function NU(t="Unexpected state"){const e=`FIRESTORE (${IU}) INTERNAL ASSERTION FAILED: `+t;throw DU(e),new Error(e)}function LU(t,e){t||NU()}function MU(t,e){return t}const FU={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class VU extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class UU{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class jU{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class BU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(TU.UNAUTHENTICATED))}shutdown(){}}class zU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class qU{constructor(t){this.t=t,this.currentUser=TU.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new UU;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new UU,t.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const e=i;t.enqueueRetryable(async()=>{await e.promise,await r(this.currentUser)})},o=t=>{RU("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(t=>o(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(RU("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new UU)}},0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(RU("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(LU("string"==typeof e.accessToken),new jU(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return LU(null===t||"string"==typeof t),new TU(t)}}class $U{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=TU.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class HU{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new $U(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(TU.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KU{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function WU(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}KU.T=-1;class GU{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=WU(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function QU(t,e){return t<e?-1:t>e?1:0}function ZU(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}function YU(t){return t+"\0"}class XU{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new VU(FU.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new VU(FU.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new VU(FU.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new VU(FU.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return XU.fromMillis(Date.now())}static fromDate(t){return XU.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new XU(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?QU(this.nanoseconds,t.nanoseconds):QU(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class JU{constructor(t){this.timestamp=t}static fromTimestamp(t){return new JU(t)}static min(){return new JU(new XU(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function tj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ej(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class rj{constructor(t,e,n){void 0===e?e=0:e>t.length&&NU(),void 0===n?n=t.length-e:n>t.length-e&&NU(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===rj.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof rj?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ij extends rj{construct(t,e,n){return new ij(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new VU(FU.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new ij(e)}static emptyPath(){return new ij([])}}const sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oj extends rj{construct(t,e,n){return new oj(t,e,n)}static isValidIdentifier(t){return sj.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oj.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oj(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new VU(FU.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new VU(FU.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new VU(FU.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new VU(FU.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new oj(e)}static emptyPath(){return new oj([])}}class aj{constructor(t){this.fields=t,t.sort(oj.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ZU(this.fields,t.fields,(t,e)=>t.isEqual(e))}}let lj=(()=>{class t{constructor(t){this.binaryString=t}static fromBase64String(e){const n=atob(e);return new t(n)}static fromUint8Array(e){const n=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e);return new t(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return QU(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}return t.EMPTY_BYTE_STRING=new t(""),t})();const cj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uj(t){if(LU(!!t),"string"==typeof t){let e=0;const n=cj.exec(t);if(LU(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hj(t.seconds),nanos:hj(t.nanos)}}function hj(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dj(t){return"string"==typeof t?lj.fromBase64String(t):lj.fromUint8Array(t)}function pj(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fj(t){const e=t.mapValue.fields.__previous_value__;return pj(e)?fj(e):e}function mj(t){const e=uj(t.mapValue.fields.__local_write_time__.timestampValue);return new XU(e.seconds,e.nanos)}function gj(t){return null==t}function yj(t){return 0===t&&1/t==-1/0}function _j(t){return"number"==typeof t&&Number.isInteger(t)&&!yj(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class vj{constructor(t){this.path=t}static fromPath(t){return new vj(ij.fromString(t))}static fromName(t){return new vj(ij.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===ij.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ij.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vj(new ij(t.slice()))}}function bj(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pj(t)?4:10:NU()}function wj(t,e){const n=bj(t);if(n!==bj(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mj(t).isEqual(mj(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=uj(t.timestampValue),r=uj(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dj(t.bytesValue).isEqual(dj(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return hj(t.geoPointValue.latitude)===hj(e.geoPointValue.latitude)&&hj(t.geoPointValue.longitude)===hj(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hj(t.integerValue)===hj(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=hj(t.doubleValue),r=hj(e.doubleValue);return n===r?yj(n)===yj(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ZU(t.arrayValue.values||[],e.arrayValue.values||[],wj);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(tj(n)!==tj(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wj(n[i],r[i])))return!1;return!0}(t,e);default:return NU()}}function Sj(t,e){return void 0!==(t.values||[]).find(t=>wj(t,e))}function Ej(t,e){const n=bj(t),r=bj(e);if(n!==r)return QU(n,r);switch(n){case 0:return 0;case 1:return QU(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=hj(t.integerValue||t.doubleValue),r=hj(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Cj(t.timestampValue,e.timestampValue);case 4:return Cj(mj(t),mj(e));case 5:return QU(t.stringValue,e.stringValue);case 6:return function(t,e){const n=dj(t),r=dj(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=QU(n[i],r[i]);if(0!==t)return t}return QU(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=QU(hj(t.latitude),hj(e.latitude));return 0!==n?n:QU(hj(t.longitude),hj(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=Ej(n[i],r[i]);if(t)return t}return QU(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=QU(r[o],s[o]);if(0!==t)return t;const e=Ej(n[r[o]],i[s[o]]);if(0!==e)return e}return QU(r.length,s.length)}(t.mapValue,e.mapValue);default:throw NU()}}function Cj(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return QU(t,e);const n=uj(t),r=uj(e),i=QU(n.seconds,r.seconds);return 0!==i?i:QU(n.nanos,r.nanos)}function kj(t){return Tj(t)}function Tj(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=uj(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dj(t.bytesValue).toBase64():"referenceValue"in t?vj.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Tj(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Tj(t.fields[i])}`;return n+"}"}(t.mapValue):NU();var e}function Ij(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xj(t){return!!t&&"integerValue"in t}function Aj(t){return!!t&&"arrayValue"in t}function Rj(t){return!!t&&"nullValue"in t}function Dj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Oj(t){return!!t&&"mapValue"in t}function Pj(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ej(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Pj(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pj(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Nj{constructor(t){this.value=t}static empty(){return new Nj({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Oj(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pj(e)}setAll(t){let e=oj.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Pj(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Oj(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return wj(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Oj(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){ej(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new Nj(Pj(this.value))}}function Lj(t){const e=[];return ej(t.fields,(t,n)=>{const r=new oj([t]);if(Oj(n)){const t=Lj(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new aj(e)}class Mj{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new Mj(t,0,JU.min(),Nj.empty(),0)}static newFoundDocument(t,e,n){return new Mj(t,1,e,n,0)}static newNoDocument(t,e){return new Mj(t,2,e,Nj.empty(),0)}static newUnknownDocument(t,e){return new Mj(t,3,e,Nj.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nj.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nj.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Mj&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Mj(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fj{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Vj(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Fj(t,e,n,r,i,s,o)}function Uj(t){const e=MU(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+kj(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>function(t){return t.field.canonicalString()+t.dir}(t)).join(","),gj(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Xj(e.startAt)),e.endAt&&(t+="|ub:",t+=Xj(e.endAt)),e.A=t}return e.A}function jj(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!tB(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!wj(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nB(t.startAt,e.startAt)&&nB(t.endAt,e.endAt)}function Bj(t){return vj.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class zj extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new qj(t,e,n):"array-contains"===e?new Wj(t,n):"in"===e?new Gj(t,n):"not-in"===e?new Qj(t,n):"array-contains-any"===e?new Zj(t,n):new zj(t,e,n)}static R(t,e,n){return"in"===e?new $j(t,n):new Hj(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(Ej(e,this.value)):null!==e&&bj(this.value)===bj(e)&&this.P(Ej(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return NU()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qj extends zj{constructor(t,e,n){super(t,e,n),this.key=vj.fromName(n.referenceValue)}matches(t){const e=vj.comparator(t.key,this.key);return this.P(e)}}class $j extends zj{constructor(t,e){super(t,"in",e),this.keys=Kj(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Hj extends zj{constructor(t,e){super(t,"not-in",e),this.keys=Kj(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Kj(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>vj.fromName(t.referenceValue))}class Wj extends zj{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Aj(e)&&Sj(e.arrayValue,this.value)}}class Gj extends zj{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sj(this.value.arrayValue,e)}}class Qj extends zj{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sj(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Sj(this.value.arrayValue,e)}}class Zj extends zj{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Aj(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Sj(this.value.arrayValue,t))}}class Yj{constructor(t,e){this.position=t,this.before=e}}function Xj(t){return`${t.before?"b":"a"}:${t.position.map(t=>kj(t)).join(",")}`}class Jj{constructor(t,e="asc"){this.field=t,this.dir=e}}function tB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function eB(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?vj.comparator(vj.fromName(o.referenceValue),n.key):Ej(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function nB(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wj(t.position[n],e.position[n]))return!1;return!0}class rB{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function iB(t,e,n,r,i,s,o,a){return new rB(t,e,n,r,i,s,o,a)}function sB(t){return new rB(t)}function oB(t){return!gj(t.limit)&&"F"===t.limitType}function aB(t){return!gj(t.limit)&&"L"===t.limitType}function lB(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function cB(t){for(const e of t.filters)if(e.v())return e.field;return null}function uB(t){return null!==t.collectionGroup}function hB(t){const e=MU(t);if(null===e.V){e.V=[];const t=cB(e),n=lB(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new Jj(t)),e.V.push(new Jj(oj.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Jj(oj.keyField(),t))}}}return e.V}function dB(t){const e=MU(t);if(!e.S)if("F"===e.limitType)e.S=Vj(e.path,e.collectionGroup,hB(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of hB(e))t.push(new Jj(i.field,"desc"===i.dir?"asc":"desc"));const n=e.endAt?new Yj(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Yj(e.startAt.position,!e.startAt.before):null;e.S=Vj(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.S}function pB(t,e,n){return new rB(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fB(t,e){return jj(dB(t),dB(e))&&t.limitType===e.limitType}function mB(t){return`${Uj(dB(t))}|lt:${t.limitType}`}function gB(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${kj(e.value)}`;var e}).join(", ")}]`),gj(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t)).join(", ")}]`),t.startAt&&(e+=", startAt: "+Xj(t.startAt)),t.endAt&&(e+=", endAt: "+Xj(t.endAt)),`Target(${e})`}(dB(t))}; limitType=${t.limitType})`}function yB(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):vj.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!eB(t.startAt,hB(t),e)||t.endAt&&eB(t.endAt,hB(t),e))}(t,e)}function _B(t){return(e,n)=>{let r=!1;for(const i of hB(t)){const t=vB(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function vB(t,e,n){const r=t.field.isKeyField()?vj.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ej(r,i):NU()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return NU()}}function bB(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yj(e)?"-0":e}}function wB(t){return{integerValue:""+t}}function SB(t,e){return _j(e)?wB(e):bB(t,e)}class EB{constructor(){this._=void 0}}function CB(t,e,n){return t instanceof IB?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof xB?AB(t,e):t instanceof RB?DB(t,e):function(t,e){const n=TB(t,e),r=PB(n)+PB(t.C);return xj(n)&&xj(t.C)?wB(r):bB(t.N,r)}(t,e)}function kB(t,e,n){return t instanceof xB?AB(t,e):t instanceof RB?DB(t,e):n}function TB(t,e){return t instanceof OB?xj(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class IB extends EB{}class xB extends EB{constructor(t){super(),this.elements=t}}function AB(t,e){const n=NB(e);for(const r of t.elements)n.some(t=>wj(t,r))||n.push(r);return{arrayValue:{values:n}}}class RB extends EB{constructor(t){super(),this.elements=t}}function DB(t,e){let n=NB(e);for(const r of t.elements)n=n.filter(t=>!wj(t,r));return{arrayValue:{values:n}}}class OB extends EB{constructor(t,e){super(),this.N=t,this.C=e}}function PB(t){return hj(t.integerValue||t.doubleValue)}function NB(t){return Aj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class LB{constructor(t,e){this.field=t,this.transform=e}}class MB{constructor(t,e){this.version=t,this.transformResults=e}}class FB{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new FB}static exists(t){return new FB(void 0,t)}static updateTime(t){return new FB(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function VB(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class UB{}function jB(t,e,n){t instanceof HB?function(t,e,n){const r=t.value.clone(),i=GB(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof KB?function(t,e,n){if(!VB(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=GB(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(WB(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function BB(t,e,n){t instanceof HB?function(t,e,n){if(!VB(t.precondition,e))return;const r=t.value.clone(),i=QB(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument($B(e),r).setHasLocalMutations()}(t,e,n):t instanceof KB?function(t,e,n){if(!VB(t.precondition,e))return;const r=QB(t.fieldTransforms,n,e),i=e.data;i.setAll(WB(t)),i.setAll(r),e.convertToFoundDocument($B(e),i).setHasLocalMutations()}(t,e,n):function(t,e){VB(t.precondition,e)&&e.convertToNoDocument(JU.min())}(t,e)}function zB(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=TB(r.transform,t||null);null!=i&&(null==n&&(n=Nj.empty()),n.set(r.field,i))}return n||null}function qB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ZU(t,e,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof xB&&e instanceof xB||t instanceof RB&&e instanceof RB?ZU(t.elements,e.elements,wj):t instanceof OB&&e instanceof OB?wj(t.C,e.C):t instanceof IB&&e instanceof IB}(t.transform,e.transform)}(t,e))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function $B(t){return t.isFoundDocument()?t.version:JU.min()}class HB extends UB{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class KB extends UB{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function WB(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function GB(t,e,n){const r=new Map;LU(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,kB(o,a,n[i]))}return r}function QB(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,CB(t,s,e))}return r}class ZB extends UB{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class YB extends UB{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class XB{constructor(t){this.count=t}}var JB,tz;function ez(t){switch(t){default:return NU();case FU.CANCELLED:case FU.UNKNOWN:case FU.DEADLINE_EXCEEDED:case FU.RESOURCE_EXHAUSTED:case FU.INTERNAL:case FU.UNAVAILABLE:case FU.UNAUTHENTICATED:return!1;case FU.INVALID_ARGUMENT:case FU.NOT_FOUND:case FU.ALREADY_EXISTS:case FU.PERMISSION_DENIED:case FU.FAILED_PRECONDITION:case FU.ABORTED:case FU.OUT_OF_RANGE:case FU.UNIMPLEMENTED:case FU.DATA_LOSS:return!0}}function nz(t){if(void 0===t)return DU("GRPC error has no .code"),FU.UNKNOWN;switch(t){case JB.OK:return FU.OK;case JB.CANCELLED:return FU.CANCELLED;case JB.UNKNOWN:return FU.UNKNOWN;case JB.DEADLINE_EXCEEDED:return FU.DEADLINE_EXCEEDED;case JB.RESOURCE_EXHAUSTED:return FU.RESOURCE_EXHAUSTED;case JB.INTERNAL:return FU.INTERNAL;case JB.UNAVAILABLE:return FU.UNAVAILABLE;case JB.UNAUTHENTICATED:return FU.UNAUTHENTICATED;case JB.INVALID_ARGUMENT:return FU.INVALID_ARGUMENT;case JB.NOT_FOUND:return FU.NOT_FOUND;case JB.ALREADY_EXISTS:return FU.ALREADY_EXISTS;case JB.PERMISSION_DENIED:return FU.PERMISSION_DENIED;case JB.FAILED_PRECONDITION:return FU.FAILED_PRECONDITION;case JB.ABORTED:return FU.ABORTED;case JB.OUT_OF_RANGE:return FU.OUT_OF_RANGE;case JB.UNIMPLEMENTED:return FU.UNIMPLEMENTED;case JB.DATA_LOSS:return FU.DATA_LOSS;default:return NU()}}(tz=JB||(JB={}))[tz.OK=0]="OK",tz[tz.CANCELLED=1]="CANCELLED",tz[tz.UNKNOWN=2]="UNKNOWN",tz[tz.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tz[tz.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tz[tz.NOT_FOUND=5]="NOT_FOUND",tz[tz.ALREADY_EXISTS=6]="ALREADY_EXISTS",tz[tz.PERMISSION_DENIED=7]="PERMISSION_DENIED",tz[tz.UNAUTHENTICATED=16]="UNAUTHENTICATED",tz[tz.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tz[tz.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tz[tz.ABORTED=10]="ABORTED",tz[tz.OUT_OF_RANGE=11]="OUT_OF_RANGE",tz[tz.UNIMPLEMENTED=12]="UNIMPLEMENTED",tz[tz.INTERNAL=13]="INTERNAL",tz[tz.UNAVAILABLE=14]="UNAVAILABLE",tz[tz.DATA_LOSS=15]="DATA_LOSS";class rz{constructor(t,e){this.comparator=t,this.root=e||sz.EMPTY}insert(t,e){return new rz(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sz.BLACK,null,null))}remove(t){return new rz(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sz.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iz(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iz(this.root,t,this.comparator,!1)}getReverseIterator(){return new iz(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iz(this.root,t,this.comparator,!0)}}class iz{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sz{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:sz.RED,this.left=null!=r?r:sz.EMPTY,this.right=null!=i?i:sz.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new sz(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sz.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return sz.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sz.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sz.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw NU();if(this.right.isRed())throw NU();const t=this.left.check();if(t!==this.right.check())throw NU();return t+(this.isRed()?0:1)}}sz.EMPTY=null,sz.RED=!0,sz.BLACK=!1,sz.EMPTY=new class{constructor(){this.size=0}get key(){throw NU()}get value(){throw NU()}get color(){throw NU()}get left(){throw NU()}get right(){throw NU()}copy(t,e,n,r,i){return this}insert(t,e,n){return new sz(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class oz{constructor(t){this.comparator=t,this.data=new rz(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new az(this.data.getIterator())}getIteratorFrom(t){return new az(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof oz))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new oz(this.comparator);return e.data=t,e}}class az{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const lz=new rz(vj.comparator);function cz(){return lz}const uz=new rz(vj.comparator);function hz(){return uz}const dz=new rz(vj.comparator);function pz(){return dz}const fz=new oz(vj.comparator);function mz(...t){let e=fz;for(const n of t)e=e.add(n);return e}const gz=new oz(QU);function yz(){return gz}class _z{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,vz.createSynthesizedTargetChangeForCurrentChange(t,e)),new _z(JU.min(),n,yz(),cz(),mz())}}class vz{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new vz(lj.EMPTY_BYTE_STRING,e,mz(),mz(),mz())}}class bz{constructor(t,e,n,r){this.k=t,this.removedTargetIds=e,this.key=n,this.$=r}}class wz{constructor(t,e){this.targetId=t,this.O=e}}class Sz{constructor(t,e,n=lj.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Ez{constructor(){this.F=0,this.M=Tz(),this.L=lj.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=mz(),e=mz(),n=mz();return this.M.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:NU()}}),new vz(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=Tz()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Cz{constructor(t){this.tt=t,this.et=new Map,this.nt=cz(),this.st=kz(),this.it=new oz(QU)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:NU()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((t,n)=>{this.ht(n)&&e(n)})}ft(t){const e=t.targetId,n=t.O.count,r=this.dt(e);if(r){const t=r.target;if(Bj(t))if(0===n){const n=new vj(t.path);this.ct(e,n,Mj.newNoDocument(n,JU.min()))}else LU(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Bj(i.target)){const e=new vj(i.target.path);null!==this.nt.get(e)||this.gt(r,e)||this.ct(r,e,Mj.newNoDocument(e,t))}n.K&&(e.set(r,n.W()),n.G())}});let n=mz();this.st.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.dt(t);return!e||2===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))});const r=new _z(t,e,this.it,this.nt,n);return this.nt=cz(),this.st=kz(),this.it=new oz(QU),r}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,n){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new Ez,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new oz(QU),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||RU("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new Ez),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function kz(){return new rz(vj.comparator)}function Tz(){return new rz(vj.comparator)}const Iz={asc:"ASCENDING",desc:"DESCENDING"},xz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Az{constructor(t,e){this.databaseId=t,this.D=e}}function Rz(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dz(t,e){return t.D?e.toBase64():e.toUint8Array()}function Oz(t,e){return Rz(t,e.toTimestamp())}function Pz(t){return LU(!!t),JU.fromTimestamp(function(t){const e=uj(t);return new XU(e.seconds,e.nanos)}(t))}function Nz(t,e){return function(t){return new ij(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Lz(t){const e=ij.fromString(t);return LU(sq(e)),e}function Mz(t,e){return Nz(t.databaseId,e.path)}function Fz(t,e){const n=Lz(e);if(n.get(1)!==t.databaseId.projectId)throw new VU(FU.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new VU(FU.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vj(Bz(n))}function Vz(t,e){return Nz(t.databaseId,e)}function Uz(t){const e=Lz(t);return 4===e.length?ij.emptyPath():Bz(e)}function jz(t){return new ij(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bz(t){return LU(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function zz(t,e,n){return{name:Mz(t,e),fields:n.value.mapValue.fields}}function qz(t,e,n){const r=Fz(t,e.name),i=Pz(e.updateTime),s=new Nj({mapValue:{fields:e.fields}}),o=Mj.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function $z(t,e){let n;if(e instanceof HB)n={update:zz(t,e.key,e.value)};else if(e instanceof ZB)n={delete:Mz(t,e.key)};else if(e instanceof KB)n={update:zz(t,e.key,e.data),updateMask:iq(e.fieldMask)};else{if(!(e instanceof YB))return NU();n={verify:Mz(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof IB)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xB)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof RB)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof OB)return{fieldPath:e.field.canonicalString(),increment:n.C};throw NU()}(0,t))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Oz(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:NU()}(t,e.precondition)),n}function Hz(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?FB.updateTime(Pz(t.updateTime)):void 0!==t.exists?FB.exists(t.exists):FB.none()}(e.currentDocument):FB.none(),r=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(LU("REQUEST_TIME"===e.setToServerValue),n=new IB):"appendMissingElements"in e?n=new xB(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new RB(e.removeAllFromArray.values||[]):"increment"in e?n=new OB(t,e.increment):NU();const r=oj.fromServerFormat(e.fieldPath);return new LB(r,n)}(t,e)):[];if(e.update){const i=Fz(t,e.update.name),s=new Nj({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){return new aj((t.fieldPaths||[]).map(t=>oj.fromServerFormat(t)))}(e.updateMask);return new KB(i,s,t,n,r)}return new HB(i,s,n,r)}if(e.delete){const r=Fz(t,e.delete);return new ZB(r,n)}if(e.verify){const r=Fz(t,e.verify);return new YB(r,n)}return NU()}function Kz(t,e){return{documents:[Vz(t,e.path)]}}function Wz(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Vz(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Vz(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(Dj(t.value))return{unaryFilter:{field:tq(t.field),op:"IS_NAN"}};if(Rj(t.value))return{unaryFilter:{field:tq(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Dj(t.value))return{unaryFilter:{field:tq(t.field),op:"IS_NOT_NAN"}};if(Rj(t.value))return{unaryFilter:{field:tq(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tq(t.field),op:Jz(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map(t=>function(t){return{field:tq(t.field),direction:Xz(t.dir)}}(t))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.D||gj(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Zz(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zz(e.endAt)),n}function Gz(t){let e=Uz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){LU(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=Qz(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>function(t){return new Jj(eq(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,gj(e)?null:e}(n.limit));let l=null;n.startAt&&(l=Yz(n.startAt));let c=null;return n.endAt&&(c=Yz(n.endAt)),iB(e,i,o,s,a,"F",l,c)}function Qz(t){return t?void 0!==t.unaryFilter?[rq(t)]:void 0!==t.fieldFilter?[nq(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>Qz(t)).reduce((t,e)=>t.concat(e)):NU():[]}function Zz(t){return{before:t.before,values:t.position}}function Yz(t){return new Yj(t.values||[],!!t.before)}function Xz(t){return Iz[t]}function Jz(t){return xz[t]}function tq(t){return{fieldPath:t.canonicalString()}}function eq(t){return oj.fromServerFormat(t.fieldPath)}function nq(t){return zj.create(eq(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return NU()}}(t.fieldFilter.op),t.fieldFilter.value)}function rq(t){switch(t.unaryFilter.op){case"IS_NAN":const e=eq(t.unaryFilter.field);return zj.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=eq(t.unaryFilter.field);return zj.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=eq(t.unaryFilter.field);return zj.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=eq(t.unaryFilter.field);return zj.create(i,"!=",{nullValue:"NULL_VALUE"});default:return NU()}}function iq(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sq(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function oq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lq(e)),e=aq(t.get(n),e);return lq(e)}function aq(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function lq(t){return t+"\x01\x01"}function cq(t){const e=t.length;if(LU(e>=2),2===e)return LU("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ij.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&NU(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=t.substring(s,e),i+="\0";break;case"\x11":i+=t.substring(s,e+1);break;default:NU()}s=e+2}return new ij(r)}class uq{constructor(t,e){this.seconds=t,this.nanoseconds=e}}let hq=(()=>{class t{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}return t.store="owner",t.key="owner",t})(),dq=(()=>{class t{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}return t.store="mutationQueues",t.keyPath="userId",t})();class pq{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}pq.store="mutations",pq.keyPath="batchId",pq.userMutationsIndex="userMutationsIndex",pq.userMutationsKeyPath=["userId","batchId"];let fq=(()=>{class t{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,oq(e)]}static key(t,e,n){return[t,oq(e),n]}}return t.store="documentMutations",t.PLACEHOLDER=new t,t})();class mq{constructor(t,e){this.path=t,this.readTime=e}}class gq{constructor(t,e){this.path=t,this.version=e}}class yq{constructor(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}yq.store="remoteDocuments",yq.readTimeIndex="readTimeIndex",yq.readTimeIndexPath="readTime",yq.collectionReadTimeIndex="collectionReadTimeIndex",yq.collectionReadTimeIndexPath=["parentPath","readTime"];let _q=(()=>{class t{constructor(t){this.byteSize=t}}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t})();class vq{constructor(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}vq.store="targets",vq.keyPath="targetId",vq.queryTargetsIndexName="queryTargetsIndex",vq.queryTargetsKeyPath=["canonicalId","targetId"];class bq{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}bq.store="targetDocuments",bq.keyPath=["targetId","path"],bq.documentTargetsIndex="documentTargetsIndex",bq.documentTargetsKeyPath=["path","targetId"];let wq=(()=>{class t{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return t.key="targetGlobalKey",t.store="targetGlobal",t})(),Sq=(()=>{class t{constructor(t,e){this.collectionId=t,this.parent=e}}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t})(),Eq=(()=>{class t{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}return t.store="clientMetadata",t.keyPath="clientId",t})(),Cq=(()=>{class t{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}return t.store="bundles",t.keyPath="bundleId",t})(),kq=(()=>{class t{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}return t.store="namedQueries",t.keyPath="name",t})();const Tq=[dq.store,pq.store,fq.store,yq.store,vq.store,hq.store,wq.store,bq.store,Eq.store,_q.store,Sq.store,Cq.store,kq.store],Iq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Aq{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&NU(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Aq((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Aq?e:Aq.resolve(e)}catch(t){return Aq.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Aq.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Aq.reject(e)}static resolve(t){return new Aq((e,n)=>{e(t)})}static reject(t){return new Aq((e,n)=>{n(t)})}static waitFor(t){return new Aq((e,n)=>{let r=0,i=0,s=!1;t.forEach(t=>{++r,t.next(()=>{++i,s&&i===r&&e()},t=>n(t))}),s=!0,i===r&&e()})}static or(t){let e=Aq.resolve(!1);for(const n of t)e=e.next(t=>t?Aq.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}}class Rq{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new UU,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new Pq(t,e.error)):this.Et.resolve()},this.transaction.onerror=e=>{const n=Vq(e.target.error);this.Et.reject(new Pq(t,n))}}static open(t,e,n,r){try{return new Rq(e,t.transaction(r,n))}catch(t){throw new Pq(e,t)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(RU("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new Lq(e)}}class Dq{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===Dq.Rt(JI())&&DU("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return RU("SimpleDb","Removing database:",t),Mq(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!ix())return!1;if(Dq.Pt())return!0;const t=JI(),e=Dq.Rt(t),n=0<e&&e<10,r=Dq.vt(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(t){return this.db||(RU("SimpleDb","Opening database:",this.name),this.db=await new Promise((e,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=t=>{e(t.target.result)},r.onblocked=()=>{n(new Pq(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=e=>{const r=e.target.error;n("VersionError"===r.name?new VU(FU.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===r.name?new VU(FU.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r):new Pq(t,r))},r.onupgradeneeded=t=>{RU("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion),this.At.Ct(t.target.result,r.transaction,t.oldVersion,this.version).next(()=>{RU("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Nt&&(this.db.onversionchange=t=>this.Nt(t)),this.db}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,r){const i="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.Dt(t);const e=Rq.open(this.db,t,i?"readonly":"readwrite",n),s=r(e).catch(t=>(e.abort(t),Aq.reject(t))).toPromise();return s.catch(()=>{}),await e.It,s}catch(t){const e="FirebaseError"!==t.name&&s<3;if(RU("SimpleDb","Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Oq{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return Mq(this.kt.delete())}}class Pq extends VU{constructor(t,e){super(FU.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Nq(t){return"IndexedDbTransactionError"===t.name}class Lq{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(RU("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(RU("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Mq(n)}add(t){return RU("SimpleDb","ADD",this.store.name,t,t),Mq(this.store.add(t))}get(t){return Mq(this.store.get(t)).next(e=>(void 0===e&&(e=null),RU("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return RU("SimpleDb","DELETE",this.store.name,t),Mq(this.store.delete(t))}count(){return RU("SimpleDb","COUNT",this.store.name),Mq(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),r=[];return this.Bt(n,(t,e)=>{r.push(e)}).next(()=>r)}Ut(t,e){RU("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(t,e,n)=>n.delete())}Kt(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new Aq((n,r)=>{e.onerror=t=>{const e=Vq(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next(t=>{t?r.continue():n()}):n()}})}Bt(t,e){const n=[];return new Aq((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const s=new Oq(i),o=e(i.primaryKey,i.value,s);if(o instanceof Aq){const t=o.catch(t=>(s.done(),Aq.reject(t)));n.push(t)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Aq.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Mq(t){return new Aq((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=Vq(t.target.error);n(e)}})}let Fq=!1;function Vq(t){const e=Dq.Rt(JI());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new VU("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Fq||(Fq=!0,setTimeout(()=>{throw t},0)),t}}return t}class Uq extends xq{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function jq(t,e){const n=MU(t);return Dq.St(n.Qt,e)}class Bq{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&jB(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&BB(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&BB(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(JU.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),mz())}isEqual(t){return this.batchId===t.batchId&&ZU(this.mutations,t.mutations,(t,e)=>qB(t,e))&&ZU(this.baseMutations,t.baseMutations,(t,e)=>qB(t,e))}}class zq{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){LU(t.mutations.length===n.length);let r=pz();const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new zq(t,e,n,r)}}class qq{constructor(t,e,n,r,i=JU.min(),s=JU.min(),o=lj.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new qq(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new qq(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new qq(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class $q{constructor(t){this.Wt=t}}function Hq(t,e){if(e.document)return qz(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=vj.fromSegments(e.noDocument.path),n=Zq(e.noDocument.readTime),r=Mj.newNoDocument(t,n);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=vj.fromSegments(e.unknownDocument.path),n=Zq(e.unknownDocument.version);return Mj.newUnknownDocument(t,n)}return NU()}function Kq(t,e,n){const r=Wq(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n=function(t,e){return{name:Mz(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Rz(t,e.version.toTimestamp())}}(t.Wt,e);return new yq(null,null,n,e.hasCommittedMutations,r,i)}if(e.isNoDocument()){const t=e.key.path.toArray(),n=Qq(e.version),s=e.hasCommittedMutations;return new yq(null,new mq(t,n),null,s,r,i)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=Qq(e.version);return new yq(new gq(t,n),null,null,!0,r,i)}return NU()}function Wq(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Gq(t){const e=new XU(t[0],t[1]);return JU.fromTimestamp(e)}function Qq(t){const e=t.toTimestamp();return new uq(e.seconds,e.nanoseconds)}function Zq(t){const e=new XU(t.seconds,t.nanoseconds);return JU.fromTimestamp(e)}function Yq(t,e){const n=(e.baseMutations||[]).map(e=>Hz(t.Wt,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(e=>Hz(t.Wt,e)),i=XU.fromMillis(e.localWriteTimeMs);return new Bq(e.batchId,i,n,r)}function Xq(t){const e=Zq(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Zq(t.lastLimboFreeSnapshotVersion):JU.min();let r;var i;return void 0!==t.query.documents?(LU(1===(i=t.query).documents.length),r=dB(sB(Uz(i.documents[0])))):r=function(t){return dB(Gz(t))}(t.query),new qq(r,t.targetId,0,t.lastListenSequenceNumber,e,n,lj.fromBase64String(t.resumeToken))}function Jq(t,e){const n=Qq(e.snapshotVersion),r=Qq(e.lastLimboFreeSnapshotVersion);let i;i=Bj(e.target)?Kz(t.Wt,e.target):Wz(t.Wt,e.target);const s=e.resumeToken.toBase64();return new vq(e.targetId,Uj(e.target),n,s,e.sequenceNumber,r,i)}function t$(t){const e=Gz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?pB(e,e.limit,"L"):e}class e${getBundleMetadata(t,e){return n$(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:Zq(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return n$(t).put({bundleId:(n=e).id,createTime:Qq(Pz(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return r$(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:t$(e.bundledQuery),readTime:Zq(e.readTime)};var e})}saveNamedQuery(t,e){return r$(t).put(function(t){return{name:t.name,readTime:Qq(Pz(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function n$(t){return jq(t,Cq.store)}function r$(t){return jq(t,kq.store)}class i${constructor(){this.Gt=new s$}addToCollectionParentIndex(t,e){return this.Gt.add(e),Aq.resolve()}getCollectionParents(t,e){return Aq.resolve(this.Gt.getEntries(e))}}class s${constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new oz(ij.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new oz(ij.comparator)).toArray()}}class o${constructor(){this.zt=new s$}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const i={collectionId:n,parent:oq(r)};return a$(t).put(i)}return Aq.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[YU(e),""],!1,!0);return a$(t).Lt(r).next(t=>{for(const r of t){if(r.collectionId!==e)break;n.push(cq(r.parent))}return n})}}function a$(t){return jq(t,Sq.store)}const l$={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class c${constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new c$(t,c$.DEFAULT_COLLECTION_PERCENTILE,c$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function u$(t,e,n){const r=t.store(pq.store),i=t.store(fq.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},(t,e,n)=>(a++,n.delete()));s.push(l.next(()=>{LU(1===a)}));const c=[];for(const u of n.mutations){const t=fq.key(e,u.key.path,n.batchId);s.push(i.delete(t)),c.push(u.key)}return Aq.waitFor(s).next(()=>c)}function h$(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw NU();e=t.noDocument}return JSON.stringify(e).length}c$.DEFAULT_COLLECTION_PERCENTILE=10,c$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,c$.DEFAULT=new c$(41943040,c$.DEFAULT_COLLECTION_PERCENTILE,c$.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),c$.DISABLED=new c$(-1,0,0);class d${constructor(t,e,n,r){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,n,r){LU(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new d$(i,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return f$(t).Kt({index:pq.userMutationsIndex,range:n},(t,n,r)=>{e=!1,r.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const i=m$(t),s=f$(t);return s.add({}).next(o=>{LU("number"==typeof o);const a=new Bq(o,e,n,r),l=function(t,e,n){const r=n.baseMutations.map(e=>$z(t.Wt,e)),i=n.mutations.map(e=>$z(t.Wt,e));return new pq(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let u=new oz((t,e)=>QU(t.canonicalString(),e.canonicalString()));for(const t of r){const e=fq.key(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),c.push(s.put(l)),c.push(i.put(e,fq.PLACEHOLDER))}return u.forEach(e=>{c.push(this.Ht.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Aq.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return f$(t).get(e).next(t=>t?(LU(t.userId===this.userId),Yq(this.N,t)):null)}Xt(t,e){return this.Jt[e]?Aq.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return f$(t).Kt({index:pq.userMutationsIndex,range:r},(t,e,r)=>{e.userId===this.userId&&(LU(e.batchId>=n),i=Yq(this.N,e)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return f$(t).Kt({index:pq.userMutationsIndex,range:e,reverse:!0},(t,e,r)=>{n=e.batchId,r.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return f$(t).Lt(pq.userMutationsIndex,e).next(t=>t.map(t=>Yq(this.N,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=fq.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),i=[];return m$(t).Kt({range:r},(n,r,s)=>{const[o,a,l]=n,c=cq(a);if(o===this.userId&&e.path.isEqual(c))return f$(t).get(l).next(t=>{if(!t)throw NU();LU(t.userId===this.userId),i.push(Yq(this.N,t))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new oz(QU);const r=[];return e.forEach(e=>{const i=fq.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=m$(t).Kt({range:s},(t,r,i)=>{const[s,o,a]=t,l=cq(o);s===this.userId&&e.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),Aq.waitFor(r).next(()=>this.Zt(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,i=fq.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new oz(QU);return m$(t).Kt({range:s},(t,e,i)=>{const[s,a,l]=t,c=cq(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.Zt(t,o))}Zt(t,e){const n=[],r=[];return e.forEach(e=>{r.push(f$(t).get(e).next(t=>{if(null===t)throw NU();LU(t.userId===this.userId),n.push(Yq(this.N,t))}))}),Aq.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return u$(t.Qt,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Aq.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Aq.resolve();const n=IDBKeyRange.lowerBound(fq.prefixForUser(this.userId)),r=[];return m$(t).Kt({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=cq(t[1]);r.push(e)}else n.done()}).next(()=>{LU(0===r.length)})})}containsKey(t,e){return p$(t,this.userId,e)}ee(t){return g$(t).get(this.userId).next(t=>t||new dq(this.userId,-1,""))}}function p$(t,e,n){const r=fq.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return m$(t).Kt({range:s,qt:!0},(t,n,r)=>{const[s,a,l]=t;s===e&&a===i&&(o=!0),r.done()}).next(()=>o)}function f$(t){return jq(t,pq.store)}function m$(t){return jq(t,fq.store)}function g$(t){return jq(t,dq.store)}class y${constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new y$(0)}static ie(){return new y$(-1)}}class _${constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const n=new y$(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(t=>JU.fromTimestamp(new XU(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.re(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(n=>(n.targetCount+=1,this.ae(e,n),this.oe(t,n))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>v$(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(LU(e.targetCount>0),e.targetCount-=1,this.oe(t,e)))}removeTargets(t,e,n){let r=0;const i=[];return v$(t).Kt((s,o)=>{const a=Xq(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(t,a)))}).next(()=>Aq.waitFor(i)).next(()=>r)}forEachTarget(t,e){return v$(t).Kt((t,n)=>{const r=Xq(n);e(r)})}re(t){return b$(t).get(wq.key).next(t=>(LU(null!==t),t))}oe(t,e){return b$(t).put(wq.key,e)}ce(t,e){return v$(t).put(Jq(this.N,e))}ae(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next(t=>t.targetCount)}getTargetData(t,e){const n=Uj(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return v$(t).Kt({range:r,index:vq.queryTargetsIndexName},(t,n,r)=>{const s=Xq(n);jj(e,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(t,e,n){const r=[],i=w$(t);return e.forEach(e=>{const s=oq(e.path);r.push(i.put(new bq(n,s))),r.push(this.referenceDelegate.addReference(t,n,e))}),Aq.waitFor(r)}removeMatchingKeys(t,e,n){const r=w$(t);return Aq.forEach(e,e=>{const i=oq(e.path);return Aq.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=w$(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=w$(t);let i=mz();return r.Kt({range:n,qt:!0},(t,e,n)=>{const r=cq(t[1]),s=new vj(r);i=i.add(s)}).next(()=>i)}containsKey(t,e){const n=oq(e.path),r=IDBKeyRange.bound([n],[YU(n)],!1,!0);let i=0;return w$(t).Kt({index:bq.documentTargetsIndex,qt:!0,range:r},([t,e],n,r)=>{0!==t&&(i++,r.done())}).next(()=>i>0)}Tt(t,e){return v$(t).get(e).next(t=>t?Xq(t):null)}}function v$(t){return jq(t,vq.store)}function b$(t){return jq(t,wq.store)}function w$(t){return jq(t,bq.store)}async function S$(t){if(t.code!==FU.FAILED_PRECONDITION||t.message!==Iq)throw t;RU("LocalStore","Unexpectedly lost primary lease")}function E$([t,e],[n,r]){const i=QU(t,n);return 0===i?QU(e,r):i}class C${constructor(t){this.ue=t,this.buffer=new oz(E$),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();E$(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class k${constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){const e=this.de?3e5:6e4;RU("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.we=null,this.de=!0;try{await t.collectGarbage(this.garbageCollector)}catch(t){Nq(t)?RU("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await S$(t)}await this._e(t)})}}class T${constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return Aq.resolve(KU.T);const n=new C$(e);return this.me.forEachTarget(t,t=>n.fe(t.sequenceNumber)).next(()=>this.me.ye(t,t=>n.fe(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(RU("LruGarbageCollector","Garbage collection skipped; disabled"),Aq.resolve(l$)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(RU("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l$):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(RU("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(l=Date.now(),AU()<=Ex.DEBUG&&RU("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${t} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),Aq.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})))}}class I${constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new T$(t,e)}(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Te(t){let e=0;return this.ye(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(t,n)=>e(n))}addReference(t,e,n){return x$(t,n)}removeReference(t,e,n){return x$(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return x$(t,e)}Ie(t,e){return function(t,e){let n=!1;return g$(t).jt(r=>p$(t,r,e).next(t=>(t&&(n=!0),Aq.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(t,(s,o)=>{if(o<=e){const e=this.Ie(t,s).next(e=>{if(!e)return i++,n.getEntry(t,s).next(()=>(n.removeEntry(s),w$(t).delete([0,oq(s.path)])))});r.push(e)}}).next(()=>Aq.waitFor(r)).next(()=>n.apply(t)).next(()=>i)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return x$(t,e)}Ee(t,e){const n=w$(t);let r,i=KU.T;return n.Kt({index:bq.documentTargetsIndex},([t,n],{path:s,sequenceNumber:o})=>{0===t?(i!==KU.T&&e(new vj(cq(r)),i),i=o,r=s):i=KU.T}).next(()=>{i!==KU.T&&e(new vj(cq(r)),i)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function x$(t,e){return w$(t).put(function(t,e){return new bq(0,oq(t.path),e)}(e,t.currentSequenceNumber))}class A${constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){ej(this.inner,(e,n)=>{for(const[r,i]of n)t(r,i)})}isEmpty(){return nj(this.inner)}}class R${constructor(){this.changes=new A$(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:JU.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Mj.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Aq.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class D${constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return N$(t).put(L$(e),n)}removeEntry(t,e){const n=N$(t),r=L$(e);return n.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Ae(t,n)))}getEntry(t,e){return N$(t).get(L$(e)).next(t=>this.Re(e,t))}be(t,e){return N$(t).get(L$(e)).next(t=>({document:this.Re(e,t),size:h$(t)}))}getEntries(t,e){let n=cz();return this.Pe(t,e,(t,e)=>{const r=this.Re(t,e);n=n.insert(t,r)}).next(()=>n)}ve(t,e){let n=cz(),r=new rz(vj.comparator);return this.Pe(t,e,(t,e)=>{const i=this.Re(t,e);n=n.insert(t,i),r=r.insert(t,h$(e))}).next(()=>({documents:n,Ve:r}))}Pe(t,e,n){if(e.isEmpty())return Aq.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator();let s=i.getNext();return N$(t).Kt({range:r},(t,e,r)=>{const o=vj.fromSegments(t);for(;s&&vj.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(t,e,n){let r=cz();const i=e.path.length+1,s={};if(n.isEqual(JU.min())){const t=e.path.toArray();s.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),r=Wq(n);s.range=IDBKeyRange.lowerBound([t,r],!0),s.index=yq.collectionReadTimeIndex}return N$(t).Kt(s,(t,n,s)=>{if(t.length!==i)return;const o=Hq(this.N,n);e.path.isPrefixOf(o.key.path)?yB(e,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(t){return new O$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return P$(t).get(_q.key).next(t=>(LU(!!t),t))}Ae(t,e){return P$(t).put(_q.key,e)}Re(t,e){if(e){const t=Hq(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(JU.min()))return t}return Mj.newInvalidDocument(t)}}class O$ extends R${constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new A$(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,r=new oz((t,e)=>QU(t.canonicalString(),e.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Kq(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=h$(a);n+=l-o,e.push(this.Se.addEntry(t,i,a))}else if(n-=o,this.trackRemovals){const n=Kq(this.Se.N,Mj.newNoDocument(i,JU.min()),this.getReadTime(i));e.push(this.Se.addEntry(t,i,n))}else e.push(this.Se.removeEntry(t,i))}),r.forEach(n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))}),e.push(this.Se.updateMetadata(t,n)),Aq.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(t=>(this.De.set(e,t.size),t.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:t,Ve:e})=>(e.forEach((t,e)=>{this.De.set(t,e)}),t))}}function P$(t){return jq(t,_q.store)}function N$(t){return jq(t,yq.store)}function L$(t){return t.path.toArray()}class M${constructor(t){this.N=t}Ct(t,e,n,r){LU(n<r&&n>=0&&r<=11);const i=new Rq("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hq.store)}(t),function(t){t.createObjectStore(dq.store,{keyPath:dq.keyPath}),t.createObjectStore(pq.store,{keyPath:pq.keyPath,autoIncrement:!0}).createIndex(pq.userMutationsIndex,pq.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fq.store)}(t),F$(t),function(t){t.createObjectStore(yq.store)}(t));let s=Aq.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bq.store),t.deleteObjectStore(vq.store),t.deleteObjectStore(wq.store)}(t),F$(t)),s=s.next(()=>function(t){const e=t.store(wq.store),n=new wq(0,0,JU.min().toTimestamp(),0);return e.put(wq.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(t,e){return e.store(pq.store).Lt().next(n=>{t.deleteObjectStore(pq.store),t.createObjectStore(pq.store,{keyPath:pq.keyPath,autoIncrement:!0}).createIndex(pq.userMutationsIndex,pq.userMutationsKeyPath,{unique:!0});const r=e.store(pq.store),i=n.map(t=>r.put(t));return Aq.waitFor(i)})}(t,i))),s=s.next(()=>{!function(t){t.createObjectStore(Eq.store,{keyPath:Eq.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(t){t.createObjectStore(_q.store)}(t),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(t,i))),n<9&&r>=9&&(s=s.next(()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){const e=t.objectStore(yq.store);e.createIndex(yq.readTimeIndex,yq.readTimeIndexPath,{unique:!1}),e.createIndex(yq.collectionReadTimeIndex,yq.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(t){t.createObjectStore(Cq.store,{keyPath:Cq.keyPath})}(t),function(t){t.createObjectStore(kq.store,{keyPath:kq.keyPath})}(t)})),s}Ne(t){let e=0;return t.store(yq.store).Kt((t,n)=>{e+=h$(n)}).next(()=>{const n=new _q(e);return t.store(_q.store).put(_q.key,n)})}Ce(t){const e=t.store(dq.store),n=t.store(pq.store);return e.Lt().next(e=>Aq.forEach(e,e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(pq.userMutationsIndex,r).next(n=>Aq.forEach(n,n=>{LU(n.userId===e.userId);const r=Yq(this.N,n);return u$(t,e.userId,r).next(()=>{})}))}))}xe(t){const e=t.store(bq.store),n=t.store(yq.store);return t.store(wq.store).get(wq.key).next(t=>{const r=[];return n.Kt((n,i)=>{const s=new ij(n),o=function(t){return[0,oq(t)]}(s);r.push(e.get(o).next(n=>n?Aq.resolve():(n=>e.put(new bq(0,oq(n),t.highestListenSequenceNumber)))(s)))}).next(()=>Aq.waitFor(r))})}ke(t,e){t.createObjectStore(Sq.store,{keyPath:Sq.keyPath});const n=e.store(Sq.store),r=new s$,i=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:oq(r)})}};return e.store(yq.store).Kt({qt:!0},(t,e)=>{const n=new ij(t);return i(n.popLast())}).next(()=>e.store(fq.store).Kt({qt:!0},([t,e,n],r)=>{const s=cq(e);return i(s.popLast())}))}$e(t){const e=t.store(vq.store);return e.Kt((t,n)=>{const r=Xq(n),i=Jq(this.N,r);return e.put(i)})}}function F$(t){t.createObjectStore(bq.store,{keyPath:bq.keyPath}).createIndex(bq.documentTargetsIndex,bq.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(vq.store,{keyPath:vq.keyPath}).createIndex(vq.queryTargetsIndexName,vq.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wq.store)}const V$="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class U${constructor(t,e,n,r,i,s,o,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!U$.bt())throw new VU(FU.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I$(this,r),this.We=e+"main",this.N=new $q(a),this.Ge=new Dq(this.We,11,new M$(this.N)),this.ze=new _$(this.referenceDelegate,this.N),this.Ht=new o$,this.He=function(t,e){return new D$(t,e)}(this.N,this.Ht),this.Je=new e$,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&DU("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new VU(FU.FAILED_PRECONDITION,V$);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new KU(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){return this.Qe=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(async e=>{null===e.newVersion&&await t()})}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Xe()}))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>B$(t).put(new Eq(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Nq(t))return RU("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return RU("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return j$(t).get(hq.key).next(t=>Aq.resolve(this.an(t)))}un(t){return B$(t).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const e=jq(t,Eq.store);return e.Lt().next(t=>{const n=this.fn(t,18e5),r=t.filter(t=>-1===n.indexOf(t));return Aq.forEach(r,t=>e.delete(t.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ye)for(const e of t)this.Ye.removeItem(this.dn(e.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Aq.resolve(!0):j$(t).get(hq.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new VU(FU.FAILED_PRECONDITION,V$);return!1}}return!(!this.networkEnabled||!this.inForeground)||B$(t).Lt().next(t=>void 0===this.fn(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&RU("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[hq.store,Eq.store],t=>{const e=new Uq(t,KU.T);return this.on(e).next(()=>this.un(e))}),this.Ge.close(),this.yn()}fn(t,e){return t.filter(t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>B$(t).Lt().next(t=>this.fn(t,18e5).map(t=>t.clientId)))}get started(){return this.Be}getMutationQueue(t){return d$.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){let r;return RU("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Tq,i=>(r=new Uq(i,this.Le?this.Le.next():KU.T),"readwrite-primary"===e?this.sn(r).next(t=>!!t||this.rn(r)).next(e=>{if(!e)throw DU(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new VU(FU.FAILED_PRECONDITION,Iq);return n(r)}).next(t=>this.cn(r).next(()=>t)):this.Tn(r).next(()=>n(r)))).then(t=>(r.raiseOnCommittedEvent(),t))}Tn(t){return j$(t).get(hq.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new VU(FU.FAILED_PRECONDITION,V$)})}cn(t){const e=new hq(this.clientId,this.allowTabSynchronization,Date.now());return j$(t).put(hq.key,e)}static bt(){return Dq.bt()}on(t){const e=j$(t);return e.get(hq.key).next(t=>this.an(t)?(RU("IndexedDbPersistence","Releasing primary lease."),e.delete(hq.key)):Aq.resolve())}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(DU(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return RU("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return DU("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(PL){DU("Failed to set zombie client id.",PL)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(PL){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function j$(t){return jq(t,hq.store)}function B$(t){return jq(t,Eq.store)}function z$(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class q${constructor(t,e){this.progress=t,this.En=e}}class $${constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Rn(t,e,n))}Rn(t,e,n){return this.He.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const r of e)r.applyToLocalView(n)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return function(t){return vj.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Vn(t,e.path):uB(e)?this.Sn(t,e,n):this.Dn(t,e,n)}Vn(t,e){return this.An(t,new vj(e)).next(t=>{let e=hz();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Sn(t,e,n){const r=e.collectionGroup;let i=hz();return this.Ht.getCollectionParents(t,r).next(s=>Aq.forEach(s,s=>{const o=function(t,e){return new rB(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(r));return this.Dn(t,o,n).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}Dn(t,e,n){let r,i;return this.He.getDocumentsMatchingQuery(t,e,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(i=e,this.Cn(t,i,r).next(t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Mj.newInvalidDocument(n),r=r.insert(n,i)),BB(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((t,n)=>{yB(e,n)||(r=r.remove(t))}),r))}Cn(t,e,n){let r=mz();for(const s of e)for(const t of s.mutations)t instanceof KB&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(t,r).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))}),i))}}class H${constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=r}static kn(t,e){let n=mz(),r=mz();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new H$(t,e.fromCache,n,r)}}class K${$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(JU.min())?this.Fn(t,e):this.On.Pn(t,r).next(i=>{const s=this.Mn(e,i);return(oB(e)||aB(e))&&this.Ln(e.limitType,s,r,n)?this.Fn(t,e):(AU()<=Ex.DEBUG&&RU("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gB(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))})}Mn(t,e){let n=new oz(_B(t));return e.forEach((e,r)=>{yB(t,r)&&(n=n.add(r))}),n}Ln(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,e){return AU()<=Ex.DEBUG&&RU("QueryEngine","Using full collection scan to execute query:",gB(e)),this.On.getDocumentsMatchingQuery(t,e,JU.min())}}class W${constructor(t,e,n,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new rz(QU),this.qn=new A$(t=>Uj(t),jj),this.Kn=JU.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new $$(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function G$(t,e,n,r){return new W$(t,e,n,r)}async function Q$(t,e){const n=MU(t);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",t=>{let s;return n.In.getAllMutationBatches(t).next(o=>(s=o,r=n.persistence.getMutationQueue(e),i=new $$(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t))).next(e=>{const n=[],r=[];let o=mz();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.Pn(t,o).next(t=>({Wn:t,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function Z$(t){const e=MU(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function Y$(t,e,n,r,i){let s=mz();return n.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=cz();return n.forEach((n,o)=>{const a=t.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(JU.min())?(e.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,l),s=s.insert(n,o)):RU("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function X$(t,e){const n=MU(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e)))}function J$(t,e){const n=MU(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.ze.getTargetData(t,e).next(i=>i?(r=i,Aq.resolve(r)):n.ze.allocateTargetId(t).next(i=>(r=new qq(e,i,0,t.currentSequenceNumber),n.ze.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.Un.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}async function tH(t,e,n){const r=MU(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,t=>r.persistence.referenceDelegate.removeTarget(t,i))}catch(t){if(!Nq(t))throw t;RU("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)}function eH(t,e,n){const r=MU(t);let i=JU.min(),s=mz();return r.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const r=MU(t),i=r.qn.get(n);return void 0!==i?Aq.resolve(r.Un.get(i)):r.ze.getTargetData(e,n)}(r,t,dB(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>r.Bn.getDocumentsMatchingQuery(t,e,n?i:JU.min(),n?s:mz())).next(t=>({documents:t,Gn:s})))}function nH(t,e){const n=MU(t),r=MU(n.ze),i=n.Un.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",t=>r.Tt(t,e).next(t=>t?t.target:null))}function rH(t){const e=MU(t);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(t,e,n){const r=MU(t);let i=cz(),s=Wq(n);const o=N$(e),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:yq.readTimeIndex,range:a},(t,e)=>{const n=Hq(r.N,e);i=i.insert(n.key,n),s=e.readTime}).next(()=>({En:i,readTime:Gq(s)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:n})=>(e.Kn=n,t))}async function iH(t,e,n=mz()){const r=await J$(t,dB(t$(e.bundledQuery))),i=MU(t);return i.persistence.runTransaction("Save named query","readwrite",t=>{const s=Pz(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(t,e);const o=r.withResumeToken(lj.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(t,o).next(()=>i.ze.removeMatchingKeysForTargetId(t,r.targetId)).next(()=>i.ze.addMatchingKeys(t,n,r.targetId)).next(()=>i.Je.saveNamedQuery(t,e))})}class sH{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Aq.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:Pz(n.createTime)}),Aq.resolve()}getNamedQuery(t,e){return Aq.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,function(t){return{name:t.name,query:t$(t.bundledQuery),readTime:Pz(t.readTime)}}(e)),Aq.resolve()}}class oH{constructor(){this.Zn=new oz(aH.ts),this.es=new oz(aH.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new aH(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.rs(new aH(t,e))}os(t,e){t.forEach(t=>this.removeReference(t,e))}cs(t){const e=new vj(new ij([])),n=new aH(e,t),r=new aH(e,t+1),i=[];return this.es.forEachInRange([n,r],t=>{this.rs(t),i.push(t.key)}),i}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new vj(new ij([])),n=new aH(e,t),r=new aH(e,t+1);let i=mz();return this.es.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new aH(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class aH{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return vj.comparator(t.key,e.key)||QU(t.ls,e.ls)}static ns(t,e){return QU(t.ls,e.ls)||vj.comparator(t.key,e.key)}}class lH{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new oz(aH.ts)}checkEmpty(t){return Aq.resolve(0===this.In.length)}addMutationBatch(t,e,n,r){const i=this.fs;this.fs++;const s=new Bq(i,e,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new aH(o.key,i)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return Aq.resolve(s)}lookupMutationBatch(t,e){return Aq.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=this._s(e+1),r=n<0?0:n;return Aq.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Aq.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Aq.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new aH(e,0),r=new aH(e,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],t=>{const e=this.ws(t.ls);i.push(e)}),Aq.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new oz(QU);return e.forEach(t=>{const e=new aH(t,0),r=new aH(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],t=>{n=n.add(t.ls)})}),Aq.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;vj.isDocumentKey(i)||(i=i.child(""));const s=new aH(new vj(i),0);let o=new oz(QU);return this.ds.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)},s),Aq.resolve(this.gs(o))}gs(t){const e=[];return t.forEach(t=>{const n=this.ws(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){LU(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return Aq.forEach(e.mutations,r=>{const i=new aH(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=n})}te(t){}containsKey(t,e){const n=new aH(e,0),r=this.ds.firstAfterOrEqual(n);return Aq.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Aq.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class cH{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new rz(vj.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Aq.resolve(n?n.document.clone():Mj.newInvalidDocument(e))}getEntries(t,e){let n=cz();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():Mj.newInvalidDocument(t))}),Aq.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=cz();const i=new vj(e.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||yB(e,i)&&(r=r.insert(i.key,i.clone()))}return Aq.resolve(r)}Ts(t,e){return Aq.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new uH(this)}getSize(t){return Aq.resolve(this.size)}}class uH extends R${constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Aq.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class hH{constructor(t){this.persistence=t,this.Es=new A$(t=>Uj(t),jj),this.lastRemoteSnapshotVersion=JU.min(),this.highestTargetId=0,this.Is=0,this.As=new oH,this.targetCount=0,this.Rs=y$.se()}forEachTarget(t,e){return this.Es.forEach((t,n)=>e(n)),Aq.resolve()}getLastRemoteSnapshotVersion(t){return Aq.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Aq.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Aq.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),Aq.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new y$(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Aq.resolve()}updateTargetData(t,e){return this.ce(e),Aq.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Aq.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),Aq.waitFor(i).next(()=>r)}getTargetCount(t){return Aq.resolve(this.targetCount)}getTargetData(t,e){const n=this.Es.get(e)||null;return Aq.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Aq.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),Aq.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Aq.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Aq.resolve(n)}containsKey(t,e){return Aq.resolve(this.As.containsKey(e))}}class dH{constructor(t,e){this.bs={},this.Le=new KU(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new hH(this),this.Ht=new i$,this.He=function(t,e){return new cH(t,e)}(this.Ht,t=>this.referenceDelegate.Ps(t)),this.N=new $q(e),this.Je=new sH(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new lH(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){RU("MemoryPersistence","Starting transaction:",t);const r=new pH(this.Le.next());return this.referenceDelegate.vs(),n(r).next(t=>this.referenceDelegate.Vs(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Ss(t,e){return Aq.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class pH extends xq{constructor(t){super(),this.currentSequenceNumber=t}}class fH{constructor(t){this.persistence=t,this.Ds=new oH,this.Cs=null}static Ns(t){return new fH(t)}get xs(){if(this.Cs)return this.Cs;throw NU()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),Aq.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),Aq.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Aq.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Aq.forEach(this.xs,n=>{const r=vj.fromPath(n);return this.ks(t,r).next(t=>{t||e.removeEntry(r)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Aq.or([()=>Aq.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function mH(t,e){return`firestore_clients_${t}_${e}`}function gH(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function yH(t,e){return`firestore_targets_${t}_${e}`}class _H{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static $s(t,e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new VU(r.error.code,r.error.message))),s?new _H(t,e,r.state,i):(DU("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vH{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new VU(n.error.code,n.error.message))),i?new vH(t,n.state,r):(DU("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bH{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=yz();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=_j(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new bH(t,i):(DU("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wH{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wH(e.clientId,e.onlineState):(DU("SharedClientState",`Failed to parse online state: ${t}`),null)}}class SH{constructor(){this.activeTargetIds=yz()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EH{constructor(t,e,n,r,i){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new rz(QU),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=mH(this.persistenceKey,this.Ls),this.Qs=function(t){return`firestore_sequence_number_${t}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new SH),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(t){return`firestore_online_state_${t}`}(this.persistenceKey),this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}async start(){const t=await this.syncEngine.pn();for(const n of t){if(n===this.Ls)continue;const t=this.getItem(mH(this.persistenceKey,n));if(t){const e=bH.$s(n,t);e&&(this.qs=this.qs.insert(e.clientId,e))}}this.Ys();const e=this.storage.getItem(this.Hs);if(e){const t=this.Xs(e);t&&this.Zs(t)}for(const n of this.Ks)this.Us(n);this.Ks=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(yH(this.persistenceKey,t));if(n){const r=vH.$s(t,n);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(yH(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.ni(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return RU("SharedClientState","READ",t,e),e}setItem(t,e){RU("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){RU("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){const e=t;if(e.storageArea===this.storage){if(RU("SharedClientState","EVENT",e.key,e.newValue),e.key===this.js)return void DU("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==e.key)if(this.Ws.test(e.key)){if(null==e.newValue){const t=this.ci(e.key);return this.ai(t,null)}{const t=this.ui(e.key,e.newValue);if(t)return this.ai(t.clientId,t)}}else if(this.Gs.test(e.key)){if(null!==e.newValue){const t=this.hi(e.key,e.newValue);if(t)return this.li(t)}}else if(this.zs.test(e.key)){if(null!==e.newValue){const t=this.fi(e.key,e.newValue);if(t)return this.di(t)}}else if(e.key===this.Hs){if(null!==e.newValue){const t=this.Xs(e.newValue);if(t)return this.Zs(t)}}else if(e.key===this.Qs){const t=function(t){let e=KU.T;if(null!=t)try{const n=JSON.parse(t);LU("number"==typeof n),e=n}catch(t){DU("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(e.newValue);t!==KU.T&&this.sequenceNumberHandler(t)}else if(e.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(e)})}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const r=new _H(this.currentUser,t,e,n),i=gH(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Os())}ni(t){const e=gH(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,n){const r=yH(this.persistenceKey,t),i=new vH(t,e,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ci(t);return bH.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),r=Number(n[1]);return _H.$s(new TU(void 0!==n[2]?n[2]:null),r,e)}fi(t,e){const n=this.zs.exec(t),r=Number(n[1]);return vH.$s(r,e)}Xs(t){return wH.$s(t)}async li(t){if(t.user.uid===this.currentUser.uid)return this.syncEngine._i(t.batchId,t.state,t.error);RU("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(t=>{r.has(t)||s.push(t)}),r.forEach(t=>{i.has(t)||o.push(t)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=yz();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class CH{constructor(){this.yi=new SH,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new SH,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class kH{Ti(t){}shutdown(){}}class TH{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){RU("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){RU("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const IH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xH{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class AH extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const i=this.Bi(t,e);RU("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(t,i,s,n).then(t=>(RU("RestConnection","Received: ",t),t),e=>{throw OU("RestConnection",`${t} failed with error: `,e,"url: ",i,"request:",n),e})}Ki(t,e,n,r){return this.Li(t,e,n,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+IU,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){return`${this.Fi}/v1/${e}:${IH[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,r){return new Promise((i,s)=>{const o=new kU;o.listenOnce(bU.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case vU.NO_ERROR:const e=o.getResponseJson();RU("Connection","XHR received:",JSON.stringify(e)),i(e);break;case vU.TIMEOUT:RU("Connection",'RPC "'+t+'" timed out'),s(new VU(FU.DEADLINE_EXCEEDED,"Request time out"));break;case vU.HTTP_ERROR:const n=o.getStatus();if(RU("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(FU).indexOf(e)>=0?e:FU.UNKNOWN}(t.status);s(new VU(e,t.message))}else s(new VU(FU.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new VU(FU.UNAVAILABLE,"Connection failed."));break;default:NU()}}finally{RU("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(r);o.send(e,"POST",a,n,15)})}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=yU(),i=_U(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new EU({})),this.Ui(s.initMessageHeaders,e),tx()||nx()||JI().indexOf("Electron/")>=0||rx()||JI().indexOf("MSAppHost/")>=0||ex()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");RU("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,c=!1;const u=new xH({vi:t=>{c?RU("Connection","Not sending because WebChannel is closed:",t):(l||(RU("Connection","Opening WebChannel transport."),a.open(),l=!0),RU("Connection","WebChannel sending:",t),a.send(t))},Vi:()=>a.close()}),h=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(t){setTimeout(()=>{throw t},0)}})};return h(a,CU.EventType.OPEN,()=>{c||RU("Connection","WebChannel transport opened.")}),h(a,CU.EventType.CLOSE,()=>{c||(c=!0,RU("Connection","WebChannel transport closed"),u.$i())}),h(a,CU.EventType.ERROR,t=>{c||(c=!0,OU("Connection","WebChannel transport errored:",t),u.$i(new VU(FU.UNAVAILABLE,"The operation could not be completed")))}),h(a,CU.EventType.MESSAGE,t=>{var e;if(!c){const n=t.data[0];LU(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){RU("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=JB[t];if(void 0!==e)return nz(e)}(t),n=i.message;void 0===e&&(e=FU.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),c=!0,u.$i(new VU(e,n)),a.close()}else RU("Connection","WebChannel received:",n),u.Oi(n)}}),h(i,wU.STAT_EVENT,t=>{t.stat===SU.PROXY?RU("Connection","Detected buffering proxy"):t.stat===SU.NOPROXY&&RU("Connection","Detected no buffering proxy")}),setTimeout(()=>{u.ki()},0),u}}function RH(){return"undefined"!=typeof window?window:null}function DH(){return"undefined"!=typeof document?document:null}function OH(t){return new Az(t,!0)}class PH{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-n);r>0&&RU("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class NH{constructor(t,e,n,r,i,s,o){this.Oe=t,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new PH(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}async stop(){this.ur()&&await this.close(0)}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}async _r(){if(this.hr())return this.close(0)}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(t,e){this.gr(),this.yr(),this.ar.cancel(),this.ir++,4!==t?this.ar.reset():e&&e.code===FU.RESOURCE_EXHAUSTED?(DU(e.toString()),DU("Using maximum backoff delay to prevent overloading the backend."),this.ar.Yi()):e&&e.code===FU.UNAUTHENTICATED&&3!==this.state&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.pr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ci(e)}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(t=>{this.ir===e&&this.Er(t)},e=>{t(()=>{const t=new VU(FU.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Ir(t)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(t=>{e(()=>this.Ir(t))}),this.stream.onMessage(t=>{e(()=>this.onMessage(t))})}lr(){this.state=5,this.ar.Xi(async()=>{this.state=0,this.start()})}Ir(t){return RU("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(RU("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LH extends NH{constructor(t,e,n,r,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i),this.N=r}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(t,e){let n;if("targetChange"in e){const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:NU()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.D?(LU(void 0===e||"string"==typeof e),lj.fromBase64String(e||"")):(LU(void 0===e||e instanceof Uint8Array),lj.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?FU.UNKNOWN:nz(t.code);return new VU(e,t.message||"")}(o);n=new Sz(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Fz(t,r.document.name),s=Pz(r.document.updateTime),o=new Nj({mapValue:{fields:r.document.fields}}),a=Mj.newFoundDocument(i,s,o);n=new bz(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Fz(t,r.document),s=r.readTime?Pz(r.readTime):JU.min(),o=Mj.newNoDocument(i,s);n=new bz([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Fz(t,r.document);n=new bz([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return NU();{const t=e.filter,r=new XB(t.count||0);n=new wz(t.targetId,r)}}return n}(this.N,t),n=function(t){if(!("targetChange"in t))return JU.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?JU.min():e.readTime?Pz(e.readTime):JU.min()}(t);return this.listener.Rr(e,n)}br(t){const e={};e.database=jz(this.N),e.addTarget=function(t,e){let n;const r=e.target;return n=Bj(r)?{documents:Kz(t,r)}:{query:Wz(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Dz(t,e.resumeToken):e.snapshotVersion.compareTo(JU.min())>0&&(n.readTime=Rz(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return NU()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.mr(e)}Pr(t){const e={};e.database=jz(this.N),e.removeTarget=t,this.mr(e)}}class MH extends NH{constructor(t,e,n,r,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(LU(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(t,e){return t&&t.length>0?(LU(void 0!==e),t.map(t=>function(t,e){let n=Pz(t.updateTime?t.updateTime:e);return n.isEqual(JU.min())&&(n=Pz(e)),new MB(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Pz(t.commitTime);return this.listener.Dr(n,e)}return LU(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=jz(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>$z(this.N,t))};this.mr(e)}}class FH extends class{}{constructor(t,e,n){super(),this.credentials=t,this.sr=e,this.N=n,this.kr=!1}$r(){if(this.kr)throw new VU(FU.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===FU.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new VU(FU.UNKNOWN,t.toString())})}Ki(t,e,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===FU.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new VU(FU.UNKNOWN,t.toString())})}terminate(){this.kr=!0}}class VH{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(DU(e),this.Mr=!1):RU("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class UH{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti(t=>{n.enqueueAndForget(async()=>{GH(this)&&(RU("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=MU(t);e.Wr.add(4),await BH(e),e.Hr.set("Unknown"),e.Wr.delete(4),await jH(e)}(this))})}),this.Hr=new VH(n,r)}}async function jH(t){if(GH(t))for(const e of t.Gr)await e(!0)}async function BH(t){for(const e of t.Gr)await e(!1)}function zH(t,e){const n=MU(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),WH(n)?KH(n):hK(n).hr()&&$H(n,e))}function qH(t,e){const n=MU(t),r=hK(n);n.Qr.delete(e),r.hr()&&HH(n,e),0===n.Qr.size&&(r.hr()?r.wr():GH(n)&&n.Hr.set("Unknown"))}function $H(t,e){t.Jr.Y(e.targetId),hK(t).br(e)}function HH(t,e){t.Jr.Y(e),hK(t).Pr(e)}function KH(t){t.Jr=new Cz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),hK(t).start(),t.Hr.Lr()}function WH(t){return GH(t)&&!hK(t).ur()&&t.Qr.size>0}function GH(t){return 0===MU(t).Wr.size}function QH(t){t.Jr=void 0}async function ZH(t){t.Qr.forEach((e,n)=>{$H(t,e)})}async function YH(t,e){QH(t),WH(t)?(t.Hr.qr(e),KH(t)):t.Hr.set("Unknown")}async function XH(t,e,n){if(t.Hr.set("Online"),e instanceof Sz&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.Qr.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.Qr.delete(r),t.Jr.removeTarget(r))}(t,e)}catch(n){RU("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await JH(t,n)}else if(e instanceof bz?t.Jr.rt(e):e instanceof wz?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(JU.min()))try{const e=await Z$(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.Jr._t(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Qr.get(r);i&&t.Qr.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.Qr.get(e);if(!n)return;t.Qr.set(e,n.withResumeToken(lj.EMPTY_BYTE_STRING,n.snapshotVersion)),HH(t,e);const r=new qq(n.target,e,1,n.sequenceNumber);$H(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){RU("RemoteStore","Failed to raise snapshot:",e),await JH(t,e)}}async function JH(t,e,n){if(!Nq(e))throw e;t.Wr.add(1),await BH(t),t.Hr.set("Offline"),n||(n=()=>Z$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{RU("RemoteStore","Retrying IndexedDB access"),await n(),t.Wr.delete(1),await jH(t)})}function tK(t,e){return e().catch(n=>JH(t,n,e))}async function eK(t){const e=MU(t),n=dK(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;nK(e);)try{const t=await X$(e.localStore,r);if(null===t){0===e.jr.length&&n.wr();break}r=t.batchId,rK(e,t)}catch(t){await JH(e,t)}iK(e)&&sK(e)}function nK(t){return GH(t)&&t.jr.length<10}function rK(t,e){t.jr.push(e);const n=dK(t);n.hr()&&n.Vr&&n.Sr(e.mutations)}function iK(t){return GH(t)&&!dK(t).ur()&&t.jr.length>0}function sK(t){dK(t).start()}async function oK(t){dK(t).Nr()}async function aK(t){const e=dK(t);for(const n of t.jr)e.Sr(n.mutations)}async function lK(t,e,n){const r=t.jr.shift(),i=zq.from(r,e,n);await tK(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await eK(t)}async function cK(t,e){e&&dK(t).Vr&&await async function(t,e){if(ez(n=e.code)&&n!==FU.ABORTED){const n=t.jr.shift();dK(t).dr(),await tK(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),await eK(t)}var n}(t,e),iK(t)&&sK(t)}async function uK(t,e){const n=MU(t);e?(n.Wr.delete(2),await jH(n)):e||(n.Wr.add(2),await BH(n),n.Hr.set("Unknown"))}function hK(t){return t.Yr||(t.Yr=function(t,e,n){const r=MU(t);return r.$r(),new LH(e,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:ZH.bind(null,t),Ci:YH.bind(null,t),Rr:XH.bind(null,t)}),t.Gr.push(async e=>{e?(t.Yr.dr(),WH(t)?KH(t):t.Hr.set("Unknown")):(await t.Yr.stop(),QH(t))})),t.Yr}function dK(t){return t.Xr||(t.Xr=function(t,e,n){const r=MU(t);return r.$r(),new MH(e,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:oK.bind(null,t),Ci:cK.bind(null,t),Cr:aK.bind(null,t),Dr:lK.bind(null,t)}),t.Gr.push(async e=>{e?(t.Xr.dr(),await eK(t)):(await t.Xr.stop(),t.jr.length>0&&(RU("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))})),t.Xr}class pK{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new UU,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new pK(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new VU(FU.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fK(t,e){if(DU("AsyncQueue",`${e}: ${t}`),Nq(t))return new VU(FU.UNAVAILABLE,`${e}: ${t}`);throw t}class mK{constructor(t){this.comparator=t?(e,n)=>t(e,n)||vj.comparator(e.key,n.key):(t,e)=>vj.comparator(t.key,e.key),this.keyedMap=hz(),this.sortedSet=new rz(this.comparator)}static emptySet(t){return new mK(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof mK))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new mK;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class gK{constructor(){this.Zr=new rz(vj.comparator)}track(t){const e=t.doc.key,n=this.Zr.get(e);n?0!==t.type&&3===n.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==n.type?this.Zr=this.Zr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Zr=this.Zr.remove(e):1===t.type&&2===n.type?this.Zr=this.Zr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):NU():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,n)=>{t.push(n)}),t}}class yK{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new yK(t,e,mK.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fB(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class _K{constructor(){this.no=void 0,this.listeners=[]}}class vK{constructor(){this.queries=new A$(t=>mB(t),fB),this.onlineState="Unknown",this.so=new Set}}async function bK(t,e){const n=MU(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _K),i)try{s.no=await n.onListen(r)}catch(t){const n=fK(t,`Initialization of query '${gB(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&CK(n)}async function wK(t,e){const n=MU(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SK(t,e){const n=MU(t);let r=!1;for(const i of e){const t=n.queries.get(i.query);if(t){for(const e of t.listeners)e.ro(i)&&(r=!0);t.no=i}}r&&CK(n)}function EK(t,e,n){const r=MU(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function CK(t){t.so.forEach(t=>{t.next()})}class kK{constructor(t,e,n){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new yK(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=yK.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class TK{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class IK{constructor(t){this.N=t}zn(t){return Fz(this.N,t)}Hn(t){return t.metadata.exists?qz(this.N,t.document,!1):Mj.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Pz(t)}}class xK{constructor(t,e,n){this._o=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=AK(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,n=new IK(this.N);for(const r of t)if(r.metadata.queries){const t=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||mz()).add(t);e.set(n,r)}}return e}async complete(){const t=await async function(t,e,n,r){const i=MU(t);let s=mz(),o=cz(),a=pz();for(const u of n){const t=e.zn(u.metadata.name);u.document&&(s=s.add(t)),o=o.insert(t,e.Hn(u)),a=a.insert(t,e.Jn(u.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),c=await J$(i,function(t){return dB(sB(ij.fromString(`__bundle__/docs/${t}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",t=>Y$(t,l,o,JU.min(),a).next(e=>(l.apply(t),e)).next(e=>i.ze.removeMatchingKeysForTargetId(t,c.targetId).next(()=>i.ze.addMatchingKeys(t,s,c.targetId)).next(()=>i.Qn.vn(t,e)).next(()=>e)))}(this.localStore,new IK(this.N),this.documents,this._o.id),e=this.yo(this.documents);for(const n of this.queries)await iH(this.localStore,n,e.get(n.name));return this.progress.taskState="Success",new q$(Object.assign({},this.progress),t)}}function AK(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class RK{constructor(t){this.key=t}}class DK{constructor(t){this.key=t}}class OK{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=mz(),this.mutatedKeys=mz(),this.Io=_B(t),this.Ao=new mK(this.Io)}get Ro(){return this.po}bo(t,e){const n=e?e.Po:new gK,r=e?e.Ao:this.Ao;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=oB(this.query)&&r.size===this.query.limit?r.last():null,l=aB(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),u=yB(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.vo(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Io(u,a)>0||l&&this.Io(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))}),oB(this.query)||aB(this.query))for(;s.size>this.query.limit;){const t=oB(this.query)?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const i=t.Po.eo();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return NU()}};return n(t)-n(e)}(t.type,e.type)||this.Io(t.doc,e.doc)),this.Vo(n);const s=e?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new yK(this.query,t.Ao,r,i,t.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new gK,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(t=>this.po=this.po.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=mz(),this.Ao.forEach(t=>{this.Co(t.key)&&(this.Eo=this.Eo.add(t.key))});const e=[];return t.forEach(t=>{this.Eo.has(t)||e.push(new DK(t))}),this.Eo.forEach(n=>{t.has(n)||e.push(new RK(n))}),e}No(t){this.po=t.Gn,this.Eo=mz();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return yK.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class PK{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class NK{constructor(t){this.key=t,this.ko=!1}}class LK{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new A$(t=>mB(t),fB),this.Fo=new Map,this.Mo=new Set,this.Lo=new rz(vj.comparator),this.Bo=new Map,this.Uo=new oH,this.qo={},this.Ko=new Map,this.jo=y$.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}async function MK(t,e){const n=lW(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const t=await J$(n.localStore,dB(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await FK(n,e,r,"current"===s),n.isPrimaryClient&&zH(n.remoteStore,t)}return i}async function FK(t,e,n,r){t.Wo=(e,n,r)=>async function(t,e,n,r){let i=e.view.bo(n);i.Ln&&(i=await eH(t.localStore,e.query,!1).then(({documents:t})=>e.view.bo(t,i)));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return GK(t,e.targetId,o.Do),o.snapshot}(t,e,n,r);const i=await eH(t.localStore,e,!0),s=new OK(e,i.Gn),o=s.bo(i.documents),a=vz.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=s.applyChanges(o,t.isPrimaryClient,a);GK(t,n,l.Do);const c=new PK(e,n,s);return t.Oo.set(e,c),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),l.snapshot}async function VK(t,e){const n=MU(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(t=>!fB(t,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await tH(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qH(n.remoteStore,r.targetId),KK(n,r.targetId)}).catch(S$)):(KK(n,r.targetId),await tH(n.localStore,r.targetId,!0))}async function UK(t,e){const n=MU(t);try{const t=await function(t,e){const n=MU(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];e.targetChanges.forEach((e,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next(()=>n.ze.addMatchingKeys(t,e.addedDocuments,s)));const l=e.resumeToken;if(l.approximateByteSize()>0){const c=a.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return LU(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.ze.updateTargetData(t,c))}});let a=cz();if(e.documentUpdates.forEach((r,i)=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Y$(t,s,e.documentUpdates,r,void 0).next(t=>{a=t})),!r.isEqual(JU.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next(e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,r));o.push(e)}return Aq.waitFor(o).next(()=>s.apply(t)).next(()=>n.Qn.vn(t,a)).next(()=>a)}).then(t=>(n.Un=i,t))}(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Bo.get(e);r&&(LU(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.ko=!0:t.modifiedDocuments.size>0?LU(r.ko):t.removedDocuments.size>0&&(LU(r.ko),r.ko=!1))}),await YK(n,t,e)}catch(t){await S$(t)}}function jK(t,e,n){const r=MU(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Oo.forEach((n,r)=>{const i=r.view.io(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=MU(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const i of n.listeners)i.io(e)&&(r=!0)}),r&&CK(n)}(r.eventManager,e),t.length&&r.$o.Rr(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BK(t,e,n){const r=MU(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let t=new rz(vj.comparator);t=t.insert(s,Mj.newNoDocument(s,JU.min()));const n=mz().add(s),i=new _z(JU.min(),new Map,new oz(QU),t,n);await UK(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(e),ZK(r)}else await tH(r.localStore,e,!1).then(()=>KK(r,e,n)).catch(S$)}async function zK(t,e){const n=MU(t),r=e.batch.batchId;try{const t=await function(t,e){const n=MU(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Aq.resolve();return s.forEach(t=>{o=o.next(()=>r.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);LU(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(()=>t.In.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}(n.localStore,e);HK(n,r,null),$K(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await YK(n,t)}catch(t){await S$(t)}}async function qK(t,e,n){const r=MU(t);try{const t=await function(t,e){const n=MU(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.In.lookupMutationBatch(t,e).next(e=>(LU(null!==e),r=e.keys(),n.In.removeMutationBatch(t,e))).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}(r.localStore,e);HK(r,e,n),$K(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await YK(r,t)}catch(n){await S$(n)}}function $K(t,e){(t.Ko.get(e)||[]).forEach(t=>{t.resolve()}),t.Ko.delete(e)}function HK(t,e,n){const r=MU(t);let i=r.qo[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.qo[r.currentUser.toKey()]=i}}function KK(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(e=>{t.Uo.containsKey(e)||WK(t,e)})}function WK(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(qH(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),ZK(t))}function GK(t,e,n){for(const r of n)r instanceof RK?(t.Uo.addReference(r.key,e),QK(t,r)):r instanceof DK?(RU("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||WK(t,r.key)):NU()}function QK(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(RU("SyncEngine","New document in limbo: "+n),t.Mo.add(r),ZK(t))}function ZK(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new vj(ij.fromString(e)),r=t.jo.next();t.Bo.set(r,new NK(n)),t.Lo=t.Lo.insert(n,r),zH(t.remoteStore,new qq(dB(sB(n.path)),r,2,KU.T))}}async function YK(t,e,n){const r=MU(t),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach((t,a)=>{o.push(r.Wo(a,e,n).then(t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=H$.kn(a.targetId,t);s.push(e)}}))}),await Promise.all(o),r.$o.Rr(i),await async function(t,e){const n=MU(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Aq.forEach(e,e=>Aq.forEach(e.Nn,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Aq.forEach(e.xn,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(t){if(!Nq(t))throw t;RU("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.Un.get(t),r=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Un=n.Un.insert(t,r)}}}(r.localStore,s))}async function XK(t,e){const n=MU(t);if(!n.currentUser.isEqual(e)){RU("SyncEngine","User change. New user:",e.toKey());const t=await Q$(n.localStore,e);n.currentUser=e,function(t,e){t.Ko.forEach(t=>{t.forEach(t=>{t.reject(new VU(FU.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ko.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await YK(n,t.Wn)}}function JK(t,e){const n=MU(t),r=n.Bo.get(e);if(r&&r.ko)return mz().add(r.key);{let t=mz();const r=n.Fo.get(e);if(!r)return t;for(const e of r){const r=n.Oo.get(e);t=t.unionWith(r.view.Ro)}return t}}async function tW(t,e){const n=MU(t),r=await eH(n.localStore,e.query,!0),i=e.view.No(r);return n.isPrimaryClient&&GK(n,e.targetId,i.Do),i}async function eW(t){const e=MU(t);return rH(e.localStore).then(t=>YK(e,t))}async function nW(t,e,n,r){const i=MU(t),s=await function(t,e){const n=MU(t),r=MU(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>r.Xt(t,e).next(e=>e?n.Qn.Pn(t,e):Aq.resolve(null)))}(i.localStore,e);null!==s?("pending"===n?await eK(i.remoteStore):"acknowledged"===n||"rejected"===n?(HK(i,e,r||null),$K(i,e),function(t,e){MU(MU(t).In).te(e)}(i.localStore,e)):NU(),await YK(i,s)):RU("SyncEngine","Cannot apply mutation batch with id: "+e)}async function rW(t,e,n){const r=MU(t),i=[],s=[];for(const o of e){let t;const e=r.Fo.get(o);if(e&&0!==e.length){t=await J$(r.localStore,dB(e[0]));for(const t of e){const e=r.Oo.get(t),n=await tW(r,e);n.snapshot&&s.push(n.snapshot)}}else{const e=await nH(r.localStore,o);t=await J$(r.localStore,e),await FK(r,iW(e),o,!1)}i.push(t)}return r.$o.Rr(s),i}function iW(t){return iB(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sW(t){const e=MU(t);return MU(MU(e.localStore).persistence).pn()}async function oW(t,e,n,r){const i=MU(t);if(i.Qo)RU("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(n){case"current":case"not-current":{const t=await rH(i.localStore),r=_z.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);await YK(i,t,r);break}case"rejected":await tH(i.localStore,e,!0),KK(i,e,r);break;default:NU()}}async function aW(t,e,n){const r=lW(t);if(r.Qo){for(const t of e){if(r.Fo.has(t)){RU("SyncEngine","Adding an already active target "+t);continue}const e=await nH(r.localStore,t),n=await J$(r.localStore,e);await FK(r,iW(e),n.targetId,!1),zH(r.remoteStore,n)}for(const t of n)r.Fo.has(t)&&await tH(r.localStore,t,!1).then(()=>{qH(r.remoteStore,t),KK(r,t)}).catch(S$)}}function lW(t){const e=MU(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BK.bind(null,e),e.$o.Rr=SK.bind(null,e.eventManager),e.$o.Go=EK.bind(null,e.eventManager),e}function cW(t){const e=MU(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qK.bind(null,e),e}class uW{constructor(){this.synchronizeTabs=!1}async initialize(t){this.N=OH(t.databaseInfo.databaseId),this.sharedClientState=this.Ho(t),this.persistence=this.Jo(t),await this.persistence.start(),this.gcScheduler=this.Yo(t),this.localStore=this.Xo(t)}Yo(t){return null}Xo(t){return G$(this.persistence,new K$,t.initialUser,this.N)}Jo(t){return new dH(fH.Ns,this.N)}Ho(t){return new CH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hW extends uW{constructor(t,e,n){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await async function(t){const e=MU(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(t){const e=N$(t);let n=JU.min();return e.Kt({index:yq.readTimeIndex,reverse:!0},(t,e,r)=>{e.readTime&&(n=Gq(e.readTime)),r.done()}).next(()=>n)}(t)).then(t=>{e.Kn=t})}(this.localStore),await this.Zo.initialize(this,t),await cW(this.Zo.syncEngine),await eK(this.Zo.remoteStore),await this.persistence.nn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Xo(t){return G$(this.persistence,new K$,t.initialUser,this.N)}Yo(t){return new k$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=z$(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?c$.withCacheSize(this.cacheSizeBytes):c$.DEFAULT;return new U$(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,RH(),DH(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new CH}}class dW extends hW{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}async initialize(t){await super.initialize(t);const e=this.Zo.syncEngine;this.sharedClientState instanceof EH&&(this.sharedClientState.syncEngine={_i:nW.bind(null,e),mi:oW.bind(null,e),gi:aW.bind(null,e),pn:sW.bind(null,e),wi:eW.bind(null,e)},await this.sharedClientState.start()),await this.persistence.nn(async t=>{await async function(t,e){const n=MU(t);if(lW(n),cW(n),!0===e&&!0!==n.Qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=await rW(n,t.toArray());n.Qo=!0,await uK(n.remoteStore,!0);for(const r of e)zH(n.remoteStore,r)}else if(!1===e&&!1!==n.Qo){const t=[];let e=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then(()=>(KK(n,i),tH(n.localStore,i,!0))),qH(n.remoteStore,i)}),await e,await rW(n,t),function(t){const e=MU(t);e.Bo.forEach((t,n)=>{qH(e.remoteStore,n)}),e.Uo.us(),e.Bo=new Map,e.Lo=new rz(vj.comparator)}(n),n.Qo=!1,await uK(n.remoteStore,!1)}}(this.Zo.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop())})}Ho(t){const e=RH();if(!EH.bt(e))throw new VU(FU.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=z$(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new EH(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class pW{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>jK(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=XK.bind(null,this.syncEngine),await uK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new vK}createDatastore(t){const e=OH(t.databaseInfo.databaseId),n=new AH(t.databaseInfo);return function(t,e,n){return new FH(t,e,n)}(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>jK(this.syncEngine,t,0),s=TH.bt()?new TH:new kH,new UH(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new LK(t,e,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=MU(t);RU("RemoteStore","RemoteStore shutting down."),e.Wr.add(5),await BH(e),e.zr.shutdown(),e.Hr.set("Unknown")}(this.remoteStore)}}function fW(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class mW{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class gW{constructor(t,e){this.nc=t,this.N=e,this.metadata=new UU,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(t=>{t&&t.wo()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.nc.cancel()}async getMetadata(){return this.metadata.promise}async zo(){return await this.getMetadata(),this.ic()}async ic(){const t=await this.rc();if(null===t)return null;const e=this.sc.decode(t),n=Number(e);isNaN(n)&&this.oc(`length string (${e}) is not valid number`);const r=await this.cc(n);return new TK(JSON.parse(r),t.length+n)}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}async rc(){for(;this.ac()<0&&!(await this.uc()););if(0===this.buffer.length)return null;const t=this.ac();t<0&&this.oc("Reached the end of bundle when a length string is expected.");const e=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),e}async cc(t){for(;this.buffer.length<t;)await this.uc()&&this.oc("Reached the end of bundle when more is expected.");const e=this.sc.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),e}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}async uc(){const t=await this.nc.read();if(!t.done){const e=new Uint8Array(this.buffer.length+t.value.length);e.set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e}return t.done}}class yW{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new VU(FU.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const e=await async function(t,e){const n=MU(t),r=jz(n.N)+"/documents",i={documents:e.map(t=>Mz(n.N,t))},s=await n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){LU(!!e.found);const n=Fz(t,e.found.name),r=Pz(e.found.updateTime),i=new Nj({mapValue:{fields:e.found.fields}});return Mj.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){LU(!!e.missing),LU(!!e.readTime);const n=Fz(t,e.missing),r=Pz(e.readTime);return Mj.newNoDocument(n,r)}(t,e):NU()}(n.N,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());LU(!!e),a.push(e)}),a}(this.datastore,t);return e.forEach(t=>this.recordVersion(t)),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())}delete(t){this.write(new ZB(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const t=this.readVersions;this.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,e)=>{const n=vj.fromPath(e);this.mutations.push(new YB(n,this.precondition(n)))}),await async function(t,e){const n=MU(t),r=jz(n.N)+"/documents",i={writes:e.map(t=>$z(n.N,t))};await n.Li("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw NU();e=JU.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new VU(FU.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?FB.updateTime(e):FB.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(JU.min()))throw new VU(FU.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return FB.updateTime(e)}return FB.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class _W{constructor(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new PH(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){this.ar.Xi(async()=>{const t=new yW(this.datastore),e=this.fc(t);e&&e.then(e=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(e)}).catch(t=>{this.dc(t)}))}).catch(t=>{this.dc(t)})})}fc(t){try{const e=this.updateFunction(t);return!gj(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!ez(e)}return!1}}class vW{constructor(t,e,n){this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=TU.UNAUTHENTICATED,this.clientId=GU.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,async t=>{RU("FirestoreClient","Received user=",t.uid),await this.credentialListener(t),this.user=t})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new VU(FU.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new UU;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),t.resolve()}catch(e){const n=fK(e,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function bW(t,e){t.asyncQueue.verifyOperationInProgress(),RU("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async t=>{r.isEqual(t)||(await Q$(e.localStore,t),r=t)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function wW(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SW(t);RU("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(t=>async function(t,e){const n=MU(t);n.asyncQueue.verifyOperationInProgress(),RU("RemoteStore","RemoteStore received new credentials");const r=GH(n);n.Wr.add(3),await BH(n),r&&n.Hr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Wr.delete(3),await jH(n)}(e.remoteStore,t)),t.onlineComponents=e}async function SW(t){return t.offlineComponents||(RU("FirestoreClient","Using default OfflineComponentProvider"),await bW(t,new uW)),t.offlineComponents}async function EW(t){return t.onlineComponents||(RU("FirestoreClient","Using default OnlineComponentProvider"),await wW(t,new pW)),t.onlineComponents}function CW(t){return SW(t).then(t=>t.persistence)}function kW(t){return SW(t).then(t=>t.localStore)}function TW(t){return EW(t).then(t=>t.remoteStore)}function IW(t){return EW(t).then(t=>t.syncEngine)}async function xW(t){const e=await EW(t),n=e.eventManager;return n.onListen=MK.bind(null,e.syncEngine),n.onUnlisten=VK.bind(null,e.syncEngine),n}function AW(t,e,n={}){const r=new UU;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const s=new mW({next:s=>{e.enqueueAndForget(()=>wK(t,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new VU(FU.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new VU(FU.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new kK(sB(n.path),s,{includeMetadataChanges:!0,fo:!0});return bK(t,o)}(await xW(t),t.asyncQueue,e,n,r)),r.promise}function RW(t,e,n={}){const r=new UU;return t.asyncQueue.enqueueAndForget(async()=>function(t,e,n,r,i){const s=new mW({next:n=>{e.enqueueAndForget(()=>wK(t,o)),n.fromCache&&"server"===r.source?i.reject(new VU(FU.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new kK(n,s,{includeMetadataChanges:!0,fo:!0});return bK(t,o)}(await xW(t),t.asyncQueue,e,n,r)),r.promise}class DW{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class OW{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof OW&&t.projectId===this.projectId&&t.database===this.database}}const PW=new Map;function NW(t,e,n){if(!n)throw new VU(FU.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LW(t){if(!vj.isDocumentKey(t))throw new VU(FU.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function MW(t){if(vj.isDocumentKey(t))throw new VU(FU.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function FW(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":NU()}function VW(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new VU(FU.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=FW(t);throw new VU(FU.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function UW(t,e){if(e<=0)throw new VU(FU.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class jW{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new VU(FU.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new VU(FU.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new VU(FU.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class BW{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jW({}),this._settingsFrozen=!1,t instanceof OW?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new VU(FU.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new OW(t.options.projectId)}(t))}get app(){if(!this._app)throw new VU(FU.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new VU(FU.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jW(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new BU;switch(t.type){case"gapi":const e=t.client;return LU(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new HU(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new VU(FU.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=PW.get(t);e&&(RU("ComponentProvider","Removing Datastore"),PW.delete(t),e.terminate())}(this),Promise.resolve()}}class zW{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $W(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zW(this.firestore,t,this._key)}}class qW{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new qW(this.firestore,t,this._query)}}class $W extends qW{constructor(t,e,n){super(t,e,sB(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zW(this.firestore,null,new vj(t))}withConverter(t){return new $W(this.firestore,t,this._path)}}function HW(t,e,...n){if(t=_x(t),1===arguments.length&&(e=GU.I()),NW("doc","path",e),t instanceof BW){const r=ij.fromString(e,...n);return LW(r),new zW(t,null,new vj(r))}{if(!(t instanceof zW||t instanceof $W))throw new VU(FU.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ij.fromString(e,...n));return LW(r),new zW(t.firestore,t instanceof $W?t.converter:null,new vj(r))}}function KW(t,e){return t=_x(t),e=_x(e),(t instanceof zW||t instanceof $W)&&(e instanceof zW||e instanceof $W)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function WW(t,e){return t=_x(t),e=_x(e),t instanceof qW&&e instanceof qW&&t.firestore===e.firestore&&fB(t._query,e._query)&&t.converter===e.converter}class GW{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new PH(this,"async_queue_retry"),this.Rc=()=>{const t=DH();t&&RU("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const t=DH();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=DH();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new UU;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}async vc(){if(0!==this.mc.length){try{await this.mc[0](),this.mc.shift(),this.ar.reset()}catch(PL){if(!Nq(PL))throw PL;RU("AsyncQueue","Operation failed with retryable error: "+PL)}this.mc.length>0&&this.ar.Xi(()=>this.vc())}}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(t=>{throw this.Tc=t,this.Ec=!1,DU("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.Ec=!1,t))));return this._c=e,e}enqueueAfterDelay(t,e,n){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const r=pK.createAndSchedule(this,t,e,n,t=>this.Vc(t));return this.yc.push(r),r}bc(){this.Tc&&NU()}verifyOperationInProgress(){}async Sc(){let t;do{t=this._c,await t}while(t!==this._c)}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function QW(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class ZW{constructor(){this._progressObserver={},this._taskCompletionResolver=new UU,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class YW extends BW{constructor(t,e){super(t,e),this.type="firestore",this._queue=new GW,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||JW(this),this._firestoreClient.terminate()}}function XW(t){return t._firestoreClient||JW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JW(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new DW(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vW(t._credentials,t._queue,r)}function tG(t,e,n){const r=new UU;return t.asyncQueue.enqueue(async()=>{try{await bW(t,n),await wW(t,e),r.resolve()}catch(t){if(!function(t){return"FirebaseError"===t.name?t.code===FU.FAILED_PRECONDITION||t.code===FU.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(t))throw t;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.reject(t)}}).then(()=>r.promise)}function eG(t){if(t._initialized||t._terminated)throw new VU(FU.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nG{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new VU(FU.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oj(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rG{constructor(t){this._byteString=t}static fromBase64String(t){try{return new rG(lj.fromBase64String(t))}catch(t){throw new VU(FU.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new rG(lj.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class iG{constructor(t){this._methodName=t}}class sG{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new VU(FU.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new VU(FU.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return QU(this._lat,t._lat)||QU(this._long,t._long)}}const oG=/^__.*__$/;class aG{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new KB(t,this.data,this.fieldMask,e,this.fieldTransforms):new HB(t,this.data,e,this.fieldTransforms)}}class lG{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new KB(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function cG(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw NU()}}class uG{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new uG(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:n,Fc:!1});return r.Mc(t),r}Lc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return RG(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(cG(this.kc)&&oG.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class hG{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||OH(t)}jc(t,e,n,r=!1){return new uG({kc:t,methodName:e,Kc:n,path:oj.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function dG(t){const e=t._freezeSettings(),n=OH(t._databaseId);return new hG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pG(t,e,n,r,i,s={}){const o=t.jc(s.merge||s.mergeFields?2:0,e,n,i);TG("Data must be an object, but it was:",o,r);const a=CG(r,o);let l,c;if(s.merge)l=new aj(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=IG(e,r,n);if(!o.contains(i))throw new VU(FU.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);DG(t,i)||t.push(i)}l=new aj(t),c=o.fieldTransforms.filter(t=>l.covers(t.field))}else l=null,c=o.fieldTransforms;return new aG(new Nj(a),l,c)}class fG extends iG{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fG}}function mG(t,e,n){return new uG({kc:3,Kc:e.settings.Kc,methodName:t._methodName,Fc:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class gG extends iG{_toFieldTransform(t){return new LB(t.path,new IB)}isEqual(t){return t instanceof gG}}class yG extends iG{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=mG(this,t,!0),n=this.Qc.map(t=>EG(t,e)),r=new xB(n);return new LB(t.path,r)}isEqual(t){return this===t}}class _G extends iG{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=mG(this,t,!0),n=this.Qc.map(t=>EG(t,e)),r=new RB(n);return new LB(t.path,r)}isEqual(t){return this===t}}class vG extends iG{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new OB(t.N,SB(t.N,this.Wc));return new LB(t.path,e)}isEqual(t){return this===t}}function bG(t,e,n,r){const i=t.jc(1,e,n);TG("Data must be an object, but it was:",i,r);const s=[],o=Nj.empty();ej(r,(t,r)=>{const a=AG(e,t,n);r=_x(r);const l=i.Lc(a);if(r instanceof fG)s.push(a);else{const t=EG(r,l);null!=t&&(s.push(a),o.set(a,t))}});const a=new aj(s);return new lG(o,a,i.fieldTransforms)}function wG(t,e,n,r,i,s){const o=t.jc(1,e,n),a=[IG(e,r,n)],l=[i];if(s.length%2!=0)throw new VU(FU.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(IG(e,s[d])),l.push(s[d+1]);const c=[],u=Nj.empty();for(let d=a.length-1;d>=0;--d)if(!DG(c,a[d])){const t=a[d];let e=l[d];e=_x(e);const n=o.Lc(t);if(e instanceof fG)c.push(t);else{const r=EG(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new aj(c);return new lG(u,h,o.fieldTransforms)}function SG(t,e,n,r=!1){return EG(n,t.jc(r?4:3,e))}function EG(t,e){if(kG(t=_x(t)))return TG("Unsupported field value:",e,t),CG(t,e);if(t instanceof iG)return function(t,e){if(!cG(e.kc))throw e.Uc(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Uc(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=EG(i,e.Bc(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=_x(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return SB(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=XU.fromDate(t);return{timestampValue:Rz(e.N,n)}}if(t instanceof XU){const n=new XU(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Rz(e.N,n)}}if(t instanceof sG)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rG)return{bytesValue:Dz(e.N,t._byteString)};if(t instanceof zW){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Nz(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc(`Unsupported field value: ${FW(t)}`)}(t,e)}function CG(t,e){const n={};return nj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ej(t,(t,r)=>{const i=EG(r,e.Oc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function kG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof XU||t instanceof sG||t instanceof rG||t instanceof zW||t instanceof iG)}function TG(t,e,n){if(!kG(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=FW(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function IG(t,e,n){if((e=_x(e))instanceof nG)return e._internalPath;if("string"==typeof e)return AG(t,e);throw RG("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const xG=new RegExp("[~\\*/\\[\\]]");function AG(t,e,n){if(e.search(xG)>=0)throw RG(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nG(...e.split("."))._internalPath}catch(r){throw RG(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function RG(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new VU(FU.INVALID_ARGUMENT,a+t+l)}function DG(t,e){return t.some(t=>t.isEqual(e))}class OG{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zW(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new PG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(NG("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class PG extends OG{data(){return super.data()}}function NG(t,e){return"string"==typeof e?AG(t,e):e instanceof nG?e._internalPath:e._delegate._internalPath}class LG{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class MG extends OG{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new FG(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(NG("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class FG extends MG{data(t={}){return super.data(t)}}class VG{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new LG(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new FG(this._firestore,this._userDataWriter,n.key,n,new LG(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new VU(FU.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new FG(t._firestore,t._userDataWriter,n.doc.key,n.doc,new LG(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new FG(t._firestore,t._userDataWriter,e.doc.key,e.doc,new LG(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:UG(e.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function UG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return NU()}}function jG(t){if(aB(t)&&0===t.explicitOrderBy.length)throw new VU(FU.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BG{}class zG extends BG{constructor(t,e,n){super(),this.Gc=t,this.zc=e,this.Hc=n,this.type="where"}_apply(t){const e=dG(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new VU(FU.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){QG(o,s);const e=[];for(const n of o)e.push(GG(r,t,n));a={arrayValue:{values:e}}}else a=GG(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||QG(o,s),a=SG(n,"where",o,"in"===s||"not-in"===s);const l=zj.create(i,s,a);return function(t,e){if(e.v()){const n=cB(t);if(null!==n&&!n.isEqual(e.field))throw new VU(FU.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=lB(t);null!==r&&ZG(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new VU(FU.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,l),l}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new qW(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new rB(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}class qG extends BG{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new VU(FU.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new VU(FU.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Jj(e,n);return function(t,e){if(null===lB(t)){const n=cB(t);null!==n&&ZG(0,n,e.field)}}(t,r),r}(t._query,this.Gc,this.Jc);return new qW(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new rB(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class $G extends BG{constructor(t,e,n){super(),this.type=t,this.Yc=e,this.Xc=n}_apply(t){return new qW(t.firestore,t.converter,pB(t._query,this.Yc,this.Xc))}}class HG extends BG{constructor(t,e,n){super(),this.type=t,this.Zc=e,this.ta=n}_apply(t){const e=WG(t,this.type,this.Zc,this.ta);return new qW(t.firestore,t.converter,function(t,e){return new rB(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))}}class KG extends BG{constructor(t,e,n){super(),this.type=t,this.Zc=e,this.ta=n}_apply(t){const e=WG(t,this.type,this.Zc,this.ta);return new qW(t.firestore,t.converter,function(t,e){return new rB(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))}}function WG(t,e,n,r){if(n[0]=_x(n[0]),n[0]instanceof OG)return function(t,e,n,r,i){if(!r)throw new VU(FU.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of hB(t))if(o.field.isKeyField())s.push(Ij(e,r.key));else{const t=r.data.field(o.field);if(pj(t))throw new VU(FU.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new VU(FU.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new Yj(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=dG(t.firestore);return function(t,e,n,r,i,s){const o=t.explicitOrderBy;if(i.length>o.length)throw new VU(FU.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new VU(FU.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!uB(t)&&-1!==s.indexOf("/"))throw new VU(FU.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(ij.fromString(s));if(!vj.isDocumentKey(n))throw new VU(FU.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new vj(n);a.push(Ij(e,i))}else{const t=SG(n,r,s);a.push(t)}}return new Yj(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}}function GG(t,e,n){if("string"==typeof(n=_x(n))){if(""===n)throw new VU(FU.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uB(e)&&-1!==n.indexOf("/"))throw new VU(FU.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ij.fromString(n));if(!vj.isDocumentKey(r))throw new VU(FU.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ij(t,new vj(r))}if(n instanceof zW)return Ij(t,n._key);throw new VU(FU.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${FW(n)}.`)}function QG(t,e){if(!Array.isArray(t)||0===t.length)throw new VU(FU.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new VU(FU.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function ZG(t,e,n){if(!n.isEqual(e))throw new VU(FU.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class YG{convertValue(t,e="none"){switch(bj(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hj(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dj(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw NU()}}convertObject(t,e){const n={};return ej(t.fields,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertGeoPoint(t){return new sG(hj(t.latitude),hj(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=fj(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(mj(t));default:return null}}convertTimestamp(t){const e=uj(t);return new XU(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=ij.fromString(t);LU(sq(n));const r=new OW(n.get(1),n.get(3)),i=new vj(n.popFirst(5));return r.isEqual(e)||DU(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function XG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class JG extends YG{constructor(t){super(),this.firestore=t}convertBytes(t){return new rG(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zW(this.firestore,null,e)}}class tQ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dG(t)}set(t,e,n){this._verifyNotCommitted();const r=eQ(t,this._firestore),i=XG(r.converter,e,n),s=pG(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,FB.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=eQ(t,this._firestore);let s;return s="string"==typeof(e=_x(e))||e instanceof nG?wG(this._dataReader,"WriteBatch.update",i._key,e,n,r):bG(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(s.toMutation(i._key,FB.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=eQ(t,this._firestore);return this._mutations=this._mutations.concat(new ZB(e._key,FB.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new VU(FU.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eQ(t,e){if((t=_x(t)).firestore!==e)throw new VU(FU.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class nQ extends YG{constructor(t){super(),this.firestore=t}convertBytes(t){return new rG(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zW(this.firestore,null,e)}}function rQ(t,...e){var n,r,i;t=_x(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||QW(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(QW(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let l,c,u;if(t instanceof zW)c=VW(t.firestore,YW),u=sB(t._key.path),l={next:n=>{e[o]&&e[o](sQ(c,t,n))},error:e[o+1],complete:e[o+2]};else{const n=VW(t,qW);c=VW(n.firestore,YW),u=n._query;const r=new nQ(c);l={next:t=>{e[o]&&e[o](new VG(c,r,n,t))},error:e[o+1],complete:e[o+2]},jG(t._query)}return function(t,e,n,r){const i=new mW(r),s=new kK(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>bK(await xW(t),s)),()=>{i.ec(),t.asyncQueue.enqueueAndForget(async()=>wK(await xW(t),s))}}(XW(c),u,a,l)}function iQ(t,e){return function(t,e){const n=new UU;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){const r=cW(t);try{const t=await function(t,e){const n=MU(t),r=XU.now(),i=e.reduce((t,e)=>t.add(e.key),mz());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Qn.Pn(t,i).next(i=>{s=i;const o=[];for(const t of e){const e=zB(t,s.get(t.key));null!=e&&o.push(new KB(t.key,e,Lj(e.value.mapValue),FB.exists(!0)))}return n.In.addMutationBatch(t,r,o,e)})).then(t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qo[t.currentUser.toKey()];r||(r=new rz(QU)),r=r.insert(e,n),t.qo[t.currentUser.toKey()]=r}(r,t.batchId,n),await YK(r,t.changes),await eK(r.remoteStore)}catch(t){const e=fK(t,"Failed to persist write");n.reject(e)}}(await IW(t),e,n)),n.promise}(XW(t),e)}function sQ(t,e,n){const r=n.docs.get(e._key),i=new nQ(t);return new MG(t,i,e._key,r,new LG(n.hasPendingWrites,n.fromCache),e.converter)}class oQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=dG(t)}get(t){const e=eQ(t,this._firestore),n=new JG(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return NU();const r=t[0];if(r.isFoundDocument())return new OG(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new OG(this._firestore,n,e._key,null,e.converter);throw NU()})}set(t,e,n){const r=eQ(t,this._firestore),i=XG(r.converter,e,n),s=pG(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(t,e,n,...r){const i=eQ(t,this._firestore);let s;return s="string"==typeof(e=_x(e))||e instanceof nG?wG(this._dataReader,"Transaction.update",i._key,e,n,r):bG(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,s),this}delete(t){const e=eQ(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=eQ(t,this._firestore),n=new nQ(this._firestore);return super.get(t).then(t=>new MG(this._firestore,n,e._key,t._document,new LG(!1,!1),e.converter))}}!function(t,e=!0){IU="9.4.1",Fx(new vx("firestore",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new YW(r,new qU(t.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i},"PUBLIC")),qx("@firebase/firestore","3.3.0",t),qx("@firebase/firestore","3.3.0","esm2017")}();var aQ={includeMetadataChanges:!1};function lQ(t,e){return void 0===e&&(e=aQ),new b(function(n){return{unsubscribe:rQ(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})}})}function cQ(t){return lQ(t,{includeMetadataChanges:!0})}function uQ(t,e){void 0===e&&(e={});var n=t.data();return t.exists()&&"object"==typeof n&&null!==n?(e.idField&&(n[e.idField]=t.id),n):n}var hQ=["added","modified","removed"];function dQ(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=t.slice();return s.splice.apply(s,_L([e,n],r)),s}var pQ=function(){return _(M_(void 0),t=>t.lift(new WC))},fQ=function(t,e){return JSON.stringify(t.metadata)===JSON.stringify(e.metadata)};function mQ(t,e){return void 0===e&&(e={}),lQ(t,{includeMetadataChanges:!0}).pipe(pQ(),x(function(t){var e=t[0],n=t[1],r=n.docChanges();return e&&!fQ(e,n)&&n.docs.forEach(function(t,n){var i=r.find(function(e){return KW(e.doc.ref,t.ref)});if(i){if(fQ(i.doc,t))return}else{var s=null==e?void 0:e.docs.find(function(e){return KW(e.ref,t.ref)});if(s&&fQ(s,t))return}r.push({oldIndex:n,newIndex:n,type:"modified",doc:t})}),r}),(n=e.events||hQ,xy(function(t){for(var e=!1,r=0;r<t.length;r++)if(n&&n.indexOf(t[r].type)>=0){e=!0;break}return e})),_(pQ(),xy(function(t){return t[1].length>0||void 0===t[0]}),x(function(t){return t[1]})));var n}function gQ(t){return lQ(t,{includeMetadataChanges:!0}).pipe(x(function(t){return t.docs}))}class yQ{constructor(t){return t}}yD(0,300).pipe(OD(()=>RD(oD("firestore"))),PD());const _Q=new Hn("angularfire2.firestore-instances");function vQ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new yQ(r)}}const bQ={provide:class{constructor(){return oD("firestore")}},deps:[[new pr,_Q]]},wQ={provide:yQ,useFactory:function(t,e){const n=sD("firestore",t,e);return n&&new yQ(n)},deps:[[new pr,_Q],ND]};let SQ=(()=>{class t{constructor(){qx("angularfire",iD.full,"fst")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[wQ,bQ]}),t})();function EQ(t,...e){return{ngModule:SQ,providers:[{provide:_Q,useFactory:vQ(t),multi:!0,deps:[_c,no,uD,LD,[new pr,uL],[new pr,fO],...e]}]}}gD(mQ,!0),gD(gQ,!0),gD(function(t,e){return void 0===e&&(e={}),mQ(t,e).pipe(F_(function(t,n){return function(t,e,n){return void 0===n&&(n=hQ),e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!KW(t[e.newIndex].doc.ref,e.doc.ref))return dQ(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||KW(t[e.oldIndex].doc.ref,e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return dQ(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&KW(t[e.oldIndex].doc.ref,e.doc.ref))return dQ(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n,e.events)},[]),pp())},!0),gD(function(t,e){return void 0===e&&(e={}),mQ(t,e).pipe(F_(function(t,e){return _L(_L([],t),e)},[]))},!0),gD(function(t,e){return void 0===e&&(e={}),gQ(t).pipe(x(function(t){return t.map(function(t){return uQ(t,e)})}))},!0),gD(cQ,!0),gD(function(t,e){return void 0===e&&(e={}),cQ(t).pipe(x(function(t){return uQ(t,e)}))},!0),gD(uQ,!0),gD(lQ,!0),gD(function(t,e){const n=VW(t.firestore,YW),r=HW(t),i=XG(t.converter,e);return iQ(n,[pG(dG(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,FB.exists(!1))]).then(()=>r)},!0),gD(function(...t){return new _G("arrayRemove",t)},!0),gD(function(...t){return new yG("arrayUnion",t)},!0),gD(function(t){if(t._initialized&&!t._terminated)throw new VU(FU.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new UU;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(t){if(!Dq.bt())return Promise.resolve();const e=t+"main";await Dq.delete(e)}(z$(t._databaseId,t._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise},!0);const CQ=gD(function(t,e,...n){if(t=_x(t),NW("collection","path",e),t instanceof BW){const r=ij.fromString(e,...n);return MW(r),new $W(t,null,r)}{if(!(t instanceof zW||t instanceof $W))throw new VU(FU.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ij.fromString(e,...n));return MW(r),new $W(t.firestore,null,r)}},!0),kQ=(gD(function(t,e){if(t=VW(t,BW),NW("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new VU(FU.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qW(t,null,function(t){return new rB(ij.emptyPath(),t)}(e))},!0),gD(function(t,e,n,r={}){var i;const s=(t=VW(t,BW))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&OU("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=TU.MOCK_USER;else{e=XI(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new VU(FU.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new TU(s)}t._credentials=new zU(new jU(e,n))}},!0),gD(function(t){return iQ(VW(t.firestore,YW),[new ZB(t._key,FB.none())])},!0),gD(function(){return new fG("deleteField")},!0),gD(function(t){return function(t){return t.asyncQueue.enqueue(async()=>{const e=await CW(t),n=await TW(t);return e.setNetworkEnabled(!1),async function(t){const e=MU(t);e.Wr.add(0),await BH(e),e.Hr.set("Offline")}(n)})}(XW(t=VW(t,YW)))},!0),gD(HW,!0),gD(function(){return new nG("__name__")},!0),gD(function(t,e){eG(t=VW(t,YW));const n=XW(t),r=t._freezeSettings(),i=new pW;return tG(n,i,new hW(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))},!0),gD(function(t){eG(t=VW(t,YW));const e=XW(t),n=t._freezeSettings(),r=new pW;return tG(e,r,new dW(r,n.cacheSizeBytes))},!0),gD(function(t){return function(t){return t.asyncQueue.enqueue(async()=>{const e=await CW(t),n=await TW(t);return e.setNetworkEnabled(!0),function(t){const e=MU(t);return e.Wr.delete(0),jH(e)}(n)})}(XW(t=VW(t,YW)))},!0),gD(function(...t){return new KG("endAt",t,!1)},!0),gD(function(...t){return new KG("endBefore",t,!0)},!0),gD(function(t){t=VW(t,zW);const e=VW(t.firestore,YW);return AW(XW(e),t._key).then(n=>sQ(e,t,n))},!0),gD(function(t){t=VW(t,zW);const e=VW(t.firestore,YW),n=XW(e),r=new nQ(e);return function(t,e){const n=new UU;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){try{const r=await function(t,e){const n=MU(t);return n.persistence.runTransaction("read document","readonly",t=>n.Qn.An(t,e))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new VU(FU.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const r=fK(t,`Failed to get document '${e} from cache`);n.reject(r)}}(await kW(t),e,n)),n.promise}(n,t._key).then(n=>new MG(e,r,t._key,n,new LG(null!==n&&n.hasLocalMutations,!0),t.converter))},!0),gD(function(t){t=VW(t,zW);const e=VW(t.firestore,YW);return AW(XW(e),t._key,{source:"server"}).then(n=>sQ(e,t,n))},!0),gD(function(t){t=VW(t,qW);const e=VW(t.firestore,YW),n=XW(e),r=new nQ(e);return jG(t._query),RW(n,t._query).then(n=>new VG(e,r,t,n))},!0),gD(function(t){t=VW(t,qW);const e=VW(t.firestore,YW),n=XW(e),r=new nQ(e);return function(t,e){const n=new UU;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e,n){try{const r=await eH(t,e,!0),i=new OK(e,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(t){const r=fK(t,`Failed to execute query '${e} against cache`);n.reject(r)}}(await kW(t),e,n)),n.promise}(n,t._query).then(n=>new VG(e,r,t,n))},!0),gD(function(t){t=VW(t,qW);const e=VW(t.firestore,YW),n=XW(e),r=new nQ(e);return RW(n,t._query,{source:"server"}).then(n=>new VG(e,r,t,n))},!0),gD(function(t=Bx()){return Vx(t,"firestore").getImmediate()},!0));function TQ(t,e){if(1&t){const t=Ro();ko(0,"mat-card",1),No("dblclick",function(){Oe(t);const e=Uo();return e.changeUser.emit(e.user)}),ko(1,"h2"),Xo(2),To(),ko(3,"p"),Xo(4),To(),To()}if(2&t){const t=Uo();$i(2),Jo(t.user.name),$i(2),ta(" ",t.user.occupation," ")}}gD(function(t){return new vG("increment",t)},!0),gD(function(t,e){const n=Vx(t,"firestore");if(n.isInitialized()){const t=n.getImmediate();if(ux(n.getOptions(),e))return t;throw new VU(FU.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new VU(FU.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e})},!0),gD(function(t){return UW("limit",t),new $G("limit",t,"F")},!0),gD(function(t){return UW("limitToLast",t),new $G("limitToLast",t,"L")},!0),gD(function(t,e){const n=XW(t=VW(t,YW)),r=new ZW;return function(t,e,n,r){const i=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,function(t,e){return new gW(t,e)}(function(t,e){if(t instanceof Uint8Array)return fW(t,e);if(t instanceof ArrayBuffer)return fW(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),e)}(n,OH(e));t.asyncQueue.enqueueAndForget(async()=>{!function(t,e,n){const r=MU(t);(async function(t,e,n){try{const r=await e.getMetadata();if(await function(t,e){const n=MU(t),r=Pz(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Je.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(r)>=0)}(t.localStore,r))return await e.close(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r));n._updateProgress(AK(r));const i=new xK(r,t.localStore,e.N);let s=await e.zo();for(;s;){const t=await i.mo(s);t&&n._updateProgress(t),s=await e.zo()}const o=await i.complete();await YK(t,o.En,void 0),await function(t,e){const n=MU(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Je.saveBundleMetadata(t,e))}(t.localStore,r),n._completeWith(o.progress)}catch(t){OU("SyncEngine",`Loading bundle failed with ${t}`),n._failWith(t)}})(r,e,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await IW(t),i,r)})}(n,t._databaseId,e,r),r},!0),gD(function(t,e){return function(t,e){return t.asyncQueue.enqueue(async()=>function(t,e){const n=MU(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Je.getNamedQuery(t,e))}(await kW(t),e))}(XW(t=VW(t,YW)),e).then(e=>e?new qW(t,null,e.query):null)},!0),gD(rQ,!0),gD(function(t,e){return function(t,e){const n=new mW(e);return t.asyncQueue.enqueueAndForget(async()=>function(t,e){MU(t).so.add(e),e.next()}(await xW(t),n)),()=>{n.ec(),t.asyncQueue.enqueueAndForget(async()=>function(t,e){MU(t).so.delete(e)}(await xW(t),n))}}(XW(t=VW(t,YW)),QW(e)?e:{next:e})},!0),gD(function(t,e="asc"){const n=e,r=NG("orderBy",t);return new qG(r,n)},!0),gD(function(t,...e){for(const n of e)t=n._apply(t);return t},!0),gD(WW,!0),gD(KW,!0),gD(function(t,e){return function(t,e){const n=new UU;return t.asyncQueue.enqueueAndForget(async()=>{const r=await function(t){return EW(t).then(t=>t.datastore)}(t);new _W(t.asyncQueue,r,e,n).run()}),n.promise}(XW(t=VW(t,YW)),n=>e(new oQ(t,n)))},!0),gD(function(){return new gG("serverTimestamp")},!0),gD(function(t,e,n){t=VW(t,zW);const r=VW(t.firestore,YW),i=XG(t.converter,e,n);return iQ(r,[pG(dG(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,FB.none())])},!0),gD(function(t){xU.setLogLevel(t)},!0),gD(function(t,e){return t instanceof MG&&e instanceof MG?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof VG&&e instanceof VG&&t._firestore===e._firestore&&WW(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)},!0),gD(function(...t){return new HG("startAfter",t,!1)},!0),gD(function(...t){return new HG("startAt",t,!0)},!0),gD(function(t){return function(t,e,n="[DEFAULT]"){Vx(t,"firestore").clearInstance(n)}(t.app),t._delete()},!0),gD(function(t,e,n,...r){t=VW(t,zW);const i=VW(t.firestore,YW),s=dG(i);let o;return o="string"==typeof(e=_x(e))||e instanceof nG?wG(s,"updateDoc",t._key,e,n,r):bG(s,"updateDoc",t._key,e),iQ(i,[o.toMutation(t._key,FB.exists(!0))])},!0),gD(function(t){return function(t){const e=new UU;return t.asyncQueue.enqueueAndForget(async()=>async function(t,e){const n=MU(t);GH(n.remoteStore)||RU("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=await function(t){const e=MU(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.In.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const r=n.Ko.get(t)||[];r.push(e),n.Ko.set(t,r)}catch(t){const n=fK(t,"Initialization of waitForPendingWrites() operation failed");e.reject(n)}}(await IW(t),e)),e.promise}(XW(t=VW(t,YW)))},!0),gD(function(t,e,n){const r=e,i=NG("where",t);return new zG(i,r,n)},!0),gD(function(t){return XW(t=VW(t,YW)),new tQ(t,e=>iQ(t,e))},!0);let IQ=(()=>{class t{constructor(){this.user=null,this.changeUser=new Dl}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["grid"]],inputs:{user:"user"},outputs:{changeUser:"changeUser"},decls:1,vars:1,consts:[["class","item",3,"dblclick",4,"ngIf"],[1,"item",3,"dblclick"]],template:function(t,e){1&t&&bo(0,TQ,5,2,"mat-card",0),2&t&&Eo("ngIf",e.user)},directives:[Su,AC],styles:[""]}),t})();function xQ(t,e){1&t&&(ko(0,"p",11),Xo(1,"Empty list"),To())}function AQ(t,e){if(1&t){const t=Ro();ko(0,"grid",12),No("edit",function(e){return Oe(t),Uo().editUser("users",e)}),To()}2&t&&Eo("user",e.$implicit)}function RQ(t,e){1&t&&(ko(0,"p",11),Xo(1,"Empty list"),To())}function DQ(t,e){if(1&t){const t=Ro();ko(0,"grid",12),No("edit",function(e){return Oe(t),Uo().editUser("inProgress",e)}),To()}2&t&&Eo("user",e.$implicit)}function OQ(t,e){1&t&&(ko(0,"p",11),Xo(1,"Empty list"),To())}function PQ(t,e){if(1&t){const t=Ro();ko(0,"grid",12),No("edit",function(e){return Oe(t),Uo().editUser("done",e)}),To()}2&t&&Eo("user",e.$implicit)}const NQ=function(t,e){return[t,e]};let LQ=(()=>{class t{constructor(t,e){this.dialog=t,this.users=[{id:1,name:"Jane",age:18,occupation:"homefull"},{id:2,name:"Bruce",age:22,occupation:"Manager"}],this.inProgress=[],this.done=[],CQ(e,"users")}ngOnInit(){}editUser(t,e){}newUser(){this.dialog.open(WI,{width:"270px",data:{user:{}}}).afterClosed().subscribe(t=>{t&&this.users.push(t.user)})}drop(t){t.previousContainer!==t.container&&t.container.data&&t.previousContainer.data&&function(t,e,n,r){const i=LT(n,t.length-1),s=LT(r,e.length);t.length&&e.splice(s,0,t.splice(i,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}}return t.\u0275fac=function(e){return new(e||t)(So(Gk),So(yQ))},t.\u0275cmp=Ht({type:t,selectors:[["grid-container"]],decls:26,vars:21,consts:[[1,"container-wrapper"],["mat-button","",3,"click"],[1,"container"],["cdkDropList","","id","users",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["usersList","cdkDropList"],["class","empty-label",4,"ngIf"],["cdkDrag","",3,"user","edit",4,"ngFor","ngForOf"],["cdkDropList","","id","inProgress",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["inProgressList","cdkDropList"],["cdkDropList","","id","done",1,"list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["doneList","cdkDropList"],[1,"empty-label"],["cdkDrag","",3,"user","edit"]],template:function(t,e){if(1&t&&(ko(0,"div",0),ko(1,"button",1),No("click",function(){return e.newUser()}),ko(2,"mat-icon"),Xo(3,"add"),To(),Xo(4," Add User "),To(),ko(5,"div",2),ko(6,"h2"),Xo(7,"Backlog"),To(),ko(8,"mat-card",3,4),No("cdkDropListDropped",function(t){return e.drop(t)}),bo(10,xQ,2,0,"p",5),bo(11,AQ,1,1,"grid",6),To(),To(),ko(12,"div",2),ko(13,"h2"),Xo(14,"In progress"),To(),ko(15,"mat-card",7,8),No("cdkDropListDropped",function(t){return e.drop(t)}),bo(17,RQ,2,0,"p",5),bo(18,DQ,1,1,"grid",6),To(),To(),ko(19,"div",2),ko(20,"h2"),Xo(21,"Done"),To(),ko(22,"mat-card",9,10),No("cdkDropListDropped",function(t){return e.drop(t)}),bo(24,OQ,2,0,"p",5),bo(25,PQ,1,1,"grid",6),To(),To(),To()),2&t){const t=wo(9),n=wo(16),r=wo(23);$i(8),Eo("cdkDropListData",e.users)("cdkDropListConnectedTo",kl(12,NQ,r,n)),$i(2),Eo("ngIf",0===e.users.length),$i(1),Eo("ngForOf",e.users),$i(4),Eo("cdkDropListData",e.inProgress)("cdkDropListConnectedTo",kl(15,NQ,t,r)),$i(2),Eo("ngIf",0===e.inProgress.length),$i(1),Eo("ngForOf",e.inProgress),$i(4),Eo("cdkDropListData",e.done)("cdkDropListConnectedTo",kl(18,NQ,t,n)),$i(2),Eo("ngIf",0===e.done.length),$i(1),Eo("ngForOf",e.done)}},directives:[LC,S_,AC,YT,Su,bu,IQ,eI],styles:[""]}),t})();const MQ={projectId:"alltest-b9956",appId:"1:1038999996089:web:42ca97e1097137e2d9fd68",storageBucket:"alltest-b9956.appspot.com",locationId:"europe-west",apiKey:"AIzaSyC0RsxolrJvTX2G-1H5361vQyRtzktMJ8k",authDomain:"alltest-b9956.firebaseapp.com",messagingSenderId:"1038999996089"};class FQ extends ax{constructor(t,e){super(VQ(t),`Firebase Storage: ${e} (${VQ(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,FQ.prototype)}_codeEquals(t){return VQ(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function VQ(t){return"storage/"+t}function UQ(){return new FQ("unknown","An unknown error occurred, please check the error payload for server response.")}function jQ(){return new FQ("canceled","User canceled the upload/download.")}function BQ(){return new FQ("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zQ(t){return new FQ("invalid-argument",t)}function qQ(){return new FQ("app-deleted","The Firebase app was deleted.")}function $Q(t,e){return new FQ("invalid-format","String does not match format '"+t+"': "+e)}function HQ(t){throw new FQ("internal-error","Internal error: "+t)}class KQ{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=KQ.makeFromUrl(t,e)}catch(r){return new KQ(t,"")}if(""===n.path)return n;throw new FQ("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let n=null;const r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}const s=e.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp(`^https?://${"firebasestorage.googleapis.com"===e?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/([A-Za-z0-9.\\-_]+)/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:i}];for(let a=0;a<o.length;a++){const e=o[a],r=e.regex.exec(t);if(r){let t=r[e.indices.path];t||(t=""),n=new KQ(r[e.indices.bucket],t),e.postModify(n);break}}if(null==n)throw function(t){return new FQ("invalid-url","Invalid URL '"+t+"'.")}(t);return n}}class WQ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function GQ(t){return"string"==typeof t||t instanceof String}function QQ(t){return ZQ()&&t instanceof Blob}function ZQ(){return"undefined"!=typeof Blob}function YQ(t,e,n,r){if(r<e)throw zQ(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zQ(`Invalid value for '${t}'. Expected ${n} or less.`)}function XQ(t,e,n){let r=e;return null==n&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function JQ(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}var tZ=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({});class eZ{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()})}start_(){const t=(t,e)=>{const n=this.resolve_,r=this.reject_,i=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(i,i.getResponseText());!function(t){return void 0!==t}(t)?n():n(t)}catch(s){r(s)}else if(null!==i){const t=UQ();t.serverResponse=i.getResponseText(),r(this.errorCallback_?this.errorCallback_(i,t):t)}else r(e.canceled?this.appDelete_?qQ():jQ():new FQ("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new nZ(!1,null,!0)):this.backoffId_=function(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...t){c||(c=!0,e.apply(null,t))}function h(e){i=setTimeout(()=>{i=null,t(p,l())},e)}function d(){s&&clearTimeout(s)}function p(t,...e){if(c)return void d();if(t)return d(),void u.call(null,t,...e);if(l()||o)return d(),void u.call(null,t,...e);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function m(t){f||(f=!0,d(),c||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((t,e)=>{if(e)return void t(!1,new nZ(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=t=>{null!==this.progressCallback_&&this.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const e=n.getErrorCode()===tZ.NO_ERROR,i=n.getStatus();if(!e||this.isRetryStatusCode_(i)){const e=n.getErrorCode()===tZ.ABORT;return void t(!1,new nZ(!1,null,e))}const s=-1!==this.successCodes_.indexOf(i);t(!0,new nZ(s,n))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r}}class nZ{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}function rZ(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function iZ(...t){const e=rZ();if(void 0!==e){const n=new e;for(let e=0;e<t.length;e++)n.append(t[e]);return n.getBlob()}if(ZQ())return new Blob(t);throw new FQ("unsupported-environment","This browser doesn't seem to support creating Blobs")}class sZ{constructor(t,e){this.data=t,this.contentType=e||null}}function oZ(t,e){switch(t){case"raw":return new sZ(aZ(e));case"base64":case"base64url":return new sZ(lZ(t,e));case"data_url":return new sZ(function(t){const e=new cZ(t);return e.base64?lZ("base64",e.rest):function(t){let e;try{e=decodeURIComponent(t)}catch(n){throw $Q("data_url","Malformed data URL.")}return aZ(e)}(e.rest)}(e),new cZ(e).contentType)}throw UQ()}function aZ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function lZ(t,e){switch(t){case"base64":{const n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw $Q(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const n=-1!==e.indexOf("+"),r=-1!==e.indexOf("/");if(n||r)throw $Q(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(e)}catch(i){throw $Q(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class cZ{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw $Q("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const n=e[1]||null;var r;null!=n&&(this.base64=(r=n).length>=";base64".length&&";base64"===r.substring(r.length-";base64".length),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}}class uZ{constructor(t,e){let n=0,r="";QQ(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(QQ(this.data_)){const s=(r=t,i=e,(n=this.data_).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new uZ(s)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,t,e-t);return new uZ(n,!0)}}static getBlob(...t){if(ZQ()){const e=t.map(t=>t instanceof uZ?t.data_:t);return new uZ(iZ.apply(null,e))}{const e=t.map(t=>GQ(t)?oZ("raw",t).data:t.data_);let n=0;e.forEach(t=>{n+=t.byteLength});const r=new Uint8Array(n);let i=0;return e.forEach(t=>{for(let e=0;e<t.length;e++)r[i++]=t[e]}),new uZ(r,!0)}}uploadData(){return this.data_}}function hZ(t){let e;try{e=JSON.parse(t)}catch(n){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function dZ(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function pZ(t,e){return e}class fZ{constructor(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||pZ}}let mZ=null;function gZ(){if(mZ)return mZ;const t=[];t.push(new fZ("bucket")),t.push(new fZ("generation")),t.push(new fZ("metageneration")),t.push(new fZ("name","fullPath",!0));const e=new fZ("name");e.xform=function(t,e){return function(t){return!GQ(t)||t.length<2?t:dZ(t)}(e)},t.push(e);const n=new fZ("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new fZ("timeCreated")),t.push(new fZ("updated")),t.push(new fZ("md5Hash",null,!0)),t.push(new fZ("cacheControl",null,!0)),t.push(new fZ("contentDisposition",null,!0)),t.push(new fZ("contentEncoding",null,!0)),t.push(new fZ("contentLanguage",null,!0)),t.push(new fZ("contentType",null,!0)),t.push(new fZ("metadata","customMetadata",!0)),mZ=t,mZ}function yZ(t,e,n){const r=hZ(e);return null===r?null:function(t,e,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const t=n[s];r[t.local]=t.xform(r,e[t.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){const n=new KQ(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function _Z(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class vZ{constructor(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bZ(t){if(!t)throw UQ()}function wZ(t,e){return function(n,r){const i=yZ(t,r,e);return bZ(null!==i),i}}function SZ(t){return function(e,n){let r;return r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new FQ("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new FQ("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new FQ("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new FQ("unauthorized","User does not have permission to access '"+t.path+"'."):n,r.serverResponse=n.serverResponse,r}}function EZ(t){const e=SZ(t);return function(n,r){let i=e(n,r);return 404===n.getStatus()&&(i=new FQ("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function CZ(t,e,n){const r=XQ(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,s=new vZ(r,"GET",wZ(t,n),i);return s.errorHandler=EZ(e),s}function kZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}function TZ(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){let t="";for(let e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;const l=kZ(e,r,i),c=_Z(l,n),u=uZ.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw BQ();const h={name:l.fullPath},d=XQ(s,t.host,t._protocol),p=t.maxUploadRetryTime,f=new vZ(d,"POST",wZ(t,n),p);return f.urlParams=h,f.headers=o,f.body=u.uploadData(),f.errorHandler=SZ(e),f}class IZ{constructor(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}function xZ(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){bZ(!1)}return bZ(!!n&&-1!==(e||["active"]).indexOf(n)),n}function AZ(t){switch(t){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":default:return"error"}}class RZ{constructor(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=n?n:void 0;else{const e=t;this.next=e.next,this.error=e.error,this.complete=e.complete}}}function DZ(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class OZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=tZ.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tZ.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tZ.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,n,r){if(this.sent_)throw HQ("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw HQ("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw HQ("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponseText(){if(!this.sent_)throw HQ("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}function PZ(){return new OZ}class NZ{constructor(t,e,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=gZ(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=t=>{this._request=void 0,this._chunkMultiplier=1,t._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=t,this._transition("error"))},this._metadataErrorHandler=t=>{this._request=void 0,t._codeEquals("canceled")?this.completeTransitions_():(this._error=t,this._transition("error"))},this._promise=new Promise((t,e)=>{this._resolve=t,this._reject=e,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,n])=>{switch(this._state){case"running":t(e,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const n=function(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=kZ(e,r,i),a={name:o.fullPath},l=XQ(s,t.host,t._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=_Z(o,n),h=new vZ(l,"POST",function(t){let e;xZ(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){bZ(!1)}return bZ(GQ(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=SZ(e),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,PZ,t,e);this._request=r,r.getPromise().then(t=>{this._request=void 0,this._uploadUrl=t,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,n)=>{const r=function(t,e,n,r){const i=new vZ(n,"POST",function(t){const e=xZ(t,["active","final"]);let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){bZ(!1)}n||bZ(!1);const i=Number(n);return bZ(!isNaN(i)),new IZ(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=SZ(e),i}(this._ref.storage,this._ref._location,t,this._blob),i=this._ref.storage._makeRequest(r,PZ,e,n);this._request=i,i.getPromise().then(t=>{t=t,this._request=void 0,this._updateProgress(t.current),this._needToFetchStatus=!1,t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new IZ(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let s;try{s=function(t,e,n,r,i,s,o,a){const l=new IZ(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new FQ("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const h=l.current,d={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},p=r.slice(h,h+u);if(null===p)throw BQ();const f=new vZ(n,"POST",function(t,n){const i=xZ(t,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?wZ(e,s)(t,n):null,new IZ(o,a,"final"===i,c)},e.maxUploadRetryTime);return f.headers=d,f.body=p.uploadData(),f.progressCallback=a||null,f.errorHandler=SZ(t),f}(this._ref._location,this._ref.storage,n,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,PZ,r,i);this._request=o,o.getPromise().then(t=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(t.current),t.finalized?(this._metadata=t.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const n=CZ(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,PZ,t,e);this._request=r,r.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const n=TZ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,PZ,t,e);this._request=r,r.getPromise().then(t=>{this._request=void 0,this._metadata=t,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=jQ(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=AZ(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,n,r){const i=new RZ(e||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(AZ(this._state)){case"success":DZ(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":DZ(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(AZ(this._state)){case"running":case"paused":t.next&&DZ(t.next.bind(t,this.snapshot))();break;case"success":t.complete&&DZ(t.complete.bind(t))();break;case"canceled":case"error":t.error&&DZ(t.error.bind(t,this._error))();break;default:t.error&&DZ(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class LZ{constructor(t,e){this._service=t,this._location=e instanceof KQ?e:KQ.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new LZ(t,e)}get root(){const t=new KQ(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dZ(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new KQ(this._location.bucket,t);return new LZ(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new FQ("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function MZ(t,e,n){t._throwIfRoot("uploadBytes");const r=TZ(t.storage,t._location,gZ(),new uZ(e,!0),n);return t.storage.makeRequestWithTokens(r,PZ).then(e=>({metadata:e,ref:t}))}function FZ(t){const e={prefixes:[],items:[]};return VZ(t,e).then(()=>e)}async function VZ(t,e,n){const r={pageToken:n},i=await UZ(t,r);e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&await VZ(t,e,i.nextPageToken)}function UZ(t,e){null!=e&&"number"==typeof e.maxResults&&YQ("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=function(t,e,n,r,i){const s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=XQ(e.bucketOnlyServerUrl(),t.host,t._protocol),a=t.maxOperationRetryTime,l=new vZ(o,"GET",function(t,e){return function(n,r){const i=function(t,e,n){const r=hZ(n);return null===r?null:function(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),s=t._makeStorageReference(new KQ(e,n));r.prefixes.push(s)}if(n.items)for(const i of n.items){const n=t._makeStorageReference(new KQ(e,i.name));r.items.push(n)}return r}(t,e,r)}(t,e,r);return bZ(null!==i),i}}(t,e.bucket),a);return l.urlParams=s,l.errorHandler=SZ(e),l}(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,PZ)}function jZ(t,e){if(t instanceof zZ){const n=t;if(null==n._bucket)throw new FQ("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new LZ(n,n._bucket);return null!=e?jZ(r,e):r}return void 0!==e?function(t,e){const n=function(t,e){const n=e.split("/").filter(t=>t.length>0).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new KQ(t._location.bucket,n);return new LZ(t.storage,r)}(t,e):t}function BZ(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:KQ.makeFromBucketSpec(n,t)}class zZ{constructor(t,e,n,r,i){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host="firebasestorage.googleapis.com",this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?KQ.makeFromBucketSpec(r,this._host):BZ(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?KQ.makeFromBucketSpec(this._url,t):BZ(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){YQ("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){YQ("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new LZ(this,t)}_makeRequest(t,e,n,r){if(this._deleted)return new WQ(qQ());{const i=function(t,e,n,r,i,s){const o=JQ(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(l,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(l,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(l,s),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(l,r),new eZ(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,n,r,e,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(t,e){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()}}function qZ(t){return new b(function(e){var n=function(t){return e.next(t)};n(t.snapshot);var r=t.on("state_changed",n);return t.then(function(t){n(t),setTimeout(function(){return e.complete()},0)},function(r){n(t.snapshot),setTimeout(function(){return function(t){return e.error(t)}(r)},0)}),function(){r()}}).pipe(Hp(0))}Fx(new vx("storage",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zZ(n,r,i,e,"9.4.1")},"PUBLIC").setMultipleInstances(!0)),qx("@firebase/storage","0.8.7",""),qx("@firebase/storage","0.8.7","esm2017");class $Z{constructor(t){return t}}yD(0,300).pipe(OD(()=>RD(oD("storage"))),PD());const HZ=new Hn("angularfire2.storage-instances");function KZ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $Z(r)}}const WZ={provide:class{constructor(){return oD("storage")}},deps:[[new pr,HZ]]},GZ={provide:$Z,useFactory:function(t,e){const n=sD("storage",t,e);return n&&new $Z(n)},deps:[[new pr,HZ],ND]};let QZ=(()=>{class t{constructor(){qx("angularfire",iD.full,"gcs")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({providers:[GZ,WZ]}),t})();function ZZ(t,...e){return{ngModule:QZ,providers:[{provide:HZ,useFactory:KZ(t),multi:!0,deps:[_c,no,uD,LD,[new pr,uL],[new pr,fO],...e]}]}}gD(qZ,!0),gD(function(t){return qZ(t).pipe(x(function(t){return{progress:t.bytesTransferred/t.totalBytes*100,snapshot:t}}))},!0),gD(function(t,e,n,r={}){!function(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:XI(i,t.app.options.projectId))}(t,e,n,r)},!0),gD(function(t){return function(t){t._throwIfRoot("deleteObject");const e=function(t,e){const n=XQ(e.fullServerUrl(),t.host,t._protocol),r=new vZ(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=EZ(e),r}(t.storage,t._location);return t.storage.makeRequestWithTokens(e,PZ)}(t=_x(t))},!0),gD(function(t){return function(t){t._throwIfRoot("getDownloadURL");const e=function(t,e,n){const r=XQ(e.fullServerUrl(),t.host,t._protocol),i=t.maxOperationRetryTime,s=new vZ(r,"GET",function(t,e){return function(n,r){const i=yZ(t,r,e);return bZ(null!==i),function(t,e,n,r){const i=hZ(e);if(null===i)return null;if(!GQ(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(e=>{const i=t.fullPath;return XQ("/b/"+o(t.bucket)+"/o/"+o(i),n,r)+JQ({alt:"media",token:e})})[0]}(i,r,t.host,t._protocol)}}(t,n),i);return s.errorHandler=EZ(e),s}(t.storage,t._location,gZ());return t.storage.makeRequestWithTokens(e,PZ).then(t=>{if(null===t)throw new FQ("no-download-url","The given file does not have any download URLs.");return t})}(t=_x(t))},!0),gD(function(t){return function(t){t._throwIfRoot("getMetadata");const e=CZ(t.storage,t._location,gZ());return t.storage.makeRequestWithTokens(e,PZ)}(t=_x(t))},!0);const YZ=gD(function(t=Bx(),e){return Vx(t=_x(t),"storage").getImmediate({identifier:e})},!0);gD(function(t,e){return UZ(t=_x(t),e)},!0),gD(function(t){return FZ(t=_x(t))},!0),gD(function(t,e){return function(t,e){if(e&&/^[A-Za-z]+:\/\//.test(e)){if(t instanceof zZ)return new LZ(t,e);throw zQ("To use ref(service, url), the first argument must be a Storage instance.")}return jZ(t,e)}(t=_x(t),e)},!0),gD(function(t,e){return function(t,e){t._throwIfRoot("updateMetadata");const n=function(t,e,n,r){const i=XQ(e.fullServerUrl(),t.host,t._protocol),s=_Z(n,r),o=t.maxOperationRetryTime,a=new vZ(i,"PATCH",wZ(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=EZ(e),a}(t.storage,t._location,e,gZ());return t.storage.makeRequestWithTokens(n,PZ)}(t=_x(t),e)},!0),gD(function(t,e,n){return MZ(t=_x(t),e,n)},!0),gD(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new NZ(t,new uZ(e),n)}(t=_x(t),e,n)},!0),gD(function(t,e,n,r){return function(t,e,n="raw",r){t._throwIfRoot("uploadString");const i=oZ(n,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),MZ(t,i.data,s)}(t=_x(t),e,n,r)},!0);let XZ=(()=>{class t{constructor(){this.form=new Sd({username:new wd("default",[Nh.required]),password:new wd("123",[Nh.required])})}ngOnInit(){}login(){console.log(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["auth-form"]],decls:13,vars:1,consts:[[1,"container"],["action","",1,"form",3,"formGroup"],[1,"form__input","input-group","mb-3"],["for","username"],["type","text","name","username","formControlName","username",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],[1,"input-group"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(ko(0,"div",0),ko(1,"form",1),ko(2,"div",2),ko(3,"label",3),Xo(4,"Username:"),To(),Io(5,"input",4),To(),ko(6,"div",2),ko(7,"label",5),Xo(8,"password:"),To(),Io(9,"input",6),To(),ko(10,"div",7),ko(11,"button",8),No("click",function(){return e.login()}),Xo(12,"Log in"),To(),To(),To(),To()),2&t&&($i(1),Eo("formGroup",e.form))},directives:[Rd,nd,Md,xh,ed,Vd],styles:[""]}),t})();const JZ=new Hn("JWT_OPTIONS");let tY=(()=>{class t{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(t){let e="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let n,r,i=0,s=0;r=t.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?e+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return e}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){if(!t||""===t)return null;const e=t.split(".");if(3!==e.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const n=this.urlBase64Decode(e[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}getTokenExpirationDate(t=this.tokenGetter()){let e;if(e=this.decodeToken(t),!e||!e.hasOwnProperty("exp"))return null;const n=new Date(0);return n.setUTCSeconds(e.exp),n}isTokenExpired(t=this.tokenGetter(),e){if(!t||""===t)return!0;const n=this.getTokenExpirationDate(t);return e=e||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*e)}getAuthScheme(t,e){return"function"==typeof t?t(e):t}}return t.\u0275fac=function(e){return new(e||t)(lr(JZ))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),eY=(()=>{class t{constructor(t,e,n){this.jwtHelper=e,this.document=n,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.allowedDomains=t.allowedDomains||[],this.disallowedRoutes=t.disallowedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}isAllowedDomain(t){const e=new URL(t.url,this.document.location.origin);if(e.host===this.document.location.host)return!0;const n=`${e.hostname}${e.port&&!this.standardPorts.includes(e.port)?":"+e.port:""}`;return this.allowedDomains.findIndex(t=>"string"==typeof t?t===n:t instanceof RegExp&&t.test(n))>-1}isDisallowedRoute(t){const e=new URL(t.url,this.document.location.origin);return this.disallowedRoutes.findIndex(n=>{if("string"==typeof n){const t=new URL(n,this.document.location.origin);return t.hostname===e.hostname&&t.pathname===e.pathname}return n instanceof RegExp&&n.test(t.url)})>-1}handleInterception(t,e,n){const r=this.jwtHelper.getAuthScheme(this.authScheme,e);let i=!1;if(!t&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(i=!t||this.jwtHelper.isTokenExpired(t)),t&&i&&this.skipWhenExpired?e=e.clone():t&&(e=e.clone({setHeaders:{[this.headerName]:`${r}${t}`}})),n.handle(e)}intercept(t,e){if(!this.isAllowedDomain(t)||this.isDisallowedRoute(t))return e.handle(t);const n=this.tokenGetter(t);return n instanceof Promise?V(n).pipe(z(n=>this.handleInterception(n,t,e))):this.handleInterception(n,t,e)}}return t.\u0275fac=function(e){return new(e||t)(lr(JZ),lr(tY),lr(Zc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),nY=(()=>{class t{constructor(t){if(t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(e){return{ngModule:t,providers:[{provide:Yy,useClass:eY,multi:!0},e.jwtOptionsProvider||{provide:JZ,useValue:e.config},tY]}}}return t.\u0275fac=function(e){return new(e||t)(lr(t,12))},t.\u0275mod=Qt({type:t}),t.\u0275inj=mt({}),t})();function rY(){return localStorage.getItem("access_token")}const iY=[{path:"",redirectTo:"about",pathMatch:"full"},{path:"forms",component:tS},{path:"binding",component:fS},{path:"about",component:eS},{path:"directives",component:bS},{path:"storeview",component:uC},{path:"reactiveform",component:TC},{path:"grid",component:LQ},{path:"crud",component:aT},{path:"auth",component:XZ}];let sY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qt({type:t,bootstrap:[Qw]}),t.\u0275inj=mt({imports:[[_h,tp,Zw,jw.forRoot(iY),$E.forRoot({books:hC,collection:dC}),ep,CC,qg,l_,fy,E_,RC,rI,MC,qI,Yk,BD(()=>zD(MQ)),gL(()=>yL()),EQ(()=>kQ()),ZZ(()=>YZ()),l_,nY.forRoot({config:{tokenGetter:rY,allowedDomains:["localhost"],disallowedRoutes:["http://example.com/examplebadroute/"]}})]]}),t})();gh().bootstrapModule(sY)}},function(t){"use strict";t(t.s=9568)}]);